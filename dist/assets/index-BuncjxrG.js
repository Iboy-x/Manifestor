var U0=t=>{throw TypeError(t)};var Of=(t,e,n)=>e.has(t)||U0("Cannot "+n);var $=(t,e,n)=>(Of(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(Of(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(Of(t,e,"access private method"),n);var eu=(t,e,n,r)=>({set _(s){Ee(t,e,s,n)},get _(){return $(t,e,r)}});function ak(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function P1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k1={exports:{}},gh={},A1={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),lk=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),uk=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),fk=Symbol.for("react.context"),pk=Symbol.for("react.forward_ref"),mk=Symbol.for("react.suspense"),gk=Symbol.for("react.memo"),yk=Symbol.for("react.lazy"),$0=Symbol.iterator;function vk(t){return t===null||typeof t!="object"?null:(t=$0&&t[$0]||t["@@iterator"],typeof t=="function"?t:null)}var R1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D1=Object.assign,j1={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||R1}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O1(){}O1.prototype=Ta.prototype;function Rg(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||R1}var Dg=Rg.prototype=new O1;Dg.constructor=Rg;D1(Dg,Ta.prototype);Dg.isPureReactComponent=!0;var z0=Array.isArray,M1=Object.prototype.hasOwnProperty,jg={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)M1.call(e,r)&&!L1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gc,type:t,key:i,ref:o,props:s,_owner:jg.current}}function wk(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function xk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var B0=/\/+/g;function Mf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xk(""+t.key):e.toString(36)}function ju(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gc:case lk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Mf(o,0):r,z0(s)?(n="",t!=null&&(n=t.replace(B0,"$&/")+"/"),ju(s,e,n,"",function(u){return u})):s!=null&&(Og(s)&&(s=wk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(B0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",z0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Mf(i,a);o+=ju(i,e,n,l,s)}else if(l=vk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Mf(i,a++),o+=ju(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tu(t,e,n){if(t==null)return t;var r=[],s=0;return ju(t,r,"","",function(i){return e.call(n,i,s++)}),r}function _k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},Ou={transition:null},Ek={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:jg};function F1(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:tu,forEach:function(t,e,n){tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tu(t,function(){e++}),e},toArray:function(t){return tu(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Ta;Se.Fragment=ck;Se.Profiler=dk;Se.PureComponent=Rg;Se.StrictMode=uk;Se.Suspense=mk;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;Se.act=F1;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)M1.call(e,l)&&!L1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gc,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:fk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hk,_context:t},t.Consumer=t};Se.createElement=V1;Se.createFactory=function(t){var e=V1.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:pk,render:t}};Se.isValidElement=Og;Se.lazy=function(t){return{$$typeof:yk,_payload:{_status:-1,_result:t},_init:_k}};Se.memo=function(t,e){return{$$typeof:gk,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};Se.unstable_act=F1;Se.useCallback=function(t,e){return tn.current.useCallback(t,e)};Se.useContext=function(t){return tn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return tn.current.useEffect(t,e)};Se.useId=function(){return tn.current.useId()};Se.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return tn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Se.useRef=function(t){return tn.current.useRef(t)};Se.useState=function(t){return tn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return tn.current.useTransition()};Se.version="18.3.1";A1.exports=Se;var g=A1.exports;const Y=P1(g),U1=ak({__proto__:null,default:Y},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=g,Sk=Symbol.for("react.element"),bk=Symbol.for("react.fragment"),Ck=Object.prototype.hasOwnProperty,Ik=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nk={key:!0,ref:!0,__self:!0,__source:!0};function $1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ck.call(e,r)&&!Nk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Sk,type:t,key:i,ref:o,props:s,_owner:Ik.current}}gh.Fragment=bk;gh.jsx=$1;gh.jsxs=$1;k1.exports=gh;var d=k1.exports,z1={exports:{}},Cn={},B1={exports:{}},W1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var q=X-1>>>1,J=L[q];if(0<s(J,z))L[q]=z,L[X]=J,X=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var q=0,J=L.length,ee=J>>>1;q<ee;){var oe=2*(q+1)-1,be=L[oe],we=oe+1,ne=L[we];if(0>s(be,X))we<J&&0>s(ne,be)?(L[q]=ne,L[we]=X,q=we):(L[q]=be,L[oe]=X,q=oe);else if(we<J&&0>s(ne,X))L[q]=ne,L[we]=X,q=we;else break e}}return z}function s(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,f=3,w=!1,E=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function k(L){if(y=!1,S(L),!E)if(n(l)!==null)E=!0,G(j);else{var z=n(u);z!==null&&se(k,z.startTime-L)}}function j(L,z){E=!1,y&&(y=!1,x(b),b=-1),w=!0;var X=f;try{for(S(z),p=n(l);p!==null&&(!(p.expirationTime>z)||L&&!R());){var q=p.callback;if(typeof q=="function"){p.callback=null,f=p.priorityLevel;var J=q(p.expirationTime<=z);z=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),S(z)}else r(l);p=n(l)}if(p!==null)var ee=!0;else{var oe=n(u);oe!==null&&se(k,oe.startTime-z),ee=!1}return ee}finally{p=null,f=X,w=!1}}var O=!1,C=null,b=-1,I=5,P=-1;function R(){return!(t.unstable_now()-P<I)}function D(){if(C!==null){var L=t.unstable_now();P=L;var z=!0;try{z=C(!0,L)}finally{z?A():(O=!1,C=null)}}else O=!1}var A;if(typeof v=="function")A=function(){v(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=D,A=function(){re.postMessage(null)}}else A=function(){T(D,0)};function G(L){C=L,O||(O=!0,A())}function se(L,z){b=T(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,G(j))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var X=f;f=z;try{return L()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=f;f=L;try{return z()}finally{f=X}},t.unstable_scheduleCallback=function(L,z,X){var q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,L={id:h++,callback:z,priorityLevel:L,startTime:X,expirationTime:J,sortIndex:-1},X>q?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(y?(x(b),b=-1):y=!0,se(k,X-q))):(L.sortIndex=J,e(l,L),E||w||(E=!0,G(j))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var z=f;return function(){var X=f;f=z;try{return L.apply(this,arguments)}finally{f=X}}}})(W1);B1.exports=W1;var Pk=B1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk=g,bn=Pk;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H1=new Set,Ol={};function Xi(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Ol[t]=e,t=0;t<e.length;t++)H1.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,Ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},H0={};function Rk(t){return Up.call(H0,t)?!0:Up.call(W0,t)?!1:Ak.test(t)?H0[t]=!0:(W0[t]=!0,!1)}function Dk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jk(t,e,n,r){if(e===null||typeof e>"u"||Dk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mg=/[\-:]([a-z])/g;function Lg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mg,Lg);Rt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mg,Lg);Rt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mg,Lg);Rt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vg(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jk(e,n,s,r)&&(n=null),r||s===null?Rk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),q1=Symbol.for("react.provider"),K1=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),G1=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Lf;function al(t){if(Lf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lf=e&&e[1]||""}return`
`+Lf+t}var Vf=!1;function Ff(t,e){if(!t||Vf)return"";Vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function Ok(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=Ff(t.type,!1),t;case 11:return t=Ff(t.type.render,!1),t;case 1:return t=Ff(t.type,!0),t;default:return""}}function Wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Eo:return"Portal";case $p:return"Profiler";case Fg:return"StrictMode";case zp:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K1:return(t.displayName||"Context")+".Consumer";case q1:return(t._context.displayName||"Context")+".Provider";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $g:return e=t.displayName||null,e!==null?e:Wp(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return Wp(t(e))}catch{}}return null}function Mk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(e);case 8:return e===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lk(t){var e=Q1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ru(t){t._valueTracker||(t._valueTracker=Lk(t))}function Y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hp(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function K0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X1(t,e){e=e.checked,e!=null&&Vg(t,"checked",e,!1)}function qp(t,e){X1(t,e);var n=qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kp(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kp(t,e,n){(e!=="number"||ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function jo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ll(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qs(n)}}function J1(t,e){var n=qs(e.value),r=qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var su,eE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vk=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){Vk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function tE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function nE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Fk=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(Fk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=null;function zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zp=null,Oo=null,Mo=null;function X0(t){if(t=wc(t)){if(typeof Zp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=_h(e),Zp(t.stateNode,t.type,e))}}function rE(t){Oo?Mo?Mo.push(t):Mo=[t]:Oo=t}function sE(){if(Oo){var t=Oo,e=Mo;if(Mo=Oo=null,X0(t),e)for(t=0;t<e.length;t++)X0(e[t])}}function iE(t,e){return t(e)}function oE(){}var Uf=!1;function aE(t,e,n){if(Uf)return t(e,n);Uf=!0;try{return iE(t,e,n)}finally{Uf=!1,(Oo!==null||Mo!==null)&&(oE(),sE())}}function Ll(t,e){var n=t.stateNode;if(n===null)return null;var r=_h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var em=!1;if(Hr)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){em=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{em=!1}function Uk(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var wl=!1,cd=null,ud=!1,tm=null,$k={onError:function(t){wl=!0,cd=t}};function zk(t,e,n,r,s,i,o,a,l){wl=!1,cd=null,Uk.apply($k,arguments)}function Bk(t,e,n,r,s,i,o,a,l){if(zk.apply(this,arguments),wl){if(wl){var u=cd;wl=!1,cd=null}else throw Error(H(198));ud||(ud=!0,tm=u)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J0(t){if(Ji(t)!==t)throw Error(H(188))}function Wk(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return J0(s),t;if(i===r)return J0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function cE(t){return t=Wk(t),t!==null?uE(t):null}function uE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uE(t);if(e!==null)return e;t=t.sibling}return null}var dE=bn.unstable_scheduleCallback,Z0=bn.unstable_cancelCallback,Hk=bn.unstable_shouldYield,qk=bn.unstable_requestPaint,pt=bn.unstable_now,Kk=bn.unstable_getCurrentPriorityLevel,Bg=bn.unstable_ImmediatePriority,hE=bn.unstable_UserBlockingPriority,dd=bn.unstable_NormalPriority,Gk=bn.unstable_LowPriority,fE=bn.unstable_IdlePriority,yh=null,gr=null;function Qk(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Jk,Yk=Math.log,Xk=Math.LN2;function Jk(t){return t>>>=0,t===0?32:31-(Yk(t)/Xk|0)|0}var iu=64,ou=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=cl(a):(i&=o,i!==0&&(r=cl(i)))}else o=n&~s,o!==0?r=cl(o):i!==0&&(r=cl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),s=1<<n,r|=t[n],e&=~s;return r}function Zk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Zk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function nm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pE(){var t=iu;return iu<<=1,!(iu&4194240)&&(iu=64),t}function $f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function tA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function mE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gE,Hg,yE,vE,wE,rm=!1,au=[],Rs=null,Ds=null,js=null,Vl=new Map,Fl=new Map,vs=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ew(t,e){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Za(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=wc(e),e!==null&&Hg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rA(t,e,n,r,s){switch(e){case"focusin":return Rs=Za(Rs,t,e,n,r,s),!0;case"dragenter":return Ds=Za(Ds,t,e,n,r,s),!0;case"mouseover":return js=Za(js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vl.set(i,Za(Vl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fl.set(i,Za(Fl.get(i)||null,t,e,n,r,s)),!0}return!1}function xE(t){var e=Si(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=lE(n),e!==null){t.blockedOn=e,wE(t.priority,function(){yE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jp=r,n.target.dispatchEvent(r),Jp=null}else return e=wc(n),e!==null&&Hg(e),t.blockedOn=n,!1;e.shift()}return!0}function tw(t,e,n){Mu(t)&&n.delete(e)}function sA(){rm=!1,Rs!==null&&Mu(Rs)&&(Rs=null),Ds!==null&&Mu(Ds)&&(Ds=null),js!==null&&Mu(js)&&(js=null),Vl.forEach(tw),Fl.forEach(tw)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,rm||(rm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,sA)))}function Ul(t){function e(s){return el(s,t)}if(0<au.length){el(au[0],t);for(var n=1;n<au.length;n++){var r=au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rs!==null&&el(Rs,t),Ds!==null&&el(Ds,t),js!==null&&el(js,t),Vl.forEach(e),Fl.forEach(e),n=0;n<vs.length;n++)r=vs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vs.length&&(n=vs[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&vs.shift()}var Lo=ts.ReactCurrentBatchConfig,fd=!0;function iA(t,e,n,r){var s=Fe,i=Lo.transition;Lo.transition=null;try{Fe=1,qg(t,e,n,r)}finally{Fe=s,Lo.transition=i}}function oA(t,e,n,r){var s=Fe,i=Lo.transition;Lo.transition=null;try{Fe=4,qg(t,e,n,r)}finally{Fe=s,Lo.transition=i}}function qg(t,e,n,r){if(fd){var s=sm(t,e,n,r);if(s===null)Xf(t,e,r,pd,n),ew(t,r);else if(rA(s,t,e,n,r))r.stopPropagation();else if(ew(t,r),e&4&&-1<nA.indexOf(t)){for(;s!==null;){var i=wc(s);if(i!==null&&gE(i),i=sm(t,e,n,r),i===null&&Xf(t,e,r,pd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Xf(t,e,r,null,n)}}var pd=null;function sm(t,e,n,r){if(pd=null,t=zg(r),t=Si(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pd=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kk()){case Bg:return 1;case hE:return 4;case dd:case Gk:return 16;case fE:return 536870912;default:return 16}default:return 16}}var Ns=null,Kg=null,Lu=null;function EE(){if(Lu)return Lu;var t,e=Kg,n=e.length,r,s="value"in Ns?Ns.value:Ns.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Lu=s.slice(t,1<r?1-r:void 0)}function Vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lu(){return!0}function nw(){return!1}function In(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lu:nw,this.isPropagationStopped=nw,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=In(Sa),vc=ot({},Sa,{view:0,detail:0}),aA=In(vc),zf,Bf,tl,vh=ot({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(zf=t.screenX-tl.screenX,Bf=t.screenY-tl.screenY):Bf=zf=0,tl=t),zf)},movementY:function(t){return"movementY"in t?t.movementY:Bf}}),rw=In(vh),lA=ot({},vh,{dataTransfer:0}),cA=In(lA),uA=ot({},vc,{relatedTarget:0}),Wf=In(uA),dA=ot({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),hA=In(dA),fA=ot({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pA=In(fA),mA=ot({},Sa,{data:0}),sw=In(mA),gA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vA[t])?!!e[t]:!1}function Qg(){return wA}var xA=ot({},vc,{key:function(t){if(t.key){var e=gA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(t){return t.type==="keypress"?Vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_A=In(xA),EA=ot({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=In(EA),TA=ot({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),SA=In(TA),bA=ot({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),CA=In(bA),IA=ot({},vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NA=In(IA),PA=[9,13,27,32],Yg=Hr&&"CompositionEvent"in window,xl=null;Hr&&"documentMode"in document&&(xl=document.documentMode);var kA=Hr&&"TextEvent"in window&&!xl,TE=Hr&&(!Yg||xl&&8<xl&&11>=xl),ow=" ",aw=!1;function SE(t,e){switch(t){case"keyup":return PA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function AA(t,e){switch(t){case"compositionend":return bE(e);case"keypress":return e.which!==32?null:(aw=!0,ow);case"textInput":return t=e.data,t===ow&&aw?null:t;default:return null}}function RA(t,e){if(So)return t==="compositionend"||!Yg&&SE(t,e)?(t=EE(),Lu=Kg=Ns=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TE&&e.locale!=="ko"?null:e.data;default:return null}}var DA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DA[t.type]:e==="textarea"}function CE(t,e,n,r){rE(r),e=md(e,"onChange"),0<e.length&&(n=new Gg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,$l=null;function jA(t){LE(t,0)}function wh(t){var e=Io(t);if(Y1(e))return t}function OA(t,e){if(t==="change")return e}var IE=!1;if(Hr){var Hf;if(Hr){var qf="oninput"in document;if(!qf){var cw=document.createElement("div");cw.setAttribute("oninput","return;"),qf=typeof cw.oninput=="function"}Hf=qf}else Hf=!1;IE=Hf&&(!document.documentMode||9<document.documentMode)}function uw(){_l&&(_l.detachEvent("onpropertychange",NE),$l=_l=null)}function NE(t){if(t.propertyName==="value"&&wh($l)){var e=[];CE(e,$l,t,zg(t)),aE(jA,e)}}function MA(t,e,n){t==="focusin"?(uw(),_l=e,$l=n,_l.attachEvent("onpropertychange",NE)):t==="focusout"&&uw()}function LA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh($l)}function VA(t,e){if(t==="click")return wh(e)}function FA(t,e){if(t==="input"||t==="change")return wh(e)}function UA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:UA;function zl(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Up.call(e,s)||!Jn(t[s],e[s]))return!1}return!0}function dw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hw(t,e){var n=dw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dw(n)}}function PE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kE(){for(var t=window,e=ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ld(t.document)}return e}function Xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $A(t){var e=kE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PE(n.ownerDocument.documentElement,n)){if(r!==null&&Xg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hw(n,i);var o=hw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zA=Hr&&"documentMode"in document&&11>=document.documentMode,bo=null,im=null,El=null,om=!1;function fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;om||bo==null||bo!==ld(r)||(r=bo,"selectionStart"in r&&Xg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&zl(El,r)||(El=r,r=md(im,"onSelect"),0<r.length&&(e=new Gg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function cu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Co={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},Kf={},AE={};Hr&&(AE=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function xh(t){if(Kf[t])return Kf[t];if(!Co[t])return t;var e=Co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AE)return Kf[t]=e[n];return t}var RE=xh("animationend"),DE=xh("animationiteration"),jE=xh("animationstart"),OE=xh("transitionend"),ME=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){ME.set(t,e),Xi(e,[t])}for(var Gf=0;Gf<pw.length;Gf++){var Qf=pw[Gf],BA=Qf.toLowerCase(),WA=Qf[0].toUpperCase()+Qf.slice(1);ii(BA,"on"+WA)}ii(RE,"onAnimationEnd");ii(DE,"onAnimationIteration");ii(jE,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(OE,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bk(r,e,void 0,t),t.currentTarget=null}function LE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;mw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;mw(s,a,u),i=l}}}if(ud)throw t=tm,ud=!1,tm=null,t}function Ge(t,e){var n=e[dm];n===void 0&&(n=e[dm]=new Set);var r=t+"__bubble";n.has(r)||(VE(e,t,2,!1),n.add(r))}function Yf(t,e,n){var r=0;e&&(r|=4),VE(n,t,r,e)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[uu]){t[uu]=!0,H1.forEach(function(n){n!=="selectionchange"&&(HA.has(n)||Yf(n,!1,t),Yf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uu]||(e[uu]=!0,Yf("selectionchange",!1,e))}}function VE(t,e,n,r){switch(_E(e)){case 1:var s=iA;break;case 4:s=oA;break;default:s=qg}n=s.bind(null,e,n,t),s=void 0,!em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Xf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Si(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}aE(function(){var u=i,h=zg(n),p=[];e:{var f=ME.get(t);if(f!==void 0){var w=Gg,E=t;switch(t){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":w=_A;break;case"focusin":E="focus",w=Wf;break;case"focusout":E="blur",w=Wf;break;case"beforeblur":case"afterblur":w=Wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=cA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=SA;break;case RE:case DE:case jE:w=hA;break;case OE:w=CA;break;case"scroll":w=aA;break;case"wheel":w=NA;break;case"copy":case"cut":case"paste":w=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=iw}var y=(e&4)!==0,T=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,S;v!==null;){S=v;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,x!==null&&(k=Ll(v,x),k!=null&&y.push(Wl(v,k,S)))),T)break;v=v.return}0<y.length&&(f=new w(f,E,null,n,h),p.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&n!==Jp&&(E=n.relatedTarget||n.fromElement)&&(Si(E)||E[qr]))break e;if((w||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=u,E=E?Si(E):null,E!==null&&(T=Ji(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=u),w!==E)){if(y=rw,k="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=iw,k="onPointerLeave",x="onPointerEnter",v="pointer"),T=w==null?f:Io(w),S=E==null?f:Io(E),f=new y(k,v+"leave",w,n,h),f.target=T,f.relatedTarget=S,k=null,Si(h)===u&&(y=new y(x,v+"enter",E,n,h),y.target=S,y.relatedTarget=T,k=y),T=k,w&&E)t:{for(y=w,x=E,v=0,S=y;S;S=uo(S))v++;for(S=0,k=x;k;k=uo(k))S++;for(;0<v-S;)y=uo(y),v--;for(;0<S-v;)x=uo(x),S--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=uo(y),x=uo(x)}y=null}else y=null;w!==null&&gw(p,f,w,y,!1),E!==null&&T!==null&&gw(p,T,E,y,!0)}}e:{if(f=u?Io(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var j=OA;else if(lw(f))if(IE)j=FA;else{j=LA;var O=MA}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=VA);if(j&&(j=j(t,u))){CE(p,j,n,h);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Kp(f,"number",f.value)}switch(O=u?Io(u):window,t){case"focusin":(lw(O)||O.contentEditable==="true")&&(bo=O,im=u,El=null);break;case"focusout":El=im=bo=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,fw(p,n,h);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":fw(p,n,h)}var C;if(Yg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else So?SE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(TE&&n.locale!=="ko"&&(So||b!=="onCompositionStart"?b==="onCompositionEnd"&&So&&(C=EE()):(Ns=h,Kg="value"in Ns?Ns.value:Ns.textContent,So=!0)),O=md(u,b),0<O.length&&(b=new sw(b,t,null,n,h),p.push({event:b,listeners:O}),C?b.data=C:(C=bE(n),C!==null&&(b.data=C)))),(C=kA?AA(t,n):RA(t,n))&&(u=md(u,"onBeforeInput"),0<u.length&&(h=new sw("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=C))}LE(p,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function md(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ll(t,n),i!=null&&r.unshift(Wl(t,i,s)),i=Ll(t,e),i!=null&&r.push(Wl(t,i,s))),t=t.return}return r}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ll(n,i),l!=null&&o.unshift(Wl(n,l,a))):s||(l=Ll(n,i),l!=null&&o.push(Wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qA=/\r\n?/g,KA=/\u0000|\uFFFD/g;function yw(t){return(typeof t=="string"?t:""+t).replace(qA,`
`).replace(KA,"")}function du(t,e,n){if(e=yw(e),yw(t)!==e&&n)throw Error(H(425))}function gd(){}var am=null,lm=null;function cm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,vw=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof vw<"u"?function(t){return vw.resolve(null).then(t).catch(YA)}:um;function YA(t){setTimeout(function(){throw t})}function Jf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ul(e)}function Os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ww(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ba=Math.random().toString(36).slice(2),pr="__reactFiber$"+ba,Hl="__reactProps$"+ba,qr="__reactContainer$"+ba,dm="__reactEvents$"+ba,XA="__reactListeners$"+ba,JA="__reactHandles$"+ba;function Si(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ww(t);t!==null;){if(n=t[pr])return n;t=ww(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[pr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function _h(t){return t[Hl]||null}var hm=[],No=-1;function oi(t){return{current:t}}function Xe(t){0>No||(t.current=hm[No],hm[No]=null,No--)}function We(t,e){No++,hm[No]=t.current,t.current=e}var Ks={},Ht=oi(Ks),dn=oi(!1),Li=Ks;function ia(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hn(t){return t=t.childContextTypes,t!=null}function yd(){Xe(dn),Xe(Ht)}function xw(t,e,n){if(Ht.current!==Ks)throw Error(H(168));We(Ht,e),We(dn,n)}function FE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,Mk(t)||"Unknown",s));return ot({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Li=Ht.current,We(Ht,t),We(dn,dn.current),!0}function _w(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=FE(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,Xe(dn),Xe(Ht),We(Ht,t)):Xe(dn),We(dn,n)}var Mr=null,Eh=!1,Zf=!1;function UE(t){Mr===null?Mr=[t]:Mr.push(t)}function ZA(t){Eh=!0,UE(t)}function ai(){if(!Zf&&Mr!==null){Zf=!0;var t=0,e=Fe;try{var n=Mr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Eh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),dE(Bg,ai),s}finally{Fe=e,Zf=!1}}return null}var Po=[],ko=0,wd=null,xd=0,An=[],Rn=0,Vi=null,Vr=1,Fr="";function _i(t,e){Po[ko++]=xd,Po[ko++]=wd,wd=t,xd=e}function $E(t,e,n){An[Rn++]=Vr,An[Rn++]=Fr,An[Rn++]=Vi,Vi=t;var r=Vr;t=Fr;var s=32-Qn(r)-1;r&=~(1<<s),n+=1;var i=32-Qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vr=1<<32-Qn(e)+s|n<<s|r,Fr=i+t}else Vr=1<<i|n<<s|r,Fr=t}function Jg(t){t.return!==null&&(_i(t,1),$E(t,1,0))}function Zg(t){for(;t===wd;)wd=Po[--ko],Po[ko]=null,xd=Po[--ko],Po[ko]=null;for(;t===Vi;)Vi=An[--Rn],An[Rn]=null,Fr=An[--Rn],An[Rn]=null,Vr=An[--Rn],An[Rn]=null}var Tn=null,_n=null,et=!1,Kn=null;function zE(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,_n=Os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vi!==null?{id:Vr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,_n=null,!0):!1;default:return!1}}function fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pm(t){if(et){var e=_n;if(e){var n=e;if(!Ew(t,e)){if(fm(t))throw Error(H(418));e=Os(n.nextSibling);var r=Tn;e&&Ew(t,e)?zE(r,n):(t.flags=t.flags&-4097|2,et=!1,Tn=t)}}else{if(fm(t))throw Error(H(418));t.flags=t.flags&-4097|2,et=!1,Tn=t}}}function Tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function hu(t){if(t!==Tn)return!1;if(!et)return Tw(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cm(t.type,t.memoizedProps)),e&&(e=_n)){if(fm(t))throw BE(),Error(H(418));for(;e;)zE(t,e),e=Os(e.nextSibling)}if(Tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Os(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=Tn?Os(t.stateNode.nextSibling):null;return!0}function BE(){for(var t=_n;t;)t=Os(t.nextSibling)}function oa(){_n=Tn=null,et=!1}function ey(t){Kn===null?Kn=[t]:Kn.push(t)}var eR=ts.ReactCurrentBatchConfig;function nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function fu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sw(t){var e=t._init;return e(t._payload)}function WE(t){function e(x,v){if(t){var S=x.deletions;S===null?(x.deletions=[v],x.flags|=16):S.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Fs(x,v),x.index=0,x.sibling=null,x}function i(x,v,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<v?(x.flags|=2,v):S):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,S,k){return v===null||v.tag!==6?(v=op(S,x.mode,k),v.return=x,v):(v=s(v,S),v.return=x,v)}function l(x,v,S,k){var j=S.type;return j===To?h(x,v,S.props.children,k,S.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===gs&&Sw(j)===v.type)?(k=s(v,S.props),k.ref=nl(x,v,S),k.return=x,k):(k=Hu(S.type,S.key,S.props,null,x.mode,k),k.ref=nl(x,v,S),k.return=x,k)}function u(x,v,S,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=ap(S,x.mode,k),v.return=x,v):(v=s(v,S.children||[]),v.return=x,v)}function h(x,v,S,k,j){return v===null||v.tag!==7?(v=Oi(S,x.mode,k,j),v.return=x,v):(v=s(v,S),v.return=x,v)}function p(x,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=op(""+v,x.mode,S),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nu:return S=Hu(v.type,v.key,v.props,null,x.mode,S),S.ref=nl(x,null,v),S.return=x,S;case Eo:return v=ap(v,x.mode,S),v.return=x,v;case gs:var k=v._init;return p(x,k(v._payload),S)}if(ll(v)||Xa(v))return v=Oi(v,x.mode,S,null),v.return=x,v;fu(x,v)}return null}function f(x,v,S,k){var j=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:a(x,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nu:return S.key===j?l(x,v,S,k):null;case Eo:return S.key===j?u(x,v,S,k):null;case gs:return j=S._init,f(x,v,j(S._payload),k)}if(ll(S)||Xa(S))return j!==null?null:h(x,v,S,k,null);fu(x,S)}return null}function w(x,v,S,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(S)||null,a(v,x,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nu:return x=x.get(k.key===null?S:k.key)||null,l(v,x,k,j);case Eo:return x=x.get(k.key===null?S:k.key)||null,u(v,x,k,j);case gs:var O=k._init;return w(x,v,S,O(k._payload),j)}if(ll(k)||Xa(k))return x=x.get(S)||null,h(v,x,k,j,null);fu(v,k)}return null}function E(x,v,S,k){for(var j=null,O=null,C=v,b=v=0,I=null;C!==null&&b<S.length;b++){C.index>b?(I=C,C=null):I=C.sibling;var P=f(x,C,S[b],k);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(x,C),v=i(P,v,b),O===null?j=P:O.sibling=P,O=P,C=I}if(b===S.length)return n(x,C),et&&_i(x,b),j;if(C===null){for(;b<S.length;b++)C=p(x,S[b],k),C!==null&&(v=i(C,v,b),O===null?j=C:O.sibling=C,O=C);return et&&_i(x,b),j}for(C=r(x,C);b<S.length;b++)I=w(C,x,b,S[b],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?b:I.key),v=i(I,v,b),O===null?j=I:O.sibling=I,O=I);return t&&C.forEach(function(R){return e(x,R)}),et&&_i(x,b),j}function y(x,v,S,k){var j=Xa(S);if(typeof j!="function")throw Error(H(150));if(S=j.call(S),S==null)throw Error(H(151));for(var O=j=null,C=v,b=v=0,I=null,P=S.next();C!==null&&!P.done;b++,P=S.next()){C.index>b?(I=C,C=null):I=C.sibling;var R=f(x,C,P.value,k);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(x,C),v=i(R,v,b),O===null?j=R:O.sibling=R,O=R,C=I}if(P.done)return n(x,C),et&&_i(x,b),j;if(C===null){for(;!P.done;b++,P=S.next())P=p(x,P.value,k),P!==null&&(v=i(P,v,b),O===null?j=P:O.sibling=P,O=P);return et&&_i(x,b),j}for(C=r(x,C);!P.done;b++,P=S.next())P=w(C,x,b,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?b:P.key),v=i(P,v,b),O===null?j=P:O.sibling=P,O=P);return t&&C.forEach(function(D){return e(x,D)}),et&&_i(x,b),j}function T(x,v,S,k){if(typeof S=="object"&&S!==null&&S.type===To&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case nu:e:{for(var j=S.key,O=v;O!==null;){if(O.key===j){if(j=S.type,j===To){if(O.tag===7){n(x,O.sibling),v=s(O,S.props.children),v.return=x,x=v;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===gs&&Sw(j)===O.type){n(x,O.sibling),v=s(O,S.props),v.ref=nl(x,O,S),v.return=x,x=v;break e}n(x,O);break}else e(x,O);O=O.sibling}S.type===To?(v=Oi(S.props.children,x.mode,k,S.key),v.return=x,x=v):(k=Hu(S.type,S.key,S.props,null,x.mode,k),k.ref=nl(x,v,S),k.return=x,x=k)}return o(x);case Eo:e:{for(O=S.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(x,v.sibling),v=s(v,S.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=ap(S,x.mode,k),v.return=x,x=v}return o(x);case gs:return O=S._init,T(x,v,O(S._payload),k)}if(ll(S))return E(x,v,S,k);if(Xa(S))return y(x,v,S,k);fu(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,S),v.return=x,x=v):(n(x,v),v=op(S,x.mode,k),v.return=x,x=v),o(x)):n(x,v)}return T}var aa=WE(!0),HE=WE(!1),_d=oi(null),Ed=null,Ao=null,ty=null;function ny(){ty=Ao=Ed=null}function ry(t){var e=_d.current;Xe(_d),t._currentValue=e}function mm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){Ed=t,ty=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(ty!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(Ed===null)throw Error(H(308));Ao=t,Ed.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var bi=null;function sy(t){bi===null?bi=[t]:bi.push(t)}function qE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function iy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kr(t,n)}return s=r.interleaved,s===null?(e.next=e,sy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kr(t,n)}function Fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wg(t,n)}}function bw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Td(t,e,n,r){var s=t.updateQueue;ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=u=l=null,a=i;do{var f=a.lane,w=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,y=a;switch(f=e,w=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){p=E.call(w,p,f);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,f=typeof E=="function"?E.call(w,p,f):E,f==null)break e;p=ot({},p,f);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else w={eventTime:w,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=w,l=p):h=h.next=w,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ui|=o,t.lanes=o,t.memoizedState=p}}function Cw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var xc={},yr=oi(xc),ql=oi(xc),Kl=oi(xc);function Ci(t){if(t===xc)throw Error(H(174));return t}function oy(t,e){switch(We(Kl,e),We(ql,t),We(yr,xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qp(e,t)}Xe(yr),We(yr,e)}function la(){Xe(yr),Xe(ql),Xe(Kl)}function GE(t){Ci(Kl.current);var e=Ci(yr.current),n=Qp(e,t.type);e!==n&&(We(ql,t),We(yr,n))}function ay(t){ql.current===t&&(Xe(yr),Xe(ql))}var rt=oi(0);function Sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ep=[];function ly(){for(var t=0;t<ep.length;t++)ep[t]._workInProgressVersionPrimary=null;ep.length=0}var Uu=ts.ReactCurrentDispatcher,tp=ts.ReactCurrentBatchConfig,Fi=0,st=null,xt=null,bt=null,bd=!1,Tl=!1,Gl=0,tR=0;function Vt(){throw Error(H(321))}function cy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function uy(t,e,n,r,s,i){if(Fi=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uu.current=t===null||t.memoizedState===null?iR:oR,t=n(r,s),Tl){i=0;do{if(Tl=!1,Gl=0,25<=i)throw Error(H(301));i+=1,bt=xt=null,e.updateQueue=null,Uu.current=aR,t=n(r,s)}while(Tl)}if(Uu.current=Cd,e=xt!==null&&xt.next!==null,Fi=0,bt=xt=st=null,bd=!1,e)throw Error(H(300));return t}function dy(){var t=Gl!==0;return Gl=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?st.memoizedState=bt=t:bt=bt.next=t,bt}function Vn(){if(xt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=bt===null?st.memoizedState:bt.next;if(e!==null)bt=e,xt=t;else{if(t===null)throw Error(H(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bt===null?st.memoizedState=bt=t:bt=bt.next=t}return bt}function Ql(t,e){return typeof e=="function"?e(t):e}function np(t){var e=Vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((Fi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,st.lanes|=h,Ui|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,Ui|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rp(t){var e=Vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Jn(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function QE(){}function YE(t,e){var n=st,r=Vn(),s=e(),i=!Jn(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,hy(ZE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Yl(9,JE.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(H(349));Fi&30||XE(n,e,s)}return s}function XE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JE(t,e,n,r){e.value=n,e.getSnapshot=r,eT(e)&&tT(t)}function ZE(t,e,n){return n(function(){eT(e)&&tT(t)})}function eT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function tT(t){var e=Kr(t,1);e!==null&&Yn(e,t,1,-1)}function Iw(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=sR.bind(null,st,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nT(){return Vn().memoizedState}function $u(t,e,n,r){var s=lr();st.flags|=t,s.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function Th(t,e,n,r){var s=Vn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&cy(r,o.deps)){s.memoizedState=Yl(e,n,i,r);return}}st.flags|=t,s.memoizedState=Yl(1|e,n,i,r)}function Nw(t,e){return $u(8390656,8,t,e)}function hy(t,e){return Th(2048,8,t,e)}function rT(t,e){return Th(4,2,t,e)}function sT(t,e){return Th(4,4,t,e)}function iT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oT(t,e,n){return n=n!=null?n.concat([t]):null,Th(4,4,iT.bind(null,e,t),n)}function fy(){}function aT(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lT(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cT(t,e,n){return Fi&21?(Jn(n,e)||(n=pE(),st.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function nR(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=tp.transition;tp.transition={};try{t(!1),e()}finally{Fe=n,tp.transition=r}}function uT(){return Vn().memoizedState}function rR(t,e,n){var r=Vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dT(t))hT(e,n);else if(n=qE(t,e,n,r),n!==null){var s=en();Yn(n,t,r,s),fT(n,e,r)}}function sR(t,e,n){var r=Vs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dT(t))hT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(s.next=s,sy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=qE(t,e,s,r),n!==null&&(s=en(),Yn(n,t,r,s),fT(n,e,r))}}function dT(t){var e=t.alternate;return t===st||e!==null&&e===st}function hT(t,e){Tl=bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wg(t,n)}}var Cd={readContext:Ln,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},iR={readContext:Ln,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:Nw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$u(4194308,4,iT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $u(4194308,4,t,e)},useInsertionEffect:function(t,e){return $u(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rR.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:Iw,useDebugValue:fy,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=Iw(!1),e=t[0];return t=nR.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=lr();if(et){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ct===null)throw Error(H(349));Fi&30||XE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Nw(ZE.bind(null,r,i,t),[t]),r.flags|=2048,Yl(9,JE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lr(),e=Ct.identifierPrefix;if(et){var n=Fr,r=Vr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oR={readContext:Ln,useCallback:aT,useContext:Ln,useEffect:hy,useImperativeHandle:oT,useInsertionEffect:rT,useLayoutEffect:sT,useMemo:lT,useReducer:np,useRef:nT,useState:function(){return np(Ql)},useDebugValue:fy,useDeferredValue:function(t){var e=Vn();return cT(e,xt.memoizedState,t)},useTransition:function(){var t=np(Ql)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:QE,useSyncExternalStore:YE,useId:uT,unstable_isNewReconciler:!1},aR={readContext:Ln,useCallback:aT,useContext:Ln,useEffect:hy,useImperativeHandle:oT,useInsertionEffect:rT,useLayoutEffect:sT,useMemo:lT,useReducer:rp,useRef:nT,useState:function(){return rp(Ql)},useDebugValue:fy,useDeferredValue:function(t){var e=Vn();return xt===null?e.memoizedState=t:cT(e,xt.memoizedState,t)},useTransition:function(){var t=rp(Ql)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:QE,useSyncExternalStore:YE,useId:uT,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sh={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=Vs(t),i=zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ms(t,i,s),e!==null&&(Yn(e,t,s,r),Fu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=Vs(t),i=zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ms(t,i,s),e!==null&&(Yn(e,t,s,r),Fu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Vs(t),s=zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ms(t,s,r),e!==null&&(Yn(e,t,r,n),Fu(e,t,r))}};function Pw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!zl(n,r)||!zl(s,i):!0}function pT(t,e,n){var r=!1,s=Ks,i=e.contextType;return typeof i=="object"&&i!==null?i=Ln(i):(s=hn(e)?Li:Ht.current,r=e.contextTypes,i=(r=r!=null)?ia(t,s):Ks),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function kw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function ym(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},iy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ln(i):(i=hn(e)?Li:Ht.current,s.context=ia(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sh.enqueueReplaceState(s,s.state,null),Td(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do n+=Ok(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function sp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lR=typeof WeakMap=="function"?WeakMap:Map;function mT(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nd||(Nd=!0,Nm=r),vm(t,e)},n}function gT(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vm(t,e),typeof r!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Aw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ER.bind(null,t,e,n),e.then(t,t))}function Rw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Ms(n,e,1))),n.lanes|=1),t)}var cR=ts.ReactCurrentOwner,cn=!1;function Xt(t,e,n,r){e.child=t===null?HE(e,null,n,r):aa(e,t.child,n,r)}function jw(t,e,n,r,s){n=n.render;var i=e.ref;return Vo(e,s),r=uy(t,e,n,r,i,s),n=dy(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):(et&&n&&Jg(e),e.flags|=1,Xt(t,e,r,s),e.child)}function Ow(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_y(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yT(t,e,i,r,s)):(t=Hu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zl,n(o,r)&&t.ref===e.ref)return Gr(t,e,s)}return e.flags|=1,t=Fs(i,r),t.ref=e.ref,t.return=e,e.child=t}function yT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zl(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,Gr(t,e,s)}return wm(t,e,n,r,s)}function vT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Do,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Do,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Do,wn),wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(Do,wn),wn|=r;return Xt(t,e,s,n),e.child}function wT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wm(t,e,n,r,s){var i=hn(n)?Li:Ht.current;return i=ia(e,i),Vo(e,s),n=uy(t,e,n,r,i,s),r=dy(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):(et&&r&&Jg(e),e.flags|=1,Xt(t,e,n,s),e.child)}function Mw(t,e,n,r,s){if(hn(n)){var i=!0;vd(e)}else i=!1;if(Vo(e,s),e.stateNode===null)zu(t,e),pT(e,n,r),ym(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=hn(n)?Li:Ht.current,u=ia(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kw(e,o,r,u),ys=!1;var f=e.memoizedState;o.state=f,Td(e,r,o,s),l=e.memoizedState,a!==r||f!==l||dn.current||ys?(typeof h=="function"&&(gm(e,n,h,r),l=e.memoizedState),(a=ys||Pw(e,n,a,r,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=hn(n)?Li:Ht.current,l=ia(e,l));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&kw(e,o,r,l),ys=!1,f=e.memoizedState,o.state=f,Td(e,r,o,s);var E=e.memoizedState;a!==p||f!==E||dn.current||ys?(typeof w=="function"&&(gm(e,n,w,r),E=e.memoizedState),(u=ys||Pw(e,n,u,r,f,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return xm(t,e,n,r,i,s)}function xm(t,e,n,r,s,i){wT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_w(e,n,!1),Gr(t,e,i);r=e.stateNode,cR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=aa(e,t.child,null,i),e.child=aa(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&_w(e,n,!0),e.child}function xT(t){var e=t.stateNode;e.pendingContext?xw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xw(t,e.context,!1),oy(t,e.containerInfo)}function Lw(t,e,n,r,s){return oa(),ey(s),e.flags|=256,Xt(t,e,n,r),e.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function Em(t){return{baseLanes:t,cachePool:null,transitions:null}}function _T(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(rt,s&1),t===null)return pm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ih(o,r,0,null),t=Oi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Em(n),e.memoizedState=_m,t):py(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Fs(a,i):(i=Oi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_m,r}return i=t.child,t=i.sibling,r=Fs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function py(t,e){return e=Ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pu(t,e,n,r){return r!==null&&ey(r),aa(e,t.child,null,n),t=py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=sp(Error(H(422))),pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ih({mode:"visible",children:r.children},s,0,null),i=Oi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&aa(e,t.child,null,o),e.child.memoizedState=Em(o),e.memoizedState=_m,i);if(!(e.mode&1))return pu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=sp(i,r,void 0),pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kr(t,s),Yn(r,t,s,-1))}return xy(),r=sp(Error(H(421))),pu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=Os(s.nextSibling),Tn=e,et=!0,Kn=null,t!==null&&(An[Rn++]=Vr,An[Rn++]=Fr,An[Rn++]=Vi,Vr=t.id,Fr=t.overflow,Vi=e),e=py(e,r.children),e.flags|=4096,e)}function Vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mm(t.return,e,n)}function ip(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ET(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vw(t,n,e);else if(t.tag===19)Vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ip(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ip(e,!0,n,null,i);break;case"together":ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dR(t,e,n){switch(e.tag){case 3:xT(e),oa();break;case 5:GE(e);break;case 1:hn(e.type)&&vd(e);break;case 4:oy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(_d,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?_T(t,e,n):(We(rt,rt.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ET(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,vT(t,e,n)}return Gr(t,e,n)}var TT,Tm,ST,bT;TT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tm=function(){};ST=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(yr.current);var i=null;switch(n){case"input":s=Hp(t,s),r=Hp(t,r),i=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),i=[];break;case"textarea":s=Gp(t,s),r=Gp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gd)}Yp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ol.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};bT=function(t,e,n,r){n!==r&&(e.flags|=4)};function rl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hR(t,e,n){var r=e.pendingProps;switch(Zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return hn(e.type)&&yd(),Ft(e),null;case 3:return r=e.stateNode,la(),Xe(dn),Xe(Ht),ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Am(Kn),Kn=null))),Tm(t,e),Ft(e),null;case 5:ay(e);var s=Ci(Kl.current);if(n=e.type,t!==null&&e.stateNode!=null)ST(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ft(e),null}if(t=Ci(yr.current),hu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pr]=e,r[Hl]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<ul.length;s++)Ge(ul[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":K0(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":Q0(r,i),Ge("invalid",r)}Yp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&du(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&du(r.textContent,a,t),s=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":ru(r),G0(r,i,!0);break;case"textarea":ru(r),Y0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pr]=e,t[Hl]=r,TT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xp(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<ul.length;s++)Ge(ul[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":K0(t,r),s=Hp(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Q0(t,r),s=Gp(t,r),Ge("invalid",t);break;default:s=r}Yp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?nE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ml(t,l):typeof l=="number"&&Ml(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ol.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",t):l!=null&&Vg(t,i,l,o))}switch(n){case"input":ru(t),G0(t,r,!1);break;case"textarea":ru(t),Y0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?jo(t,!!r.multiple,i,!1):r.defaultValue!=null&&jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)bT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ci(Kl.current),Ci(yr.current),hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[pr]=e,(i=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:du(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&du(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Xe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&_n!==null&&e.mode&1&&!(e.flags&128))BE(),oa(),e.flags|=98560,i=!1;else if(i=hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[pr]=e}else oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else Kn!==null&&(Am(Kn),Kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Et===0&&(Et=3):xy())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return la(),Tm(t,e),t===null&&Bl(e.stateNode.containerInfo),Ft(e),null;case 10:return ry(e.type._context),Ft(e),null;case 17:return hn(e.type)&&yd(),Ft(e),null;case 19:if(Xe(rt),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)rl(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sd(t),o!==null){for(e.flags|=128,rl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&pt()>ua&&(e.flags|=128,r=!0,rl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Ft(e),null}else 2*pt()-i.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,rl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pt(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return wy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function fR(t,e){switch(Zg(e),e.tag){case 1:return hn(e.type)&&yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return la(),Xe(dn),Xe(Ht),ly(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ay(e),null;case 13:if(Xe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(rt),null;case 4:return la(),null;case 10:return ry(e.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var mu=!1,Bt=!1,pR=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function Sm(t,e,n){try{n()}catch(r){ht(t,e,r)}}var Fw=!1;function mR(t,e){if(am=fd,t=kE(),Xg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)f=p,p=w;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++h===r&&(l=o),(w=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lm={focusedElem:t,selectionRange:n},fd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,T=E.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bn(e.type,y),T);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){ht(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return E=Fw,Fw=!1,E}function Sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sm(e,n,i)}s=s.next}while(s!==r)}}function bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CT(t){var e=t.alternate;e!==null&&(t.alternate=null,CT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pr],delete e[Hl],delete e[dm],delete e[XA],delete e[JA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IT(t){return t.tag===5||t.tag===3||t.tag===4}function Uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gd));else if(r!==4&&(t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}var Nt=null,qn=!1;function us(t,e,n){for(n=n.child;n!==null;)NT(t,e,n),n=n.sibling}function NT(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(yh,n)}catch{}switch(n.tag){case 5:Bt||Ro(n,e);case 6:var r=Nt,s=qn;Nt=null,us(t,e,n),Nt=r,qn=s,Nt!==null&&(qn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(qn?(t=Nt,n=n.stateNode,t.nodeType===8?Jf(t.parentNode,n):t.nodeType===1&&Jf(t,n),Ul(t)):Jf(Nt,n.stateNode));break;case 4:r=Nt,s=qn,Nt=n.stateNode.containerInfo,qn=!0,us(t,e,n),Nt=r,qn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sm(n,e,o),s=s.next}while(s!==r)}us(t,e,n);break;case 1:if(!Bt&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,e,a)}us(t,e,n);break;case 21:us(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,us(t,e,n),Bt=r):us(t,e,n);break;default:us(t,e,n)}}function $w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pR),e.forEach(function(r){var s=SR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,qn=!1;break e;case 3:Nt=a.stateNode.containerInfo,qn=!0;break e;case 4:Nt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(Nt===null)throw Error(H(160));NT(i,o,s),Nt=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ht(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}function PT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),or(t),r&4){try{Sl(3,t,t.return),bh(3,t)}catch(y){ht(t,t.return,y)}try{Sl(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:$n(e,t),or(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if($n(e,t),or(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var s=t.stateNode;try{Ml(s,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&X1(s,i),Xp(a,o);var u=Xp(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?nE(s,p):h==="dangerouslySetInnerHTML"?eE(s,p):h==="children"?Ml(s,p):Vg(s,h,p,u)}switch(a){case"input":qp(s,i);break;case"textarea":J1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?jo(s,!!i.multiple,w,!1):f!==!!i.multiple&&(i.defaultValue!=null?jo(s,!!i.multiple,i.defaultValue,!0):jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hl]=i}catch(y){ht(t,t.return,y)}}break;case 6:if($n(e,t),or(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ht(t,t.return,y)}}break;case 3:if($n(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:$n(e,t),or(t);break;case 13:$n(e,t),or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yy=pt())),r&4&&$w(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||h,$n(e,t),Bt=u):$n(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(p=te=h;te!==null;){switch(f=te,w=f.child,f.tag){case 0:case 11:case 14:case 15:Sl(4,f,f.return);break;case 1:Ro(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:Ro(f,f.return);break;case 22:if(f.memoizedState!==null){Bw(p);continue}}w!==null?(w.return=f,te=w):Bw(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tE("display",o))}catch(y){ht(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){ht(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:$n(e,t),or(t),r&4&&$w(t);break;case 21:break;default:$n(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ml(s,""),r.flags&=-33);var i=Uw(t);Im(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uw(t);Cm(t,a,o);break;default:throw Error(H(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gR(t,e,n){te=t,kT(t)}function kT(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||mu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=mu;var u=Bt;if(mu=o,(Bt=l)&&!u)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?Ww(s):l!==null?(l.return=o,te=l):Ww(s);for(;i!==null;)te=i,kT(i),i=i.sibling;te=s,mu=a,Bt=u}zw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):zw(t)}}function zw(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||bh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Ul(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Bt||e.flags&512&&bm(e)}catch(f){ht(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Bw(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Ww(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bh(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ht(e,s,l)}}var i=e.return;try{bm(e)}catch(l){ht(e,i,l)}break;case 5:var o=e.return;try{bm(e)}catch(l){ht(e,o,l)}}}catch(l){ht(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var yR=Math.ceil,Id=ts.ReactCurrentDispatcher,my=ts.ReactCurrentOwner,On=ts.ReactCurrentBatchConfig,Re=0,Ct=null,gt=null,At=0,wn=0,Do=oi(0),Et=0,Xl=null,Ui=0,Ch=0,gy=0,bl=null,on=null,yy=0,ua=1/0,Or=null,Nd=!1,Nm=null,Ls=null,gu=!1,Ps=null,Pd=0,Cl=0,Pm=null,Bu=-1,Wu=0;function en(){return Re&6?pt():Bu!==-1?Bu:Bu=pt()}function Vs(t){return t.mode&1?Re&2&&At!==0?At&-At:eR.transition!==null?(Wu===0&&(Wu=pE()),Wu):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function Yn(t,e,n,r){if(50<Cl)throw Cl=0,Pm=null,Error(H(185));yc(t,n,r),(!(Re&2)||t!==Ct)&&(t===Ct&&(!(Re&2)&&(Ch|=n),Et===4&&ws(t,At)),fn(t,r),n===1&&Re===0&&!(e.mode&1)&&(ua=pt()+500,Eh&&ai()))}function fn(t,e){var n=t.callbackNode;eA(t,e);var r=hd(t,t===Ct?At:0);if(r===0)n!==null&&Z0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z0(n),e===1)t.tag===0?ZA(Hw.bind(null,t)):UE(Hw.bind(null,t)),QA(function(){!(Re&6)&&ai()}),n=null;else{switch(mE(r)){case 1:n=Bg;break;case 4:n=hE;break;case 16:n=dd;break;case 536870912:n=fE;break;default:n=dd}n=VT(n,AT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AT(t,e){if(Bu=-1,Wu=0,Re&6)throw Error(H(327));var n=t.callbackNode;if(Fo()&&t.callbackNode!==n)return null;var r=hd(t,t===Ct?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kd(t,r);else{e=r;var s=Re;Re|=2;var i=DT();(Ct!==t||At!==e)&&(Or=null,ua=pt()+500,ji(t,e));do try{xR();break}catch(a){RT(t,a)}while(!0);ny(),Id.current=i,Re=s,gt!==null?e=0:(Ct=null,At=0,e=Et)}if(e!==0){if(e===2&&(s=nm(t),s!==0&&(r=s,e=km(t,s))),e===1)throw n=Xl,ji(t,0),ws(t,r),fn(t,pt()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!vR(s)&&(e=kd(t,r),e===2&&(i=nm(t),i!==0&&(r=i,e=km(t,i))),e===1))throw n=Xl,ji(t,0),ws(t,r),fn(t,pt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ei(t,on,Or);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=yy+500-pt(),10<e)){if(hd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=um(Ei.bind(null,t,on,Or),e);break}Ei(t,on,Or);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yR(r/1960))-r,10<r){t.timeoutHandle=um(Ei.bind(null,t,on,Or),r);break}Ei(t,on,Or);break;case 5:Ei(t,on,Or);break;default:throw Error(H(329))}}}return fn(t,pt()),t.callbackNode===n?AT.bind(null,t):null}function km(t,e){var n=bl;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=kd(t,e),t!==2&&(e=on,on=n,e!==null&&Am(e)),t}function Am(t){on===null?on=t:on.push.apply(on,t)}function vR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~gy,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function Hw(t){if(Re&6)throw Error(H(327));Fo();var e=hd(t,0);if(!(e&1))return fn(t,pt()),null;var n=kd(t,e);if(t.tag!==0&&n===2){var r=nm(t);r!==0&&(e=r,n=km(t,r))}if(n===1)throw n=Xl,ji(t,0),ws(t,e),fn(t,pt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,on,Or),fn(t,pt()),null}function vy(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(ua=pt()+500,Eh&&ai())}}function $i(t){Ps!==null&&Ps.tag===0&&!(Re&6)&&Fo();var e=Re;Re|=1;var n=On.transition,r=Fe;try{if(On.transition=null,Fe=1,t)return t()}finally{Fe=r,On.transition=n,Re=e,!(Re&6)&&ai()}}function wy(){wn=Do.current,Xe(Do)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GA(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:la(),Xe(dn),Xe(Ht),ly();break;case 5:ay(r);break;case 4:la();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:ry(r.type._context);break;case 22:case 23:wy()}n=n.return}if(Ct=t,gt=t=Fs(t.current,null),At=wn=e,Et=0,Xl=null,gy=Ch=Ui=0,on=bl=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bi=null}return t}function RT(t,e){do{var n=gt;try{if(ny(),Uu.current=Cd,bd){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bd=!1}if(Fi=0,bt=xt=st=null,Tl=!1,Gl=0,my.current=null,n===null||n.return===null){Et=1,Xl=e,gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Rw(o);if(w!==null){w.flags&=-257,Dw(w,o,a,i,e),w.mode&1&&Aw(i,u,e),e=w,l=u;var E=e.updateQueue;if(E===null){var y=new Set;y.add(l),e.updateQueue=y}else E.add(l);break e}else{if(!(e&1)){Aw(i,u,e),xy();break e}l=Error(H(426))}}else if(et&&a.mode&1){var T=Rw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Dw(T,o,a,i,e),ey(ca(l,a));break e}}i=l=ca(l,a),Et!==4&&(Et=2),bl===null?bl=[i]:bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=mT(i,l,e);bw(i,x);break e;case 1:a=l;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ls===null||!Ls.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=gT(i,a,e);bw(i,k);break e}}i=i.return}while(i!==null)}OT(n)}catch(j){e=j,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function DT(){var t=Id.current;return Id.current=Cd,t===null?Cd:t}function xy(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(Ui&268435455)&&!(Ch&268435455)||ws(Ct,At)}function kd(t,e){var n=Re;Re|=2;var r=DT();(Ct!==t||At!==e)&&(Or=null,ji(t,e));do try{wR();break}catch(s){RT(t,s)}while(!0);if(ny(),Re=n,Id.current=r,gt!==null)throw Error(H(261));return Ct=null,At=0,Et}function wR(){for(;gt!==null;)jT(gt)}function xR(){for(;gt!==null&&!Hk();)jT(gt)}function jT(t){var e=LT(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?OT(t):gt=e,my.current=null}function OT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fR(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,gt=null;return}}else if(n=hR(n,e,wn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Et===0&&(Et=5)}function Ei(t,e,n){var r=Fe,s=On.transition;try{On.transition=null,Fe=1,_R(t,e,n,r)}finally{On.transition=s,Fe=r}return null}function _R(t,e,n,r){do Fo();while(Ps!==null);if(Re&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(tA(t,i),t===Ct&&(gt=Ct=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gu||(gu=!0,VT(dd,function(){return Fo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=On.transition,On.transition=null;var o=Fe;Fe=1;var a=Re;Re|=4,my.current=null,mR(t,n),PT(n,t),$A(lm),fd=!!am,lm=am=null,t.current=n,gR(n),qk(),Re=a,Fe=o,On.transition=i}else t.current=n;if(gu&&(gu=!1,Ps=t,Pd=s),i=t.pendingLanes,i===0&&(Ls=null),Qk(n.stateNode),fn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nd)throw Nd=!1,t=Nm,Nm=null,t;return Pd&1&&t.tag!==0&&Fo(),i=t.pendingLanes,i&1?t===Pm?Cl++:(Cl=0,Pm=t):Cl=0,ai(),null}function Fo(){if(Ps!==null){var t=mE(Pd),e=On.transition,n=Fe;try{if(On.transition=null,Fe=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Pd=0,Re&6)throw Error(H(331));var s=Re;for(Re|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Sl(8,h,i)}var p=h.child;if(p!==null)p.return=h,te=p;else for(;te!==null;){h=te;var f=h.sibling,w=h.return;if(CT(h),h===u){te=null;break}if(f!==null){f.return=w,te=f;break}te=w}}}var E=i.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,te=x;break e}te=i.return}}var v=t.current;for(te=v;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bh(9,a)}}catch(j){ht(a,a.return,j)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(Re=s,ai(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(yh,t)}catch{}r=!0}return r}finally{Fe=n,On.transition=e}}return!1}function qw(t,e,n){e=ca(n,e),e=mT(t,e,1),t=Ms(t,e,1),e=en(),t!==null&&(yc(t,1,e),fn(t,e))}function ht(t,e,n){if(t.tag===3)qw(t,t,n);else for(;e!==null;){if(e.tag===3){qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ls===null||!Ls.has(r))){t=ca(n,t),t=gT(e,t,1),e=Ms(e,t,1),t=en(),e!==null&&(yc(e,1,t),fn(e,t));break}}e=e.return}}function ER(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(At&n)===n&&(Et===4||Et===3&&(At&130023424)===At&&500>pt()-yy?ji(t,0):gy|=n),fn(t,e)}function MT(t,e){e===0&&(t.mode&1?(e=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):e=1);var n=en();t=Kr(t,e),t!==null&&(yc(t,e,n),fn(t,n))}function TR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MT(t,n)}function SR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),MT(t,n)}var LT;LT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,dR(t,e,n);cn=!!(t.flags&131072)}else cn=!1,et&&e.flags&1048576&&$E(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zu(t,e),t=e.pendingProps;var s=ia(e,Ht.current);Vo(e,n),s=uy(null,e,r,t,s,n);var i=dy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(i=!0,vd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,iy(e),s.updater=Sh,e.stateNode=s,s._reactInternals=e,ym(e,r,t,n),e=xm(null,e,r,!0,i,n)):(e.tag=0,et&&i&&Jg(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=CR(r),t=Bn(r,t),s){case 0:e=wm(null,e,r,t,n);break e;case 1:e=Mw(null,e,r,t,n);break e;case 11:e=jw(null,e,r,t,n);break e;case 14:e=Ow(null,e,r,Bn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),wm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Mw(t,e,r,s,n);case 3:e:{if(xT(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,KE(t,e),Td(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ca(Error(H(423)),e),e=Lw(t,e,r,n,s);break e}else if(r!==s){s=ca(Error(H(424)),e),e=Lw(t,e,r,n,s);break e}else for(_n=Os(e.stateNode.containerInfo.firstChild),Tn=e,et=!0,Kn=null,n=HE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),r===s){e=Gr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return GE(e),t===null&&pm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,cm(r,s)?o=null:i!==null&&cm(r,i)&&(e.flags|=32),wT(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&pm(e),null;case 13:return _T(t,e,n);case 4:return oy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=aa(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),jw(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(_d,r._currentValue),r._currentValue=o,i!==null)if(Jn(i.value,o)){if(i.children===s.children&&!dn.current){e=Gr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vo(e,n),s=Ln(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),Ow(t,e,r,s,n);case 15:return yT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),zu(t,e),e.tag=1,hn(r)?(t=!0,vd(e)):t=!1,Vo(e,n),pT(e,r,s),ym(e,r,s,n),xm(null,e,r,!0,t,n);case 19:return ET(t,e,n);case 22:return vT(t,e,n)}throw Error(H(156,e.tag))};function VT(t,e){return dE(t,e)}function bR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new bR(t,e,n,r)}function _y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CR(t){if(typeof t=="function")return _y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ug)return 11;if(t===$g)return 14}return 2}function Fs(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Oi(n.children,s,i,e);case Fg:o=8,s|=8;break;case $p:return t=jn(12,n,e,s|2),t.elementType=$p,t.lanes=i,t;case zp:return t=jn(13,n,e,s),t.elementType=zp,t.lanes=i,t;case Bp:return t=jn(19,n,e,s),t.elementType=Bp,t.lanes=i,t;case G1:return Ih(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q1:o=10;break e;case K1:o=9;break e;case Ug:o=11;break e;case $g:o=14;break e;case gs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Oi(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function Ih(t,e,n,r){return t=jn(22,t,r,e),t.elementType=G1,t.lanes=n,t.stateNode={isHidden:!1},t}function op(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function ap(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ey(t,e,n,r,s,i,o,a,l){return t=new IR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(i),t}function NR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FT(t){if(!t)return Ks;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(hn(n))return FE(t,n,e)}return e}function UT(t,e,n,r,s,i,o,a,l){return t=Ey(n,r,!0,t,s,i,o,a,l),t.context=FT(null),n=t.current,r=en(),s=Vs(n),i=zr(r,s),i.callback=e??null,Ms(n,i,s),t.current.lanes=s,yc(t,s,r),fn(t,r),t}function Nh(t,e,n,r){var s=e.current,i=en(),o=Vs(s);return n=FT(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ms(s,e,o),t!==null&&(Yn(t,s,o,i),Fu(t,s,o)),o}function Ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ty(t,e){Kw(t,e),(t=t.alternate)&&Kw(t,e)}function PR(){return null}var $T=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sy(t){this._internalRoot=t}Ph.prototype.render=Sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Nh(t,e,null,null)};Ph.prototype.unmount=Sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Nh(null,t,null,null)}),e[qr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=vE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vs.length&&e!==0&&e<vs[n].priority;n++);vs.splice(n,0,t),n===0&&xE(t)}};function by(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gw(){}function kR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ad(o);i.call(u)}}var o=UT(e,r,t,0,null,!1,!1,"",Gw);return t._reactRootContainer=o,t[qr]=o.current,Bl(t.nodeType===8?t.parentNode:t),$i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ad(l);a.call(u)}}var l=Ey(t,0,!1,null,null,!1,!1,"",Gw);return t._reactRootContainer=l,t[qr]=l.current,Bl(t.nodeType===8?t.parentNode:t),$i(function(){Nh(e,l,n,r)}),l}function Ah(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ad(o);a.call(l)}}Nh(e,o,t,s)}else o=kR(n,e,t,s,r);return Ad(o)}gE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(Wg(e,n|1),fn(e,pt()),!(Re&6)&&(ua=pt()+500,ai()))}break;case 13:$i(function(){var r=Kr(t,1);if(r!==null){var s=en();Yn(r,t,1,s)}}),Ty(t,1)}};Hg=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=en();Yn(e,t,134217728,n)}Ty(t,134217728)}};yE=function(t){if(t.tag===13){var e=Vs(t),n=Kr(t,e);if(n!==null){var r=en();Yn(n,t,e,r)}Ty(t,e)}};vE=function(){return Fe};wE=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Zp=function(t,e,n){switch(e){case"input":if(qp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=_h(r);if(!s)throw Error(H(90));Y1(r),qp(r,s)}}}break;case"textarea":J1(t,n);break;case"select":e=n.value,e!=null&&jo(t,!!n.multiple,e,!1)}};iE=vy;oE=$i;var AR={usingClientEntryPoint:!1,Events:[wc,Io,_h,rE,sE,vy]},sl={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RR={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cE(t),t===null?null:t.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{yh=yu.inject(RR),gr=yu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!by(e))throw Error(H(200));return NR(t,e,null,n)};Cn.createRoot=function(t,e){if(!by(t))throw Error(H(299));var n=!1,r="",s=$T;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ey(t,1,!1,null,null,n,!1,r,s),t[qr]=e.current,Bl(t.nodeType===8?t.parentNode:t),new Sy(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=cE(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return $i(t)};Cn.hydrate=function(t,e,n){if(!kh(e))throw Error(H(200));return Ah(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!by(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$T;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UT(e,null,t,1,n??null,s,!1,i,o),t[qr]=e.current,Bl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ph(e)};Cn.render=function(t,e,n){if(!kh(e))throw Error(H(200));return Ah(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!kh(t))throw Error(H(40));return t._reactRootContainer?($i(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};Cn.unstable_batchedUpdates=vy;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Ah(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function zT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zT)}catch(t){console.error(t)}}zT(),z1.exports=Cn;var Zi=z1.exports;const BT=P1(Zi);var WT,Qw=Zi;WT=Qw.createRoot,Qw.hydrateRoot;const DR=1,jR=1e6;let lp=0;function OR(){return lp=(lp+1)%Number.MAX_SAFE_INTEGER,lp.toString()}const cp=new Map,Yw=t=>{if(cp.has(t))return;const e=setTimeout(()=>{cp.delete(t),Il({type:"REMOVE_TOAST",toastId:t})},jR);cp.set(t,e)},MR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Yw(n):t.toasts.forEach(r=>{Yw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qu=[];let Ku={toasts:[]};function Il(t){Ku=MR(Ku,t),qu.forEach(e=>{e(Ku)})}function LR({...t}){const e=OR(),n=s=>Il({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Il({type:"DISMISS_TOAST",toastId:e});return Il({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function VR(){const[t,e]=g.useState(Ku);return g.useEffect(()=>(qu.push(e),()=>{const n=qu.indexOf(e);n>-1&&qu.splice(n,1)}),[t]),{...t,toast:LR,dismiss:n=>Il({type:"DISMISS_TOAST",toastId:n})}}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function FR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function HT(...t){return e=>t.forEach(n=>FR(n,e))}function Je(...t){return g.useCallback(HT(...t),t)}function UR(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:w,...E}=p,y=(f==null?void 0:f[t][l])||a,T=g.useMemo(()=>E,Object.values(E));return d.jsx(y.Provider,{value:T,children:w})}function h(p,f){const w=(f==null?void 0:f[t][l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$R(s,...e)]}function $R(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var da=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(zR);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return d.jsx(Rm,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return d.jsx(Rm,{...r,ref:e,children:n})});da.displayName="Slot";var Rm=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=WR(n);return g.cloneElement(n,{...BR(r,n.props),ref:e?HT(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});Rm.displayName="SlotClone";var qT=({children:t})=>d.jsx(d.Fragment,{children:t});function zR(t){return g.isValidElement(t)&&t.type===qT}function BR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function WR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Cy(t){const e=t+"CollectionProvider",[n,r]=UR(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:E,children:y}=w,T=Y.useRef(null),x=Y.useRef(new Map).current;return d.jsx(s,{scope:E,itemMap:x,collectionRef:T,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Y.forwardRef((w,E)=>{const{scope:y,children:T}=w,x=i(a,y),v=Je(E,x.collectionRef);return d.jsx(da,{ref:v,children:T})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",p=Y.forwardRef((w,E)=>{const{scope:y,children:T,...x}=w,v=Y.useRef(null),S=Je(E,v),k=i(u,y);return Y.useEffect(()=>(k.itemMap.set(v,{ref:v,...x}),()=>void k.itemMap.delete(v))),d.jsx(da,{[h]:"",ref:S,children:T})});p.displayName=u;function f(w){const E=i(t+"CollectionConsumer",w);return Y.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const x=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((k,j)=>x.indexOf(k.ref.current)-x.indexOf(j.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function Ca(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=p=>{var x;const{scope:f,children:w,...E}=p,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,T=g.useMemo(()=>E,Object.values(E));return d.jsx(y.Provider,{value:T,children:w})};u.displayName=i+"Provider";function h(p,f){var y;const w=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,HR(s,...e)]}function HR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var qR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=qR.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?da:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function KT(t,e){t&&Zi.flushSync(()=>t.dispatchEvent(e))}function pn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function KR(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var GR="DismissableLayer",Dm="dismissableLayer.update",QR="dismissableLayer.pointerDownOutside",YR="dismissableLayer.focusOutside",Xw,GT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rh=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(GT),[h,p]=g.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=g.useState({}),E=Je(e,C=>p(C)),y=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),v=h?y.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=x,j=JR(C=>{const b=C.target,I=[...u.branches].some(P=>P.contains(b));!k||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),O=ZR(C=>{const b=C.target;[...u.branches].some(P=>P.contains(b))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return KR(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),g.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Jw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Xw)}},[h,f,n,u]),g.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Jw())},[h,u]),g.useEffect(()=>{const C=()=>w({});return document.addEventListener(Dm,C),()=>document.removeEventListener(Dm,C)},[]),d.jsx(Te.div,{...l,ref:E,style:{pointerEvents:S?k?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,O.onFocusCapture),onBlurCapture:he(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,j.onPointerDownCapture)})});Rh.displayName=GR;var XR="DismissableLayerBranch",QT=g.forwardRef((t,e)=>{const n=g.useContext(GT),r=g.useRef(null),s=Je(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Te.div,{...t,ref:s})});QT.displayName=XR;function JR(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){YT(QR,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZR(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&YT(YR,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jw(){const t=new CustomEvent(Dm);document.dispatchEvent(t)}function YT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KT(s,i):s.dispatchEvent(i)}var e2=Rh,t2=QT,qt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},n2="Portal",Iy=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?BT.createPortal(d.jsx(Te.div,{...r,ref:e}),o):null});Iy.displayName=n2;function r2(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var _c=t=>{const{present:e,children:n}=t,r=s2(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Je(r.ref,i2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};_c.displayName="Presence";function s2(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=r2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=vu(r.current);i.current=a==="mounted"?u:"none"},[a]),qt(()=>{const u=r.current,h=s.current;if(h!==t){const f=i.current,w=vu(u);t?l("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&f!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),qt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=w=>{const y=vu(r.current).includes(w.animationName);if(w.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},f=w=>{w.target===e&&(i.current=vu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function vu(t){return(t==null?void 0:t.animationName)||"none"}function i2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=o2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=pn(n),l=g.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function o2({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=pn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var a2="VisuallyHidden",Ec=g.forwardRef((t,e)=>d.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ec.displayName=a2;var l2=Ec,Ny="ToastProvider",[Py,c2,u2]=Cy("Toast"),[XT,g7]=Ca("Toast",[u2]),[d2,Dh]=XT(Ny),JT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,h]=g.useState(0),p=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ny}\`. Expected non-empty \`string\`.`),d.jsx(Py.Provider,{scope:e,children:d.jsx(d2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>h(w=>w+1),[]),onToastRemove:g.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};JT.displayName=Ny;var ZT="ToastViewport",h2=["F8"],jm="toast.viewportPause",Om="toast.viewportResume",eS=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=h2,label:s="Notifications ({hotkey})",...i}=t,o=Dh(ZT,n),a=c2(n),l=g.useRef(null),u=g.useRef(null),h=g.useRef(null),p=g.useRef(null),f=Je(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;g.useEffect(()=>{const T=x=>{var S;r.length!==0&&r.every(k=>x[k]||x.code===k)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),g.useEffect(()=>{const T=l.current,x=p.current;if(E&&T&&x){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(jm);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Om);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},k=O=>{!T.contains(O.relatedTarget)&&S()},j=()=>{T.contains(document.activeElement)||S()};return T.addEventListener("focusin",v),T.addEventListener("focusout",k),T.addEventListener("pointermove",v),T.addEventListener("pointerleave",j),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{T.removeEventListener("focusin",v),T.removeEventListener("focusout",k),T.removeEventListener("pointermove",v),T.removeEventListener("pointerleave",j),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[E,o.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:T})=>{const v=a().map(S=>{const k=S.ref.current,j=[k,...b2(k)];return T==="forwards"?j:j.reverse()});return(T==="forwards"?v.reverse():v).flat()},[a]);return g.useEffect(()=>{const T=p.current;if(T){const x=v=>{var j,O,C;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const b=document.activeElement,I=v.shiftKey;if(v.target===T&&I){(j=u.current)==null||j.focus();return}const D=y({tabbingDirection:I?"backwards":"forwards"}),A=D.findIndex(W=>W===b);up(D.slice(A+1))?v.preventDefault():I?(O=u.current)==null||O.focus():(C=h.current)==null||C.focus()}};return T.addEventListener("keydown",x),()=>T.removeEventListener("keydown",x)}},[a,y]),d.jsxs(t2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&d.jsx(Mm,{ref:u,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});up(T)}}),d.jsx(Py.Slot,{scope:n,children:d.jsx(Te.ol,{tabIndex:-1,...i,ref:f})}),E&&d.jsx(Mm,{ref:h,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});up(T)}})]})});eS.displayName=ZT;var tS="ToastFocusProxy",Mm=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Dh(tS,n);return d.jsx(Ec,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Mm.displayName=tS;var jh="Toast",f2="toast.swipeStart",p2="toast.swipeMove",m2="toast.swipeCancel",g2="toast.swipeEnd",nS=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=zi({prop:r,defaultProp:s,onChange:i});return d.jsx(_c,{present:n||a,children:d.jsx(w2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:pn(t.onPause),onResume:pn(t.onResume),onSwipeStart:he(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:he(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});nS.displayName=jh;var[y2,v2]=XT(jh,{onClose(){}}),w2=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:w,...E}=t,y=Dh(jh,n),[T,x]=g.useState(null),v=Je(e,W=>x(W)),S=g.useRef(null),k=g.useRef(null),j=s||y.duration,O=g.useRef(0),C=g.useRef(j),b=g.useRef(0),{onToastAdd:I,onToastRemove:P}=y,R=pn(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),D=g.useCallback(W=>{!W||W===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(R,W))},[R]);g.useEffect(()=>{const W=y.viewport;if(W){const re=()=>{D(C.current),u==null||u()},G=()=>{const se=new Date().getTime()-O.current;C.current=C.current-se,window.clearTimeout(b.current),l==null||l()};return W.addEventListener(jm,G),W.addEventListener(Om,re),()=>{W.removeEventListener(jm,G),W.removeEventListener(Om,re)}}},[y.viewport,j,l,u,D]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(j)},[i,j,y.isClosePausedRef,D]),g.useEffect(()=>(I(),()=>P()),[I,P]);const A=g.useMemo(()=>T?cS(T):null,[T]);return y.viewport?d.jsxs(d.Fragment,{children:[A&&d.jsx(x2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),d.jsx(y2,{scope:n,onClose:R,children:Zi.createPortal(d.jsx(Py.ItemSlot,{scope:n,children:d.jsx(e2,{asChild:!0,onEscapeKeyDown:he(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...E,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:he(t.onPointerDown,W=>{W.button===0&&(S.current={x:W.clientX,y:W.clientY})}),onPointerMove:he(t.onPointerMove,W=>{if(!S.current)return;const re=W.clientX-S.current.x,G=W.clientY-S.current.y,se=!!k.current,L=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,X=L?z(0,re):0,q=L?0:z(0,G),J=W.pointerType==="touch"?10:2,ee={x:X,y:q},oe={originalEvent:W,delta:ee};se?(k.current=ee,wu(p2,p,oe,{discrete:!1})):Zw(ee,y.swipeDirection,J)?(k.current=ee,wu(f2,h,oe,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(re)>J||Math.abs(G)>J)&&(S.current=null)}),onPointerUp:he(t.onPointerUp,W=>{const re=k.current,G=W.target;if(G.hasPointerCapture(W.pointerId)&&G.releasePointerCapture(W.pointerId),k.current=null,S.current=null,re){const se=W.currentTarget,L={originalEvent:W,delta:re};Zw(re,y.swipeDirection,y.swipeThreshold)?wu(g2,w,L,{discrete:!0}):wu(m2,f,L,{discrete:!0}),se.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),x2=t=>{const{__scopeToast:e,children:n,...r}=t,s=Dh(jh,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return T2(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Iy,{asChild:!0,children:d.jsx(Ec,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},_2="ToastTitle",rS=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Te.div,{...r,ref:e})});rS.displayName=_2;var E2="ToastDescription",sS=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Te.div,{...r,ref:e})});sS.displayName=E2;var iS="ToastAction",oS=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(lS,{altText:n,asChild:!0,children:d.jsx(ky,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iS}\`. Expected non-empty \`string\`.`),null)});oS.displayName=iS;var aS="ToastClose",ky=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=v2(aS,n);return d.jsx(lS,{asChild:!0,children:d.jsx(Te.button,{type:"button",...r,ref:e,onClick:he(t.onClick,s.onClose)})})});ky.displayName=aS;var lS=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function cS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),S2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...cS(r))}}),e}function wu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KT(s,i):s.dispatchEvent(i)}var Zw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function T2(t=()=>{}){const e=pn(t);qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function S2(t){return t.nodeType===t.ELEMENT_NODE}function b2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function up(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var C2=JT,uS=eS,dS=nS,hS=rS,fS=sS,pS=oS,mS=ky;function gS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gS(t))&&(r&&(r+=" "),r+=e);return r}const ex=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tx=yS,Ay=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const f=ex(h)||ex(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:f,...w}=h;return Object.entries(w).every(E=>{let[y,T]=E;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...u,p,f]:u},[]);return tx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...N2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vS("lucide",s),...a},[...o.map(([u,h])=>g.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(P2,{ref:i,iconNode:e,className:vS(`lucide-${I2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Pe("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jy="-",q2=t=>{const e=G2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(jy);return a[0]===""&&a.length!==1&&a.shift(),TS(a,e)||K2(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},TS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?TS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(jy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},sx=/^\[(.+)\]$/,K2=t=>{if(sx.test(t)){const e=sx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},G2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Y2(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vm(o,r,i,e)}),r},Vm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ix(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Q2(s)){Vm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vm(o,ix(e,i),n,r)})})},ix=(t,e)=>{let n=t;return e.split(jy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Q2=t=>t.isThemeGetter,Y2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,X2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},SS="!",J2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,p;for(let T=0;T<a.length;T++){let x=a[T];if(u===0){if(x===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(h,T)),h=T+i;continue}if(x==="/"){p=T;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?a:a.substring(h),w=f.startsWith(SS),E=w?f.substring(1):f,y=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},Z2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},eD=t=>({cache:X2(t.cacheSize),parseClassName:J2(t),...q2(t)}),tD=/\s+/,nD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(tD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:w}=n(u);let E=!!w,y=r(E?f.substring(0,w):f);if(!y){if(!E){a=u+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=u+(a.length>0?" "+a:a);continue}E=!1}const T=Z2(h).join(":"),x=p?T+SS:T,v=x+y;if(i.includes(v))continue;i.push(v);const S=s(y,E);for(let k=0;k<S.length;++k){const j=S[k];i.push(x+j)}a=u+(a.length>0?" "+a:a)}return a};function rD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bS(e))&&(r&&(r+=" "),r+=n);return r}const bS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bS(t[r]))&&(n&&(n+=" "),n+=e);return n};function sD(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,p)=>p(h),t());return n=eD(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=nD(l,n);return s(l,h),h}return function(){return i(rD.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CS=/^\[(?:([a-z-]+):)?(.+)\]$/i,iD=/^\d+\/\d+$/,oD=new Set(["px","full","screen"]),aD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=t=>$o(t)||oD.has(t)||iD.test(t),ds=t=>Ia(t,"length",wD),$o=t=>!!t&&!Number.isNaN(Number(t)),pp=t=>Ia(t,"number",$o),il=t=>!!t&&Number.isInteger(Number(t)),hD=t=>t.endsWith("%")&&$o(t.slice(0,-1)),xe=t=>CS.test(t),hs=t=>aD.test(t),fD=new Set(["length","size","percentage"]),pD=t=>Ia(t,fD,IS),mD=t=>Ia(t,"position",IS),gD=new Set(["image","url"]),yD=t=>Ia(t,gD,_D),vD=t=>Ia(t,"",xD),ol=()=>!0,Ia=(t,e,n)=>{const r=CS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wD=t=>lD.test(t)&&!cD.test(t),IS=()=>!1,xD=t=>uD.test(t),_D=t=>dD.test(t),ED=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),a=Ke("borderWidth"),l=Ke("contrast"),u=Ke("grayscale"),h=Ke("hueRotate"),p=Ke("invert"),f=Ke("gap"),w=Ke("gradientColorStops"),E=Ke("gradientColorStopPositions"),y=Ke("inset"),T=Ke("margin"),x=Ke("opacity"),v=Ke("padding"),S=Ke("saturate"),k=Ke("scale"),j=Ke("sepia"),O=Ke("skew"),C=Ke("space"),b=Ke("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",xe,e],D=()=>[xe,e],A=()=>["",Dr,ds],W=()=>["auto",$o,xe],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",xe],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[$o,xe];return{cacheSize:500,separator:":",theme:{colors:[ol],spacing:[Dr,ds],blur:["none","",hs,xe],brightness:q(),borderColor:[t],borderRadius:["none","","full",hs,xe],borderSpacing:D(),borderWidth:A(),contrast:q(),grayscale:z(),hueRotate:q(),invert:z(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[hD,ds],inset:R(),margin:R(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:z(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),xe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il,xe]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",il,xe]}],"grid-cols":[{"grid-cols":[ol]}],"col-start-end":[{col:["auto",{span:["full",il,xe]},xe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[ol]}],"row-start-end":[{row:["auto",{span:[il,xe]},xe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pp]}],"font-family":[{font:[ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",$o,pp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,ds]}],"underline-offset":[{"underline-offset":["auto",Dr,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),mD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Dr,xe]}],"outline-w":[{outline:[Dr,ds]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Dr,ds]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hs,vD]}],"shadow-color":[{shadow:[ol]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hs,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[il,xe]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dr,ds,pp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TD=sD(ED);function Be(...t){return TD(yS(t))}function gn(t){return t.replace(/<[^>]*>?/gm,"").trim()}function mp(t){if(!(t!=null&&t.checklist)||t.checklist.length===0)return 0;const e=t.checklist.filter(n=>n.done).length;return Math.round(e/t.checklist.length*100)}const SD=C2,NS=g.forwardRef(({className:t,...e},n)=>d.jsx(uS,{ref:n,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));NS.displayName=uS.displayName;const bD=Ay("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PS=g.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(dS,{ref:r,className:Be(bD({variant:e}),t),...n}));PS.displayName=dS.displayName;const CD=g.forwardRef(({className:t,...e},n)=>d.jsx(pS,{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));CD.displayName=pS.displayName;const kS=g.forwardRef(({className:t,...e},n)=>d.jsx(mS,{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Dy,{className:"h-4 w-4"})}));kS.displayName=mS.displayName;const AS=g.forwardRef(({className:t,...e},n)=>d.jsx(hS,{ref:n,className:Be("text-sm font-semibold",t),...e}));AS.displayName=hS.displayName;const RS=g.forwardRef(({className:t,...e},n)=>d.jsx(fS,{ref:n,className:Be("text-sm opacity-90",t),...e}));RS.displayName=fS.displayName;function ID(){const{toasts:t}=VR();return d.jsxs(SD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(PS,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(AS,{children:n}),r&&d.jsx(RS,{children:r})]}),s,d.jsx(kS,{})]},e)}),d.jsx(NS,{})]})}var ox=["light","dark"],ND="(prefers-color-scheme: dark)",PD=g.createContext(void 0),kD={setTheme:t=>{},themes:[]},AD=()=>{var t;return(t=g.useContext(PD))!=null?t:kD};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?ox.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(E,y=!1,T=!0)=>{let x=o?o[E]:E,v=y?E+"|| ''":`'${x}'`,S="";return s&&T&&!y&&ox.includes(E)&&(S+=`d.style.colorScheme = '${E}';`),n==="class"?y||x?S+=`c.add(${v})`:S+="null":x&&(S+=`d[s](n,${v})`),S},w=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${ND}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:w}})});var RD=t=>{switch(t){case"success":return OD;case"info":return LD;case"warning":return MD;case"error":return VD;default:return null}},DD=Array(12).fill(0),jD=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},DD.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FD=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Fm=1,UD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Fm++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(zD(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Fm++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},vn=new UD,$D=(t,e)=>{let n=(e==null?void 0:e.id)||Fm++;return vn.addToast({title:t,...e,id:n}),n},zD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",BD=$D,WD=()=>vn.toasts;Object.assign(BD,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:WD});function HD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}HD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xu(t){return t.label!==void 0}var qD=3,KD="32px",GD=4e3,QD=356,YD=14,XD=20,JD=200;function ZD(...t){return t.filter(Boolean).join(" ")}var ej=t=>{var e,n,r,s,i,o,a,l,u,h;let{invert:p,toast:f,unstyled:w,interacting:E,setHeights:y,visibleToasts:T,heights:x,index:v,toasts:S,expanded:k,removeToast:j,defaultRichColors:O,closeButton:C,style:b,cancelButtonStyle:I,actionButtonStyle:P,className:R="",descriptionClassName:D="",duration:A,position:W,gap:re,loadingIcon:G,expandByDefault:se,classNames:L,icons:z,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:q,cn:J}=t,[ee,oe]=Y.useState(!1),[be,we]=Y.useState(!1),[ne,_e]=Y.useState(!1),[je,ye]=Y.useState(!1),[fe,K]=Y.useState(0),[ue,tt]=Y.useState(0),nt=Y.useRef(null),ke=Y.useRef(null),Nn=v===0,pi=v+1<=T,He=f.type,Pn=f.dismissible!==!1,nr=f.className||"",Fa=f.descriptionClassName||"",rr=Y.useMemo(()=>x.findIndex(pe=>pe.toastId===f.id)||0,[x,f.id]),mi=Y.useMemo(()=>{var pe;return(pe=f.closeButton)!=null?pe:C},[f.closeButton,C]),gi=Y.useMemo(()=>f.duration||A||GD,[f.duration,A]),ct=Y.useRef(0),Ze=Y.useRef(0),sr=Y.useRef(0),F=Y.useRef(null),[ae,Oe]=W.split("-"),$e=Y.useMemo(()=>x.reduce((pe,Ue,Ve)=>Ve>=rr?pe:pe+Ue.height,0),[x,rr]),Gt=FD(),io=f.invert||p,yi=He==="loading";Ze.current=Y.useMemo(()=>rr*re+$e,[rr,$e]),Y.useEffect(()=>{oe(!0)},[]),Y.useLayoutEffect(()=>{if(!ee)return;let pe=ke.current,Ue=pe.style.height;pe.style.height="auto";let Ve=pe.getBoundingClientRect().height;pe.style.height=Ue,tt(Ve),y(jt=>jt.find(rn=>rn.toastId===f.id)?jt.map(rn=>rn.toastId===f.id?{...rn,height:Ve}:rn):[{toastId:f.id,height:Ve,position:f.position},...jt])},[ee,f.title,f.description,y,f.id]);let ir=Y.useCallback(()=>{we(!0),K(Ze.current),y(pe=>pe.filter(Ue=>Ue.toastId!==f.id)),setTimeout(()=>{j(f)},JD)},[f,j,y,Ze]);Y.useEffect(()=>{if(f.promise&&He==="loading"||f.duration===1/0||f.type==="loading")return;let pe,Ue=gi;return k||E||q&&Gt?(()=>{if(sr.current<ct.current){let Ve=new Date().getTime()-ct.current;Ue=Ue-Ve}sr.current=new Date().getTime()})():Ue!==1/0&&(ct.current=new Date().getTime(),pe=setTimeout(()=>{var Ve;(Ve=f.onAutoClose)==null||Ve.call(f,f),ir()},Ue)),()=>clearTimeout(pe)},[k,E,se,f,gi,ir,f.promise,He,q,Gt]),Y.useEffect(()=>{let pe=ke.current;if(pe){let Ue=pe.getBoundingClientRect().height;return tt(Ue),y(Ve=>[{toastId:f.id,height:Ue,position:f.position},...Ve]),()=>y(Ve=>Ve.filter(jt=>jt.toastId!==f.id))}},[y,f.id]),Y.useEffect(()=>{f.delete&&ir()},[ir,f.delete]);function Ef(){return z!=null&&z.loading?Y.createElement("div",{className:"sonner-loader","data-visible":He==="loading"},z.loading):G?Y.createElement("div",{className:"sonner-loader","data-visible":He==="loading"},G):Y.createElement(jD,{visible:He==="loading"})}return Y.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ke,className:J(R,nr,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[He],(n=f==null?void 0:f.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:O,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":be,"data-visible":pi,"data-y-position":ae,"data-x-position":Oe,"data-index":v,"data-front":Nn,"data-swiping":ne,"data-dismissible":Pn,"data-type":He,"data-invert":io,"data-swipe-out":je,"data-expanded":!!(k||se&&ee),style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${be?fe:Ze.current}px`,"--initial-height":se?"auto":`${ue}px`,...b,...f.style},onPointerDown:pe=>{yi||!Pn||(nt.current=new Date,K(Ze.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(_e(!0),F.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,Ue,Ve,jt;if(je||!Pn)return;F.current=null;let rn=Number(((pe=ke.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),os=new Date().getTime()-((Ue=nt.current)==null?void 0:Ue.getTime()),kr=Math.abs(rn)/os;if(Math.abs(rn)>=XD||kr>.11){K(Ze.current),(Ve=f.onDismiss)==null||Ve.call(f,f),ir(),ye(!0);return}(jt=ke.current)==null||jt.style.setProperty("--swipe-amount","0px"),_e(!1)},onPointerMove:pe=>{var Ue;if(!F.current||!Pn)return;let Ve=pe.clientY-F.current.y,jt=pe.clientX-F.current.x,rn=(ae==="top"?Math.min:Math.max)(0,Ve),os=pe.pointerType==="touch"?10:2;Math.abs(rn)>os?(Ue=ke.current)==null||Ue.style.setProperty("--swipe-amount",`${Ve}px`):Math.abs(jt)>os&&(F.current=null)}},mi&&!f.jsx?Y.createElement("button",{"aria-label":X,"data-disabled":yi,"data-close-button":!0,onClick:yi||!Pn?()=>{}:()=>{var pe;ir(),(pe=f.onDismiss)==null||pe.call(f,f)},className:J(L==null?void 0:L.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Y.isValidElement(f.title)?f.jsx||f.title:Y.createElement(Y.Fragment,null,He||f.icon||f.promise?Y.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ef():null,f.type!=="loading"?f.icon||(z==null?void 0:z[He])||RD(He):null):null,Y.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?Y.createElement("div",{"data-description":"",className:J(D,Fa,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),Y.isValidElement(f.cancel)?f.cancel:f.cancel&&xu(f.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:pe=>{var Ue,Ve;xu(f.cancel)&&Pn&&((Ve=(Ue=f.cancel).onClick)==null||Ve.call(Ue,pe),ir())},className:J(L==null?void 0:L.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Y.isValidElement(f.action)?f.action:f.action&&xu(f.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:pe=>{var Ue,Ve;xu(f.action)&&(pe.defaultPrevented||((Ve=(Ue=f.action).onClick)==null||Ve.call(Ue,pe),ir()))},className:J(L==null?void 0:L.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ax(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var tj=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:h,style:p,visibleToasts:f=qD,toastOptions:w,dir:E=ax(),gap:y=YD,loadingIcon:T,icons:x,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:S,cn:k=ZD}=t,[j,O]=Y.useState([]),C=Y.useMemo(()=>Array.from(new Set([n].concat(j.filter(q=>q.position).map(q=>q.position)))),[j,n]),[b,I]=Y.useState([]),[P,R]=Y.useState(!1),[D,A]=Y.useState(!1),[W,re]=Y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=Y.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Y.useRef(null),z=Y.useRef(!1),X=Y.useCallback(q=>{var J;(J=j.find(ee=>ee.id===q.id))!=null&&J.delete||vn.dismiss(q.id),O(ee=>ee.filter(({id:oe})=>oe!==q.id))},[j]);return Y.useEffect(()=>vn.subscribe(q=>{if(q.dismiss){O(J=>J.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{BT.flushSync(()=>{O(J=>{let ee=J.findIndex(oe=>oe.id===q.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...q},...J.slice(ee+1)]:[q,...J]})})})}),[]),Y.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{re(q?"dark":"light")})},[l]),Y.useEffect(()=>{j.length<=1&&R(!1)},[j]),Y.useEffect(()=>{let q=J=>{var ee,oe;r.every(be=>J[be]||J.code===be)&&(R(!0),(ee=G.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===G.current||(oe=G.current)!=null&&oe.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),Y.useEffect(()=>{if(G.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[G.current]),j.length?Y.createElement("section",{"aria-label":`${v} ${se}`,tabIndex:-1},C.map((q,J)=>{var ee;let[oe,be]=q.split("-");return Y.createElement("ol",{key:q,dir:E==="auto"?ax():E,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":oe,"data-x-position":be,style:{"--front-toast-height":`${((ee=b[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||KD,"--width":`${QD}px`,"--gap":`${y}px`,...p},onBlur:we=>{z.current&&!we.currentTarget.contains(we.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||z.current||(z.current=!0,L.current=we.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{D||R(!1)},onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},j.filter(we=>!we.position&&J===0||we.position===q).map((we,ne)=>{var _e,je;return Y.createElement(ej,{key:we.id,icons:x,index:ne,toast:we,defaultRichColors:u,duration:(_e=w==null?void 0:w.duration)!=null?_e:h,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:e,visibleToasts:f,closeButton:(je=w==null?void 0:w.closeButton)!=null?je:i,interacting:D,position:q,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:X,toasts:j.filter(ye=>ye.position==we.position),heights:b.filter(ye=>ye.position==we.position),setHeights:I,expandByDefault:s,gap:y,loadingIcon:T,expanded:P,pauseWhenPageIsHidden:S,cn:k})}))})):null};const nj=({...t})=>{const{theme:e="system"}=AD();return d.jsx(tj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var rj=U1.useId||(()=>{}),sj=0;function Tc(t){const[e,n]=g.useState(rj());return qt(()=>{n(r=>r??String(sj++))},[t]),e?`radix-${e}`:""}const ij=["top","right","bottom","left"],Gs=Math.min,xn=Math.max,Od=Math.round,_u=Math.floor,Qs=t=>({x:t,y:t}),oj={left:"right",right:"left",bottom:"top",top:"bottom"},aj={start:"end",end:"start"};function Um(t,e,n){return xn(t,Gs(e,n))}function Qr(t,e){return typeof t=="function"?t(e):t}function Yr(t){return t.split("-")[0]}function Na(t){return t.split("-")[1]}function Oy(t){return t==="x"?"y":"x"}function My(t){return t==="y"?"height":"width"}function Ys(t){return["top","bottom"].includes(Yr(t))?"y":"x"}function Ly(t){return Oy(Ys(t))}function lj(t,e,n){n===void 0&&(n=!1);const r=Na(t),s=Ly(t),i=My(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Md(o)),[o,Md(o)]}function cj(t){const e=Md(t);return[$m(t),e,$m(e)]}function $m(t){return t.replace(/start|end/g,e=>aj[e])}function uj(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function dj(t,e,n,r){const s=Na(t);let i=uj(Yr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($m)))),i}function Md(t){return t.replace(/left|right|bottom|top/g,e=>oj[e])}function hj(t){return{top:0,right:0,bottom:0,left:0,...t}}function DS(t){return typeof t!="number"?hj(t):{top:t,right:t,bottom:t,left:t}}function Ld(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function lx(t,e,n){let{reference:r,floating:s}=t;const i=Ys(e),o=Ly(e),a=My(o),l=Yr(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let w;switch(l){case"top":w={x:h,y:r.y-s.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-s.width,y:p};break;default:w={x:r.x,y:r.y}}switch(Na(e)){case"start":w[o]-=f*(n&&u?-1:1);break;case"end":w[o]+=f*(n&&u?-1:1);break}return w}const fj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=lx(u,r,l),f=r,w={},E=0;for(let y=0;y<a.length;y++){const{name:T,fn:x}=a[y],{x:v,y:S,data:k,reset:j}=await x({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:w,rects:u,platform:o,elements:{reference:t,floating:e}});h=v??h,p=S??p,w={...w,[T]:{...w[T],...k}},j&&E<=50&&(E++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:p}=lx(u,f,l)),y=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:w}};async function ec(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:w=0}=Qr(e,t),E=DS(w),T=a[f?p==="floating"?"reference":"floating":p],x=Ld(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),v=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},j=Ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:l}):v);return{top:(x.top-j.top+E.top)/k.y,bottom:(j.bottom-x.bottom+E.bottom)/k.y,left:(x.left-j.left+E.left)/k.x,right:(j.right-x.right+E.right)/k.x}}const pj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Qr(t,e)||{};if(u==null)return{};const p=DS(h),f={x:n,y:r},w=Ly(s),E=My(w),y=await o.getDimensions(u),T=w==="y",x=T?"top":"left",v=T?"bottom":"right",S=T?"clientHeight":"clientWidth",k=i.reference[E]+i.reference[w]-f[w]-i.floating[E],j=f[w]-i.reference[w],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=O?O[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[S]||i.floating[E]);const b=k/2-j/2,I=C/2-y[E]/2-1,P=Gs(p[x],I),R=Gs(p[v],I),D=P,A=C-y[E]-R,W=C/2-y[E]/2+b,re=Um(D,W,A),G=!l.arrow&&Na(s)!=null&&W!==re&&i.reference[E]/2-(W<D?P:R)-y[E]/2<0,se=G?W<D?W-D:W-A:0;return{[w]:f[w]+se,data:{[w]:re,centerOffset:W-re-se,...G&&{alignmentOffset:se}},reset:G}}}),mj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:y=!0,...T}=Qr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Yr(s),v=Ys(a),S=Yr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=f||(S||!y?[Md(a)]:cj(a)),O=E!=="none";!f&&O&&j.push(...dj(a,y,E,k));const C=[a,...j],b=await ec(e,T),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(b[x]),p){const W=lj(s,o,k);I.push(b[W[0]],b[W[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(W=>W<=0)){var R,D;const W=(((R=i.flip)==null?void 0:R.index)||0)+1,re=C[W];if(re)return{data:{index:W,overflows:P},reset:{placement:re}};let G=(D=P.filter(se=>se.overflows[0]<=0).sort((se,L)=>se.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!G)switch(w){case"bestFit":{var A;const se=(A=P.filter(L=>{if(O){const z=Ys(L.placement);return z===v||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,X)=>z+X,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:A[0];se&&(G=se);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function cx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ux(t){return ij.some(e=>t[e]>=0)}const gj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Qr(t,e);switch(r){case"referenceHidden":{const i=await ec(e,{...s,elementContext:"reference"}),o=cx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ux(o)}}}case"escaped":{const i=await ec(e,{...s,altBoundary:!0}),o=cx(i,n.floating);return{data:{escapedOffsets:o,escaped:ux(o)}}}default:return{}}}}};async function yj(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Yr(n),a=Na(n),l=Ys(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=Qr(e,t);let{mainAxis:f,crossAxis:w,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof E=="number"&&(w=a==="end"?E*-1:E),l?{x:w*h,y:f*u}:{x:f*u,y:w*h}}const vj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await yj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},wj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x,y:v}=T;return{x,y:v}}},...l}=Qr(t,e),u={x:n,y:r},h=await ec(e,l),p=Ys(Yr(s)),f=Oy(p);let w=u[f],E=u[p];if(i){const T=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=w+h[T],S=w-h[x];w=Um(v,w,S)}if(o){const T=p==="y"?"top":"left",x=p==="y"?"bottom":"right",v=E+h[T],S=E-h[x];E=Um(v,E,S)}const y=a.fn({...e,[f]:w,[p]:E});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[p]:o}}}}}},xj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Qr(t,e),h={x:n,y:r},p=Ys(s),f=Oy(p);let w=h[f],E=h[p];const y=Qr(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=f==="y"?"height":"width",k=i.reference[f]-i.floating[S]+T.mainAxis,j=i.reference[f]+i.reference[S]-T.mainAxis;w<k?w=k:w>j&&(w=j)}if(u){var x,v;const S=f==="y"?"width":"height",k=["top","left"].includes(Yr(s)),j=i.reference[p]-i.floating[S]+(k&&((x=o.offset)==null?void 0:x[p])||0)+(k?0:T.crossAxis),O=i.reference[p]+i.reference[S]+(k?0:((v=o.offset)==null?void 0:v[p])||0)-(k?T.crossAxis:0);E<j?E=j:E>O&&(E=O)}return{[f]:w,[p]:E}}}},_j=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Qr(t,e),h=await ec(e,u),p=Yr(s),f=Na(s),w=Ys(s)==="y",{width:E,height:y}=i.floating;let T,x;p==="top"||p==="bottom"?(T=p,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,T=f==="end"?"top":"bottom");const v=y-h.top-h.bottom,S=E-h.left-h.right,k=Gs(y-h[T],v),j=Gs(E-h[x],S),O=!e.middlewareData.shift;let C=k,b=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),O&&!f){const P=xn(h.left,0),R=xn(h.right,0),D=xn(h.top,0),A=xn(h.bottom,0);w?b=E-2*(P!==0||R!==0?P+R:xn(h.left,h.right)):C=y-2*(D!==0||A!==0?D+A:xn(h.top,h.bottom))}await l({...e,availableWidth:b,availableHeight:C});const I=await o.getDimensions(a.floating);return E!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Oh(){return typeof window<"u"}function Pa(t){return jS(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ir(t){var e;return(e=(jS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jS(t){return Oh()?t instanceof Node||t instanceof Sn(t).Node:!1}function Zn(t){return Oh()?t instanceof Element||t instanceof Sn(t).Element:!1}function Sr(t){return Oh()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function dx(t){return!Oh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}function Sc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Ej(t){return["table","td","th"].includes(Pa(t))}function Mh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vy(t){const e=Fy(),n=Zn(t)?er(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Tj(t){let e=Xs(t);for(;Sr(e)&&!ha(e);){if(Vy(e))return e;if(Mh(e))return null;e=Xs(e)}return null}function Fy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ha(t){return["html","body","#document"].includes(Pa(t))}function er(t){return Sn(t).getComputedStyle(t)}function Lh(t){return Zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dx(t)&&t.host||Ir(t);return dx(e)?e.host:e}function OS(t){const e=Xs(t);return ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sr(e)&&Sc(e)?e:OS(e)}function tc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=OS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=zm(o);return e.concat(o,o.visualViewport||[],Sc(s)?s:[],a&&n?tc(a):[])}return e.concat(s,tc(s,[],n))}function zm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MS(t){const e=er(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Sr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Od(n)!==i||Od(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Uy(t){return Zn(t)?t:t.contextElement}function zo(t){const e=Uy(t);if(!Sr(e))return Qs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=MS(e);let o=(i?Od(n.width):n.width)/r,a=(i?Od(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Sj=Qs(0);function LS(t){const e=Sn(t);return!Fy()||!e.visualViewport?Sj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function Bi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Uy(t);let o=Qs(1);e&&(r?Zn(r)&&(o=zo(r)):o=zo(t));const a=bj(i,n,r)?LS(i):Qs(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=Sn(i),w=r&&Zn(r)?Sn(r):r;let E=f,y=zm(E);for(;y&&r&&w!==E;){const T=zo(y),x=y.getBoundingClientRect(),v=er(y),S=x.left+(y.clientLeft+parseFloat(v.paddingLeft))*T.x,k=x.top+(y.clientTop+parseFloat(v.paddingTop))*T.y;l*=T.x,u*=T.y,h*=T.x,p*=T.y,l+=S,u+=k,E=Sn(y),y=zm(E)}}return Ld({width:h,height:p,x:l,y:u})}function Cj(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ir(r),a=e?Mh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Qs(1);const h=Qs(0),p=Sr(r);if((p||!p&&!i)&&((Pa(r)!=="body"||Sc(o))&&(l=Lh(r)),Sr(r))){const f=Bi(r);u=zo(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x,y:n.y*u.y-l.scrollTop*u.y+h.y}}function Ij(t){return Array.from(t.getClientRects())}function Bm(t,e){const n=Lh(t).scrollLeft;return e?e.left+n:Bi(Ir(t)).left+n}function Nj(t){const e=Ir(t),n=Lh(t),r=t.ownerDocument.body,s=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bm(t);const a=-n.scrollTop;return er(r).direction==="rtl"&&(o+=xn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Pj(t,e){const n=Sn(t),r=Ir(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Fy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function kj(t,e){const n=Bi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Sr(t)?zo(t):Qs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function hx(t,e,n){let r;if(e==="viewport")r=Pj(t,n);else if(e==="document")r=Nj(Ir(t));else if(Zn(e))r=kj(e,n);else{const s=LS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Ld(r)}function VS(t,e){const n=Xs(t);return n===e||!Zn(n)||ha(n)?!1:er(n).position==="fixed"||VS(n,e)}function Aj(t,e){const n=e.get(t);if(n)return n;let r=tc(t,[],!1).filter(a=>Zn(a)&&Pa(a)!=="body"),s=null;const i=er(t).position==="fixed";let o=i?Xs(t):t;for(;Zn(o)&&!ha(o);){const a=er(o),l=Vy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Sc(o)&&!l&&VS(t,o))?r=r.filter(h=>h!==o):s=a,o=Xs(o)}return e.set(t,r),r}function Rj(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Mh(e)?[]:Aj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const p=hx(e,h,s);return u.top=xn(p.top,u.top),u.right=Gs(p.right,u.right),u.bottom=Gs(p.bottom,u.bottom),u.left=xn(p.left,u.left),u},hx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dj(t){const{width:e,height:n}=MS(t);return{width:e,height:n}}function jj(t,e,n){const r=Sr(e),s=Ir(e),i=n==="fixed",o=Bi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Qs(0);if(r||!r&&!i)if((Pa(e)!=="body"||Sc(s))&&(a=Lh(e)),r){const w=Bi(e,!0,i,e);l.x=w.x+e.clientLeft,l.y=w.y+e.clientTop}else s&&(l.x=Bm(s));let u=0,h=0;if(s&&!r&&!i){const w=s.getBoundingClientRect();h=w.top+a.scrollTop,u=w.left+a.scrollLeft-Bm(s,w)}const p=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function gp(t){return er(t).position==="static"}function fx(t,e){if(!Sr(t)||er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ir(t)===n&&(n=n.ownerDocument.body),n}function FS(t,e){const n=Sn(t);if(Mh(t))return n;if(!Sr(t)){let s=Xs(t);for(;s&&!ha(s);){if(Zn(s)&&!gp(s))return s;s=Xs(s)}return n}let r=fx(t,e);for(;r&&Ej(r)&&gp(r);)r=fx(r,e);return r&&ha(r)&&gp(r)&&!Vy(r)?n:r||Tj(t)||n}const Oj=async function(t){const e=this.getOffsetParent||FS,n=this.getDimensions,r=await n(t.floating);return{reference:jj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mj(t){return er(t).direction==="rtl"}const Lj={convertOffsetParentRelativeRectToViewportRelativeRect:Cj,getDocumentElement:Ir,getClippingRect:Rj,getOffsetParent:FS,getElementRects:Oj,getClientRects:Ij,getDimensions:Dj,getScale:zo,isElement:Zn,isRTL:Mj};function Vj(t,e){let n=null,r;const s=Ir(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const w=_u(h),E=_u(s.clientWidth-(u+p)),y=_u(s.clientHeight-(h+f)),T=_u(u),v={rootMargin:-w+"px "+-E+"px "+-y+"px "+-T+"px",threshold:xn(0,Gs(1,l))||1};let S=!0;function k(j){const O=j[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(k,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(t)}return o(!0),i}function Fj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Uy(t),h=s||i?[...u?tc(u):[],...tc(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=u&&a?Vj(u,n):null;let f=-1,w=null;o&&(w=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&w&&(w.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(e)})),n()}),u&&!l&&w.observe(u),w.observe(e));let E,y=l?Bi(t):null;l&&T();function T(){const x=Bi(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,E=requestAnimationFrame(T)}return n(),()=>{var x;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),p==null||p(),(x=w)==null||x.disconnect(),w=null,l&&cancelAnimationFrame(E)}}const Uj=vj,$j=wj,zj=mj,Bj=_j,Wj=gj,px=pj,Hj=xj,qj=(t,e,n)=>{const r=new Map,s={platform:Lj,...n},i={...s.platform,_c:r};return fj(t,e,{...s,platform:i})};var Qu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Vd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Vd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function US(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mx(t,e){const n=US(t);return Math.round(e*n)/n}function yp(t){const e=g.useRef(t);return Qu(()=>{e.current=t}),e}function Kj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,w]=g.useState(r);Vd(f,r)||w(r);const[E,y]=g.useState(null),[T,x]=g.useState(null),v=g.useCallback(L=>{L!==O.current&&(O.current=L,y(L))},[]),S=g.useCallback(L=>{L!==C.current&&(C.current=L,x(L))},[]),k=i||E,j=o||T,O=g.useRef(null),C=g.useRef(null),b=g.useRef(h),I=l!=null,P=yp(l),R=yp(s),D=yp(u),A=g.useCallback(()=>{if(!O.current||!C.current)return;const L={placement:e,strategy:n,middleware:f};R.current&&(L.platform=R.current),qj(O.current,C.current,L).then(z=>{const X={...z,isPositioned:D.current!==!1};W.current&&!Vd(b.current,X)&&(b.current=X,Zi.flushSync(()=>{p(X)}))})},[f,e,n,R,D]);Qu(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[u]);const W=g.useRef(!1);Qu(()=>(W.current=!0,()=>{W.current=!1}),[]),Qu(()=>{if(k&&(O.current=k),j&&(C.current=j),k&&j){if(P.current)return P.current(k,j,A);A()}},[k,j,A,P,I]);const re=g.useMemo(()=>({reference:O,floating:C,setReference:v,setFloating:S}),[v,S]),G=g.useMemo(()=>({reference:k,floating:j}),[k,j]),se=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!G.floating)return L;const z=mx(G.floating,h.x),X=mx(G.floating,h.y);return a?{...L,transform:"translate("+z+"px, "+X+"px)",...US(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:X}},[n,a,G.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:A,refs:re,elements:G,floatingStyles:se}),[h,A,re,G,se])}const Gj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?px({element:r.current,padding:s}).fn(n):{}:r?px({element:r,padding:s}).fn(n):{}}}},Qj=(t,e)=>({...Uj(t),options:[t,e]}),Yj=(t,e)=>({...$j(t),options:[t,e]}),Xj=(t,e)=>({...Hj(t),options:[t,e]}),Jj=(t,e)=>({...zj(t),options:[t,e]}),Zj=(t,e)=>({...Bj(t),options:[t,e]}),eO=(t,e)=>({...Wj(t),options:[t,e]}),tO=(t,e)=>({...Gj(t),options:[t,e]});var nO="Arrow",$S=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});$S.displayName=nO;var rO=$S;function sO(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:w,...E}=p,y=(f==null?void 0:f[t][l])||a,T=g.useMemo(()=>E,Object.values(E));return d.jsx(y.Provider,{value:T,children:w})}function h(p,f){const w=(f==null?void 0:f[t][l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,iO(s,...e)]}function iO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $y(t){const[e,n]=g.useState(void 0);return qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var zy="Popper",[zS,Vh]=sO(zy),[oO,BS]=zS(zy),WS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return d.jsx(oO,{scope:e,anchor:r,onAnchorChange:s,children:n})};WS.displayName=zy;var HS="PopperAnchor",qS=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BS(HS,n),o=g.useRef(null),a=Je(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Te.div,{...s,ref:a})});qS.displayName=HS;var By="PopperContent",[aO,lO]=zS(By),KS=g.forwardRef((t,e)=>{var ne,_e,je,ye,fe,K;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:w="optimized",onPlaced:E,...y}=t,T=BS(By,n),[x,v]=g.useState(null),S=Je(e,ue=>v(ue)),[k,j]=g.useState(null),O=$y(k),C=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],D=R.length>0,A={padding:P,boundary:R.filter(uO),altBoundary:D},{refs:W,floatingStyles:re,placement:G,isPositioned:se,middlewareData:L}=Kj({strategy:"fixed",placement:I,whileElementsMounted:(...ue)=>Fj(...ue,{animationFrame:w==="always"}),elements:{reference:T.anchor},middleware:[Qj({mainAxis:s+b,alignmentAxis:o}),l&&Yj({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Xj():void 0,...A}),l&&Jj({...A}),Zj({...A,apply:({elements:ue,rects:tt,availableWidth:nt,availableHeight:ke})=>{const{width:Nn,height:pi}=tt.reference,He=ue.floating.style;He.setProperty("--radix-popper-available-width",`${nt}px`),He.setProperty("--radix-popper-available-height",`${ke}px`),He.setProperty("--radix-popper-anchor-width",`${Nn}px`),He.setProperty("--radix-popper-anchor-height",`${pi}px`)}}),k&&tO({element:k,padding:a}),dO({arrowWidth:C,arrowHeight:b}),f&&eO({strategy:"referenceHidden",...A})]}),[z,X]=YS(G),q=pn(E);qt(()=>{se&&(q==null||q())},[se,q]);const J=(ne=L.arrow)==null?void 0:ne.x,ee=(_e=L.arrow)==null?void 0:_e.y,oe=((je=L.arrow)==null?void 0:je.centerOffset)!==0,[be,we]=g.useState();return qt(()=>{x&&we(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(ye=L.transformOrigin)==null?void 0:ye.x,(fe=L.transformOrigin)==null?void 0:fe.y].join(" "),...((K=L.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(aO,{scope:n,placedSide:z,onArrowChange:j,arrowX:J,arrowY:ee,shouldHideArrow:oe,children:d.jsx(Te.div,{"data-side":z,"data-align":X,...y,ref:S,style:{...y.style,animation:se?void 0:"none"}})})})});KS.displayName=By;var GS="PopperArrow",cO={top:"bottom",right:"left",bottom:"top",left:"right"},QS=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=lO(GS,r),o=cO[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(rO,{...s,ref:n,style:{...s.style,display:"block"}})})});QS.displayName=GS;function uO(t){return t!==null}var dO=t=>({name:"transformOrigin",options:t,fn(e){var T,x,v;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=YS(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,w=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let E="",y="";return u==="bottom"?(E=o?p:`${f}px`,y=`${-l}px`):u==="top"?(E=o?p:`${f}px`,y=`${r.floating.height+l}px`):u==="right"?(E=`${-l}px`,y=o?p:`${w}px`):u==="left"&&(E=`${r.floating.width+l}px`,y=o?p:`${w}px`),{data:{x:E,y}}}});function YS(t){const[e,n="center"]=t.split("-");return[e,n]}var hO=WS,XS=qS,JS=KS,ZS=QS,[Fh,v7]=Ca("Tooltip",[Vh]),Wy=Vh(),eb="TooltipProvider",fO=700,gx="tooltip.open",[pO,tb]=Fh(eb),nb=t=>{const{__scopeTooltip:e,delayDuration:n=fO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),d.jsx(pO,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};nb.displayName=eb;var rb="Tooltip",[w7,Uh]=Fh(rb),Wm="TooltipTrigger",mO=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Uh(Wm,n),i=tb(Wm,n),o=Wy(n),a=g.useRef(null),l=Je(e,a,s.onTriggerChange),u=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(XS,{asChild:!0,...o,children:d.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:he(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:he(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:he(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:he(t.onBlur,s.onClose),onClick:he(t.onClick,s.onClose)})})});mO.displayName=Wm;var gO="TooltipPortal",[x7,yO]=Fh(gO,{forceMount:void 0}),fa="TooltipContent",sb=g.forwardRef((t,e)=>{const n=yO(fa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Uh(fa,t.__scopeTooltip);return d.jsx(_c,{present:r||o.open,children:o.disableHoverableContent?d.jsx(ib,{side:s,...i,ref:e}):d.jsx(vO,{side:s,...i,ref:e})})}),vO=g.forwardRef((t,e)=>{const n=Uh(fa,t.__scopeTooltip),r=tb(fa,t.__scopeTooltip),s=g.useRef(null),i=Je(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),w=g.useCallback((E,y)=>{const T=E.currentTarget,x={x:E.clientX,y:E.clientY},v=EO(x,T.getBoundingClientRect()),S=TO(x,v),k=SO(y.getBoundingClientRect()),j=CO([...S,...k]);a(j),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&h){const E=T=>w(T,h),y=T=>w(T,l);return l.addEventListener("pointerleave",E),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",y)}}},[l,h,w,f]),g.useEffect(()=>{if(o){const E=y=>{const T=y.target,x={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(T))||(h==null?void 0:h.contains(T)),S=!bO(x,o);v?f():S&&(f(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,h,o,u,f]),d.jsx(ib,{...t,ref:i})}),[wO,xO]=Fh(rb,{isInside:!1}),ib=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Uh(fa,n),u=Wy(n),{onClose:h}=l;return g.useEffect(()=>(document.addEventListener(gx,h),()=>document.removeEventListener(gx,h)),[h]),g.useEffect(()=>{if(l.trigger){const p=f=>{const w=f.target;w!=null&&w.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),d.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:d.jsxs(JS,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(qT,{children:r}),d.jsx(wO,{scope:n,isInside:!0,children:d.jsx(l2,{id:l.contentId,role:"tooltip",children:s||r})})]})})});sb.displayName=fa;var ob="TooltipArrow",_O=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wy(n);return xO(ob,n).isInside?null:d.jsx(ZS,{...s,...r,ref:e})});_O.displayName=ob;function EO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function SO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function bO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function CO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),IO(e)}function IO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NO=nb,ab=sb;const PO=NO,kO=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(ab,{ref:r,sideOffset:e,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));kO.displayName=ab.displayName;var $h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zh=typeof window>"u"||"Deno"in globalThis;function Wn(){}function AO(t,e){return typeof t=="function"?t(e):t}function RO(t){return typeof t=="number"&&t>=0&&t!==1/0}function DO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yx(t,e){return typeof t=="function"?t(e):t}function jO(t,e){return typeof t=="function"?t(e):t}function vx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Hy(o,e.options))return!1}else if(!rc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function wx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(nc(e.options.mutationKey)!==nc(i))return!1}else if(!rc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Hy(t,e){return((e==null?void 0:e.queryKeyHashFn)||nc)(t)}function nc(t){return JSON.stringify(t,(e,n)=>Hm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function rc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!rc(t[n],e[n])):!1}function lb(t,e){if(t===e)return t;const n=xx(t)&&xx(e);if(n||Hm(t)&&Hm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=lb(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function xx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hm(t){if(!_x(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_x(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _x(t){return Object.prototype.toString.call(t)==="[object Object]"}function OO(t){return new Promise(e=>{setTimeout(e,t)})}function MO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?lb(t,e):e}function LO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qy=Symbol();function cb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ki,Ts,Qo,_1,FO=(_1=class extends $h{constructor(){super();Me(this,ki);Me(this,Ts);Me(this,Qo);Ee(this,Qo,e=>{if(!zh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Ts)||this.setEventListener($(this,Qo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Ts))==null||e.call(this),Ee(this,Ts,void 0))}setEventListener(e){var n;Ee(this,Qo,e),(n=$(this,Ts))==null||n.call(this),Ee(this,Ts,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,ki)!==e&&(Ee(this,ki,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,ki)=="boolean"?$(this,ki):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ki=new WeakMap,Ts=new WeakMap,Qo=new WeakMap,_1),ub=new FO,Yo,Ss,Xo,E1,UO=(E1=class extends $h{constructor(){super();Me(this,Yo,!0);Me(this,Ss);Me(this,Xo);Ee(this,Xo,e=>{if(!zh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Ss)||this.setEventListener($(this,Xo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Ss))==null||e.call(this),Ee(this,Ss,void 0))}setEventListener(e){var n;Ee(this,Xo,e),(n=$(this,Ss))==null||n.call(this),Ee(this,Ss,e(this.setOnline.bind(this)))}setOnline(e){$(this,Yo)!==e&&(Ee(this,Yo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Yo)}},Yo=new WeakMap,Ss=new WeakMap,Xo=new WeakMap,E1),Fd=new UO;function $O(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function zO(t){return Math.min(1e3*2**t,3e4)}function db(t){return(t??"online")==="online"?Fd.isOnline():!0}var hb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vp(t){return t instanceof hb}function fb(t){let e=!1,n=0,r=!1,s;const i=$O(),o=y=>{var T;r||(f(new hb(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ub.isFocused()&&(t.networkMode==="always"||Fd.isOnline())&&t.canRun(),h=()=>db(t.networkMode)&&t.canRun(),p=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),s==null||s(),i.reject(y))},w=()=>new Promise(y=>{var T;s=x=>{(r||u())&&y(x)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),E=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(p).catch(x=>{var O;if(r)return;const v=t.retry??(zh?0:3),S=t.retryDelay??zO,k=typeof S=="function"?S(n,x):S,j=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!j){f(x);return}n++,(O=t.onFail)==null||O.call(t,n,x),OO(k).then(()=>u()?void 0:w()).then(()=>{e?f(x):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?E():w().then(E),i)}}function BO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zt=BO(),Ai,T1,pb=(T1=class{constructor(){Me(this,Ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RO(this.gcTime)&&Ee(this,Ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zh?1/0:5*60*1e3))}clearGcTimeout(){$(this,Ai)&&(clearTimeout($(this,Ai)),Ee(this,Ai,void 0))}},Ai=new WeakMap,T1),Jo,Zo,kn,$t,pc,Ri,Hn,jr,S1,WO=(S1=class extends pb{constructor(n){super();Me(this,Hn);Me(this,Jo);Me(this,Zo);Me(this,kn);Me(this,$t);Me(this,pc);Me(this,Ri);Ee(this,Ri,!1),Ee(this,pc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,kn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,Jo,qO(this.options)),this.state=n.state??$(this,Jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,$t))==null?void 0:n.promise}setOptions(n){this.options={...$(this,pc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,kn).remove(this)}setData(n,r){const s=MO(this.state.data,n,this.options);return Lt(this,Hn,jr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Lt(this,Hn,jr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,$t))==null?void 0:s.promise;return(i=$(this,$t))==null||i.cancel(n),r?r.then(Wn).catch(Wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Jo))}isActive(){return this.observers.some(n=>jO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!DO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,$t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,$t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,$t)&&($(this,Ri)?$(this,$t).cancel({revert:!0}):$(this,$t).cancelRetry()),this.scheduleGc()),$(this,kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Hn,jr).call(this,{type:"invalidate"})}fetch(n,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,$t))return $(this,$t).continueRetry(),$(this,$t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(w=>w.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ee(this,Ri,!0),s.signal)})},o=()=>{const f=cb(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return i(w),Ee(this,Ri,!1),this.options.persister?this.options.persister(f,w,this):f(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),Ee(this,Zo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Lt(this,Hn,jr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var w,E,y,T;vp(f)&&f.silent||Lt(this,Hn,jr).call(this,{type:"error",error:f}),vp(f)||((E=(w=$(this,kn).config).onError)==null||E.call(w,f,this),(T=(y=$(this,kn).config).onSettled)==null||T.call(y,this.state.data,f,this)),this.scheduleGc()};return Ee(this,$t,fb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var w,E,y,T;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(E=(w=$(this,kn).config).onSuccess)==null||E.call(w,f,this),(T=(y=$(this,kn).config).onSettled)==null||T.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,w)=>{Lt(this,Hn,jr).call(this,{type:"failed",failureCount:f,error:w})},onPause:()=>{Lt(this,Hn,jr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Hn,jr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,$t).start()}},Jo=new WeakMap,Zo=new WeakMap,kn=new WeakMap,$t=new WeakMap,pc=new WeakMap,Ri=new WeakMap,Hn=new WeakSet,jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...HO(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return vp(i)&&i.revert&&$(this,Zo)?{...$(this,Zo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,kn).notify({query:this,type:"updated",action:n})})},S1);function HO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:db(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function qO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dr,b1,KO=(b1=class extends $h{constructor(e={}){super();Me(this,dr);this.config=e,Ee(this,dr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Hy(s,n);let o=this.get(i);return o||(o=new WO({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,dr).has(e.queryHash)||($(this,dr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,dr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,dr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,dr).get(e)}getAll(){return[...$(this,dr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vx(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dr=new WeakMap,b1),hr,Yt,Di,fr,ps,C1,GO=(C1=class extends pb{constructor(n){super();Me(this,fr);Me(this,hr);Me(this,Yt);Me(this,Di);this.mutationId=n.mutationId,Ee(this,Yt,n.mutationCache),Ee(this,hr,[]),this.state=n.state||QO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,hr).includes(n)||($(this,hr).push(n),this.clearGcTimeout(),$(this,Yt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,hr,$(this,hr).filter(r=>r!==n)),this.scheduleGc(),$(this,Yt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,hr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Yt).remove(this))}continue(){var n;return((n=$(this,Di))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,h,p,f,w,E,y,T,x,v,S,k,j,O,C,b;Ee(this,Di,fb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{Lt(this,fr,ps).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{Lt(this,fr,ps).call(this,{type:"pause"})},onContinue:()=>{Lt(this,fr,ps).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Yt).canRun(this)}));const r=this.state.status==="pending",s=!$(this,Di).canStart();try{if(!r){Lt(this,fr,ps).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,Yt).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&Lt(this,fr,ps).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const I=await $(this,Di).start();return await((h=(u=$(this,Yt).config).onSuccess)==null?void 0:h.call(u,I,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,I,n,this.state.context)),await((E=(w=$(this,Yt).config).onSettled)==null?void 0:E.call(w,I,null,this.state.variables,this.state.context,this)),await((T=(y=this.options).onSettled)==null?void 0:T.call(y,I,null,n,this.state.context)),Lt(this,fr,ps).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(x=$(this,Yt).config).onError)==null?void 0:v.call(x,I,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,I,n,this.state.context)),await((O=(j=$(this,Yt).config).onSettled)==null?void 0:O.call(j,void 0,I,this.state.variables,this.state.context,this)),await((b=(C=this.options).onSettled)==null?void 0:b.call(C,void 0,I,n,this.state.context)),I}finally{Lt(this,fr,ps).call(this,{type:"error",error:I})}}finally{$(this,Yt).runNext(this)}}},hr=new WeakMap,Yt=new WeakMap,Di=new WeakMap,fr=new WeakSet,ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{$(this,hr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Yt).notify({mutation:this,type:"updated",action:n})})},C1);function QO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yn,mc,I1,YO=(I1=class extends $h{constructor(e={}){super();Me(this,yn);Me(this,mc);this.config=e,Ee(this,yn,new Map),Ee(this,mc,Date.now())}build(e,n,r){const s=new GO({mutationCache:this,mutationId:++eu(this,mc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Eu(e),r=$(this,yn).get(n)??[];r.push(e),$(this,yn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Eu(e);if($(this,yn).has(n)){const s=(r=$(this,yn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,yn).delete(n):$(this,yn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,yn).get(Eu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,yn).get(Eu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,yn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wx(n,r))}findAll(e={}){return this.getAll().filter(n=>wx(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wn))))}},yn=new WeakMap,mc=new WeakMap,I1);function Eu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ex(t){return{onFetch:(e,n)=>{var h,p,f,w,E;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const T=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=cb(e.options,e.fetchOptions),v=async(S,k,j)=>{if(y)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:k,direction:j?"backward":"forward",meta:e.options.meta};T(O);const C=await x(O),{maxPages:b}=e.options,I=j?VO:LO;return{pages:I(S.pages,C,b),pageParams:I(S.pageParams,k,b)}};if(s&&i.length){const S=s==="backward",k=S?XO:Tx,j={pages:i,pageParams:o},O=k(r,j);a=await v(j,O,S)}else{const S=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:Tx(r,a);if(l>0&&k==null)break;a=await v(a,k),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Tx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function XO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var dt,bs,Cs,ea,ta,Is,na,ra,N1,JO=(N1=class{constructor(t={}){Me(this,dt);Me(this,bs);Me(this,Cs);Me(this,ea);Me(this,ta);Me(this,Is);Me(this,na);Me(this,ra);Ee(this,dt,t.queryCache||new KO),Ee(this,bs,t.mutationCache||new YO),Ee(this,Cs,t.defaultOptions||{}),Ee(this,ea,new Map),Ee(this,ta,new Map),Ee(this,Is,0)}mount(){eu(this,Is)._++,$(this,Is)===1&&(Ee(this,na,ub.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,dt).onFocus())})),Ee(this,ra,Fd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,dt).onOnline())})))}unmount(){var t,e;eu(this,Is)._--,$(this,Is)===0&&((t=$(this,na))==null||t.call(this),Ee(this,na,void 0),(e=$(this,ra))==null||e.call(this),Ee(this,ra,void 0))}isFetching(t){return $(this,dt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,bs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,dt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,dt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(yx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,dt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,dt).get(r.queryHash),i=s==null?void 0:s.state.data,o=AO(e,i);if(o!==void 0)return $(this,dt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>$(this,dt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,dt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,dt);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,dt),r={type:"active",...t};return Zt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Zt.batch(()=>$(this,dt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Wn).catch(Wn)}invalidateQueries(t={},e={}){return Zt.batch(()=>{if($(this,dt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Zt.batch(()=>$(this,dt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Wn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Wn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,dt).build(this,e);return n.isStaleByTime(yx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wn).catch(Wn)}fetchInfiniteQuery(t){return t.behavior=Ex(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wn).catch(Wn)}ensureInfiniteQueryData(t){return t.behavior=Ex(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fd.isOnline()?$(this,bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,dt)}getMutationCache(){return $(this,bs)}getDefaultOptions(){return $(this,Cs)}setDefaultOptions(t){Ee(this,Cs,t)}setQueryDefaults(t,e){$(this,ea).set(nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,ea).values()];let n={};return e.forEach(r=>{rc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,ta).set(nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,ta).values()];let n={};return e.forEach(r=>{rc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Cs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===qy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Cs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,dt).clear(),$(this,bs).clear()}},dt=new WeakMap,bs=new WeakMap,Cs=new WeakMap,ea=new WeakMap,ta=new WeakMap,Is=new WeakMap,na=new WeakMap,ra=new WeakMap,N1),ZO=g.createContext(void 0),e4=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(ZO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const Sx="popstate";function t4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ud(s)}return r4(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n4(){return Math.random().toString(36).substr(2,8)}function bx(t,e){return{usr:t.state,key:t.key,idx:e}}function qm(t,e,n,r){return n===void 0&&(n=null),sc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ka(e):e,{state:n,key:e&&e.key||r||n4()})}function Ud(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function r4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ks.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(sc({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=ks.Pop;let T=h(),x=T==null?null:T-u;u=T,l&&l({action:a,location:y.location,delta:x})}function f(T,x){a=ks.Push;let v=qm(y.location,T,x);u=h()+1;let S=bx(v,u),k=y.createHref(v);try{o.pushState(S,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&l&&l({action:a,location:y.location,delta:1})}function w(T,x){a=ks.Replace;let v=qm(y.location,T,x);u=h();let S=bx(v,u),k=y.createHref(v);o.replaceState(S,"",k),i&&l&&l({action:a,location:y.location,delta:0})}function E(T){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof T=="string"?T:Ud(T);return v=v.replace(/ $/,"%20"),it(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sx,p),l=T,()=>{s.removeEventListener(Sx,p),l=null}},createHref(T){return e(s,T)},createURL:E,encodeLocation(T){let x=E(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:w,go(T){return o.go(T)}};return y}var Cx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cx||(Cx={}));function s4(t,e,n){return n===void 0&&(n="/"),i4(t,e,n,!1)}function i4(t,e,n,r){let s=typeof e=="string"?ka(e):e,i=pa(s.pathname||"/",n);if(i==null)return null;let o=gb(t);o4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=y4(i);a=m4(o[l],u,r)}return a}function gb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Us([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gb(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:f4(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of yb(i.path))s(i,o,l)}),e}function yb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=yb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function o4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a4=/^:[\w-]+$/,l4=3,c4=2,u4=1,d4=10,h4=-2,Ix=t=>t==="*";function f4(t,e){let n=t.split("/"),r=n.length;return n.some(Ix)&&(r+=h4),e&&(r+=c4),n.filter(s=>!Ix(s)).reduce((s,i)=>s+(a4.test(i)?l4:i===""?u4:d4),r)}function p4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function m4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Us([i,p.pathname]),pathnameBase:_4(Us([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Us([i,p.pathnameBase]))}return o}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:f,isOptional:w}=h;if(f==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const E=a[p];return w&&!E?u[f]=void 0:u[f]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function g4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function y4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ka(t):t;return{pathname:n?n.startsWith("/")?n:w4(n,e):e,search:E4(r),hash:T4(s)}}function w4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ky(t,e){let n=x4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Gy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ka(t):(s=sc({},t),it(!s.pathname||!s.pathname.includes("?"),wp("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),wp("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),wp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=v4(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Us=t=>t.join("/").replace(/\/\/+/g,"/"),_4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vb=["post","put","patch","delete"];new Set(vb);const b4=["get",...vb];new Set(b4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}const Bh=g.createContext(null),wb=g.createContext(null),ns=g.createContext(null),Wh=g.createContext(null),rs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),xb=g.createContext(null);function C4(t,e){let{relative:n}=e===void 0?{}:e;Aa()||it(!1);let{basename:r,navigator:s}=g.useContext(ns),{hash:i,pathname:o,search:a}=Hh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Us([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Aa(){return g.useContext(Wh)!=null}function li(){return Aa()||it(!1),g.useContext(Wh).location}function _b(t){g.useContext(ns).static||g.useLayoutEffect(t)}function bc(){let{isDataRoute:t}=g.useContext(rs);return t?$4():I4()}function I4(){Aa()||it(!1);let t=g.useContext(Bh),{basename:e,future:n,navigator:r}=g.useContext(ns),{matches:s}=g.useContext(rs),{pathname:i}=li(),o=JSON.stringify(Ky(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return _b(()=>{a.current=!0}),g.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=Gy(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Us([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}const N4=g.createContext(null);function P4(t){let e=g.useContext(rs).outlet;return e&&g.createElement(N4.Provider,{value:t},e)}function Hh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(ns),{matches:s}=g.useContext(rs),{pathname:i}=li(),o=JSON.stringify(Ky(s,r.v7_relativeSplatPath));return g.useMemo(()=>Gy(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function k4(t,e){return A4(t,e)}function A4(t,e,n,r){Aa()||it(!1);let{navigator:s}=g.useContext(ns),{matches:i}=g.useContext(rs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=li(),h;if(e){var p;let T=typeof e=="string"?ka(e):e;l==="/"||(p=T.pathname)!=null&&p.startsWith(l)||it(!1),h=T}else h=u;let f=h.pathname||"/",w=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=s4(t,{pathname:w}),y=M4(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Us([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Us([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&y?g.createElement(Wh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ks.Pop}},y):y}function R4(){let t=U4(),e=S4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const D4=g.createElement(R4,null);class j4 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(rs.Provider,{value:this.props.routeContext},g.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O4(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Bh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(rs.Provider,{value:e},r)}function M4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||it(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:f,errors:w}=n,E=p.route.loader&&f[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let w,E=!1,y=null,T=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||D4,l&&(u<0&&f===0?(E=!0,T=null):u===f&&(E=!0,T=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),v=()=>{let S;return w?S=y:E?S=T:p.route.Component?S=g.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,g.createElement(O4,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(j4,{location:n.location,revalidation:n.revalidation,component:y,error:w,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var Eb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Eb||{}),zd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zd||{});function L4(t){let e=g.useContext(Bh);return e||it(!1),e}function V4(t){let e=g.useContext(wb);return e||it(!1),e}function F4(t){let e=g.useContext(rs);return e||it(!1),e}function Tb(t){let e=F4(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function U4(){var t;let e=g.useContext(xb),n=V4(zd.UseRouteError),r=Tb(zd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $4(){let{router:t}=L4(Eb.UseNavigateStable),e=Tb(zd.UseNavigateStable),n=g.useRef(!1);return _b(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ic({fromRouteId:e},i)))},[t,e])}function z4(t){let{to:e,replace:n,state:r,relative:s}=t;Aa()||it(!1);let{future:i,static:o}=g.useContext(ns),{matches:a}=g.useContext(rs),{pathname:l}=li(),u=bc(),h=Gy(e,Ky(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return g.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function B4(t){return P4(t.context)}function ar(t){it(!1)}function W4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ks.Pop,navigator:i,static:o=!1,future:a}=t;Aa()&&it(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:ic({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ka(r));let{pathname:h="/",search:p="",hash:f="",state:w=null,key:E="default"}=r,y=g.useMemo(()=>{let T=pa(h,l);return T==null?null:{location:{pathname:T,search:p,hash:f,state:w,key:E},navigationType:s}},[l,h,p,f,w,E,s]);return y==null?null:g.createElement(ns.Provider,{value:u},g.createElement(Wh.Provider,{children:n,value:y}))}function H4(t){let{children:e,location:n}=t;return k4(Km(e),n)}new Promise(()=>{});function Km(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Km(r.props.children,i));return}r.type!==ar&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Km(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(this,arguments)}function Sb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function q4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K4(t,e){return t.button===0&&(!e||e==="_self")&&!q4(t)}const G4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Y4="6";try{window.__reactRouterVersion=Y4}catch{}const X4=g.createContext({isTransitioning:!1}),J4="startTransition",Nx=U1[J4];function Z4(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=t4({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=g.useCallback(p=>{u&&Nx?Nx(()=>l(p)):l(p)},[l,u]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(W4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const eM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,f=Sb(e,G4),{basename:w}=g.useContext(ns),E,y=!1;if(typeof u=="string"&&tM.test(u)&&(E=u,eM))try{let S=new URL(window.location.href),k=u.startsWith("//")?new URL(S.protocol+u):new URL(u),j=pa(k.pathname,w);k.origin===S.origin&&j!=null?u=j+k.search+k.hash:y=!0}catch{}let T=C4(u,{relative:s}),x=sM(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function v(S){r&&r(S),S.defaultPrevented||x(S)}return g.createElement("a",Bd({},f,{href:E||T,onClick:y||i?r:v,ref:n,target:l}))}),nM=g.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:u,children:h}=e,p=Sb(e,Q4),f=Hh(l,{relative:p.relative}),w=li(),E=g.useContext(wb),{navigator:y,basename:T}=g.useContext(ns),x=E!=null&&iM(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=w.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(S=S.toLowerCase(),k=k?k.toLowerCase():null,v=v.toLowerCase()),k&&T&&(k=pa(k,T)||k);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let O=S===v||!o&&S.startsWith(v)&&S.charAt(j)==="/",C=k!=null&&(k===v||!o&&k.startsWith(v)&&k.charAt(v.length)==="/"),b={isActive:O,isPending:C,isTransitioning:x},I=O?r:void 0,P;typeof i=="function"?P=i(b):P=[i,O?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(b):a;return g.createElement(go,Bd({},p,{"aria-current":I,className:P,ref:n,style:R,to:l,viewTransition:u}),typeof h=="function"?h(b):h)});var Gm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gm||(Gm={}));var Px;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Px||(Px={}));function rM(t){let e=g.useContext(Bh);return e||it(!1),e}function sM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=bc(),u=li(),h=Hh(t,{relative:o});return g.useCallback(p=>{if(K4(p,n)){p.preventDefault();let f=r!==void 0?r:Ud(u)===Ud(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}function iM(t,e){e===void 0&&(e={});let n=g.useContext(X4);n==null&&it(!1);let{basename:r}=rM(Gm.useViewTransitionState),s=Hh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $d(s.pathname,o)!=null||$d(s.pathname,i)!=null}const oM=Ay("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?da:"button";return d.jsx(o,{className:Be(oM({variant:e,size:n,className:t})),ref:i,...s})});me.displayName="Button";const aM=[{name:"Dashboard",href:"/",icon:O2},{name:"Manifest Log",href:"/manifest",icon:jd},{name:"Daily Reflection",href:"/reflection",icon:A2},{name:"Insights",href:"/insights",icon:R2},{name:"Settings",href:"/settings",icon:W2}];function lM(){const[t,e]=g.useState(!1);return d.jsxs(d.Fragment,{children:[!t&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black/20 lg:hidden",onClick:()=>e(!0)}),d.jsx("div",{className:`
        sticky top-0 left-0 z-50 bg-sidebar border-r border-sidebar-border transition-all duration-300 ease-in-out
        ${t?"-translate-x-full lg:translate-x-0 lg:w-16":"w-64 lg:w-16"}
        lg:sticky lg:top-0 lg:left-0 lg:z-50 lg:bg-sidebar lg:border-r lg:border-sidebar-border lg:transition-all lg:duration-300 lg:ease-in-out
      `,children:d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:[d.jsxs("div",{className:`flex items-center gap-3 transition-opacity duration-200 ${t?"lg:opacity-0":"opacity-100"}`,children:[d.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:d.jsx(jd,{className:"w-5 h-5 text-primary-foreground"})}),d.jsx("span",{className:"font-semibold text-sidebar-foreground lg:hidden",children:"Manifestor"})]}),d.jsx(me,{variant:"ghost",size:"sm",onClick:()=>e(!t),className:"lg:hidden text-sidebar-foreground hover:bg-sidebar-accent",children:t?d.jsx(V2,{className:"w-4 h-4"}):d.jsx(Dy,{className:"w-4 h-4"})})]}),d.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:aM.map(n=>d.jsx(nM,{to:n.href,"aria-label":n.name,className:({isActive:r})=>`
                  manifestor-sidebar-item group relative
                  ${r?"manifestor-sidebar-item active":""}
                `,children:d.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"})},n.name))}),d.jsx("div",{className:"p-3 border-t border-sidebar-border",children:d.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 transition-opacity duration-200 ${t?"lg:opacity-0 lg:w-0 lg:overflow-hidden":"opacity-100"}`,children:[d.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"U"})}),d.jsxs("div",{className:"flex-1 min-w-0 lg:hidden",children:[d.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:"User"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/70 truncate",children:"user@example.com"})]})]})})]})})]})}function cM({children:t}){return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(lM,{}),d.jsx("div",{className:"lg:ml-16",children:d.jsx("main",{className:"-mt-16 pt-0 pb-4 px-4 lg:pb-8 lg:px-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:t??d.jsx(B4,{})})})})]})}function Nl({progress:t,className:e="",showPercentage:n=!1}){const r=Math.min(Math.max(t,0),100);return d.jsxs("div",{className:`space-y-1 ${e}`,children:[d.jsx("div",{className:"manifestor-progress-bar",children:d.jsx("div",{className:"manifestor-progress-fill",style:{width:`${r}%`}})}),n&&d.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:d.jsxs("span",{children:[r.toFixed(0),"% complete"]})})]})}function Qm({dream:t,onClick:e,className:n=""}){var a,l;const r=t.targetDate?Math.ceil((new Date(t.targetDate).getTime()-new Date().getTime())/864e5):null,s=r!==null&&r<0,i=((a=t.checklist)==null?void 0:a.length)||0,o=((l=t.checklist)==null?void 0:l.filter(u=>u.done).length)||0;return d.jsxs("div",{className:`manifestor-card p-6 cursor-pointer group ${n}`,onClick:e,children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1 group-hover:text-primary transition-colors",children:t.title}),d.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ES,{className:"w-3 h-3"}),d.jsx("span",{children:t.category})]}),r!==null&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(xS,{className:"w-3 h-3"}),d.jsx("span",{className:s?"text-destructive":"",children:s?`${Math.abs(r)} days overdue`:`${r} days left`})]})]})]}),d.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.type==="long-term"?"bg-accent text-accent-foreground":"bg-secondary text-secondary-foreground"}`,children:t.type.replace("-"," ")})]}),t.description&&d.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:t.description}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Nl,{progress:t.progress,showPercentage:!0}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[d.jsx(Jl,{className:"w-4 h-4"}),d.jsxs("span",{children:[o," of ",i," tasks"]})]}),d.jsx(me,{variant:"ghost",size:"sm",className:"text-xs hover:bg-muted",onClick:u=>{u.stopPropagation(),e&&e()},children:"View Details"})]})]})]})}function Wd({streak:t,className:e="",size:n="md",color:r,bgColor:s}){const i={sm:"text-sm gap-1",md:"text-base gap-2",lg:"text-lg gap-2"},o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};let a=r,l=s,u="",h="";return(!a||!l)&&(t>=50?(a="text-white",l="bg-blue-500",u="border border-blue-500",h="shadow-blue-500/40"):t>=30?(a="text-white",l="bg-red-500",u="border border-red-500",h="shadow-red-500/40"):t>=20?(a="text-white",l="bg-orange-500",u="border border-orange-500",h="shadow-orange-500/40"):t>=10?(a="text-white",l="bg-green-500",u="border border-green-500",h="shadow-green-500/40"):(a="text-yellow-900",l="bg-yellow-400",u="border border-yellow-500",h="shadow-yellow-400/40")),d.jsxs("div",{className:`inline-flex items-center ${i[n]} ${l} ${a} ${u} px-4 py-2 rounded-full font-semibold ${h} shadow-md ${e}`,children:[d.jsx(j2,{className:`${o[n]} ${a}`}),d.jsx("span",{children:t}),d.jsxs("span",{className:"font-normal",children:["day",t!==1?"s":""]})]})}function bb({quote:t,author:e,className:n=""}){return d.jsx("div",{className:`manifestor-quote-box ${n}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(z2,{className:"w-5 h-5 text-muted-foreground mt-1 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-foreground/80 leading-relaxed mb-2",children:['"',t,'"']}),e&&d.jsxs("p",{className:"text-sm text-muted-foreground font-medium",children:["— ",e]})]})]})})}const uM=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,w=u&63;l||(w=64,o||(f=64)),r.push(n[h],n[p],n[f],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new hM;const f=i<<2|a>>4;if(r.push(f),u!==64){const w=a<<4&240|u>>2;if(r.push(w),p!==64){const E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fM=function(t){const e=Cb(t);return Ib.encodeByteArray(e,!0)},Hd=function(t){return fM(t).replace(/\./g,"")},Nb=function(t){try{return Ib.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=()=>pM().__FIREBASE_DEFAULTS__,gM=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nb(t[1]);return e&&JSON.parse(e)},qh=()=>{try{return uM()||mM()||gM()||yM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pb=t=>{var e,n;return(n=(e=qh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kb=t=>{const e=Pb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ab=()=>{var t;return(t=qh())==null?void 0:t.config},Rb=t=>{var e;return(e=qh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hd(JSON.stringify(n)),Hd(JSON.stringify(o)),""].join(".")}const Pl={};function xM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?t.emulator.push(e):t.prod.push(e);return t}function _M(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ax=!1;function Yy(t,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Pl[t]===e||Pl[t]||Ax)return;Pl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=xM().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,w){f.setAttribute("width","24"),f.setAttribute("id",w),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ax=!0,o()},f}function h(f,w){f.setAttribute("id",w),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=_M(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),h(T,y);const k=u();l(v,x),S.append(v,E,T,k),document.body.appendChild(S)}i?(E.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function TM(){var e;const t=(e=qh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NM(){return!TM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PM(){try{return typeof indexedDB=="object"}catch{return!1}}function kM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AM,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?RM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Nr(s,a,r)}}function RM(t,e){return t.replace(DM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const DM=/\{\$([^}]+)}/g;function jM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Rx(i)&&Rx(o)){if(!Wi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OM(t,e){const n=new MM(t,e);return n.subscribe.bind(n)}class MM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xp),s.error===void 0&&(s.error=xp),s.complete===void 0&&(s.complete=xp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UM(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FM(t){return t===Ti?void 0:t}function UM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const zM={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},BM=Ce.INFO,WM={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=BM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const qM=(t,e)=>e.some(n=>t instanceof n);let Dx,jx;function KM(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GM(){return jx||(jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Db=new WeakMap,Ym=new WeakMap,jb=new WeakMap,_p=new WeakMap,Jy=new WeakMap;function QM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Db.set(n,t)}).catch(()=>{}),Jy.set(e,t),e}function YM(t){if(Ym.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ym.set(t,e)}let Xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XM(t){Xm=t(Xm)}function JM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ep(this),e,...n);return jb.set(r,e.sort?e.sort():[e]),$s(r)}:GM().includes(t)?function(...e){return t.apply(Ep(this),e),$s(Db.get(this))}:function(...e){return $s(t.apply(Ep(this),e))}}function ZM(t){return typeof t=="function"?JM(t):(t instanceof IDBTransaction&&YM(t),qM(t,KM())?new Proxy(t,Xm):t)}function $s(t){if(t instanceof IDBRequest)return QM(t);if(_p.has(t))return _p.get(t);const e=ZM(t);return e!==t&&(_p.set(t,e),Jy.set(e,t)),e}const Ep=t=>Jy.get(t);function eL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",l=>{r($s(o.result),l.oldVersion,l.newVersion,$s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tL=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],Tp=new Map;function Ox(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tL.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Tp.set(e,i),i}XM(t=>({...t,get:(e,n,r)=>Ox(e,n)||t.get(e,n,r),has:(e,n)=>!!Ox(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",Mx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Xy("@firebase/app"),iL="@firebase/app-compat",oL="@firebase/analytics-compat",aL="@firebase/analytics",lL="@firebase/app-check-compat",cL="@firebase/app-check",uL="@firebase/auth",dL="@firebase/auth-compat",hL="@firebase/database",fL="@firebase/data-connect",pL="@firebase/database-compat",mL="@firebase/functions",gL="@firebase/functions-compat",yL="@firebase/installations",vL="@firebase/installations-compat",wL="@firebase/messaging",xL="@firebase/messaging-compat",_L="@firebase/performance",EL="@firebase/performance-compat",TL="@firebase/remote-config",SL="@firebase/remote-config-compat",bL="@firebase/storage",CL="@firebase/storage-compat",IL="@firebase/firestore",NL="@firebase/ai",PL="@firebase/firestore-compat",kL="firebase",AL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",RL={[Jm]:"fire-core",[iL]:"fire-core-compat",[aL]:"fire-analytics",[oL]:"fire-analytics-compat",[cL]:"fire-app-check",[lL]:"fire-app-check-compat",[uL]:"fire-auth",[dL]:"fire-auth-compat",[hL]:"fire-rtdb",[fL]:"fire-data-connect",[pL]:"fire-rtdb-compat",[mL]:"fire-fn",[gL]:"fire-fn-compat",[yL]:"fire-iid",[vL]:"fire-iid-compat",[wL]:"fire-fcm",[xL]:"fire-fcm-compat",[_L]:"fire-perf",[EL]:"fire-perf-compat",[TL]:"fire-rc",[SL]:"fire-rc-compat",[bL]:"fire-gcs",[CL]:"fire-gcs-compat",[IL]:"fire-fst",[PL]:"fire-fst-compat",[NL]:"fire-vertex","fire-js":"fire-js",[kL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,DL=new Map,eg=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hi(t){const e=t.name;if(eg.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,t);for(const n of qd.values())Lx(n,t);for(const n of DL.values())Lx(n,t);return!0}function Kh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Cc("app","Firebase",jL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=AL;function Ob(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zs.create("bad-app-name",{appName:String(s)});if(n||(n=Ab()),!n)throw zs.create("no-options");const i=qd.get(s);if(i){if(Wi(n,i.options)&&Wi(r,i.config))return i;throw zs.create("duplicate-app",{appName:s})}const o=new $M(s);for(const l of eg.values())o.addComponent(l);const a=new OL(n,r,o);return qd.set(s,a),a}function Zy(t=Zm){const e=qd.get(t);if(!e&&t===Zm&&Ab())return Ob();if(!e)throw zs.create("no-app",{appName:t});return e}function vr(t,e,n){let r=RL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(o.join(" "));return}Hi(new Js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firebase-heartbeat-database",LL=1,oc="firebase-heartbeat-store";let Sp=null;function Mb(){return Sp||(Sp=eL(ML,LL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Sp}async function VL(t){try{const n=(await Mb()).transaction(oc),r=await n.objectStore(oc).get(Lb(t));return await n.done,r}catch(e){if(e instanceof Nr)Xr.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function Vx(t,e){try{const r=(await Mb()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,Lb(t)),await r.done}catch(n){if(n instanceof Nr)Xr.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(r.message)}}}function Lb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1024,UL=30;class $L{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UL){const o=WL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fx(),{heartbeatsToSend:r,unsentEntries:s}=zL(this._heartbeatsCache.heartbeats),i=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Xr.warn(n),""}}}function Fx(){return new Date().toISOString().substring(0,10)}function zL(t,e=FL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ux(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PM()?kM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}function WL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){Hi(new Js("platform-logger",e=>new rL(e),"PRIVATE")),Hi(new Js("heartbeat",e=>new $L(e),"PRIVATE")),vr(Jm,Mx,t),vr(Jm,Mx,"esm2020"),vr("fire-js","")}HL("");var qL="firebase",KL="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(qL,KL,"app");function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GL=Vb,Fb=new Cc("auth","Firebase",Vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Xy("@firebase/auth");function QL(t,...e){Kd.logLevel<=Ce.WARN&&Kd.warn(`Auth (${Ra}): ${t}`,...e)}function Yu(t,...e){Kd.logLevel<=Ce.ERROR&&Kd.error(`Auth (${Ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw tv(t,...e)}function Xn(t,...e){return tv(t,...e)}function ev(t,e,n){const r={...GL(),[e]:n};return new Cc("auth","Firebase",r).create(e,{appName:t.name})}function Br(t){return ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fn(t,"argument-error"),ev(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Fb.create(t,...e)}function le(t,e,...n){if(!t)throw tv(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yu(e),new Error(e)}function Jr(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function XL(){return $x()==="http:"||$x()==="https:"}function $x(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XL()||bM()||"connection"in navigator)?navigator.onLine:!0}function ZL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=EM()||CM()}get(){return JL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nV=new Nc(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pr(t,e,n,r,s={}){return $b(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ic({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return SM()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&eo(t.emulatorConfig.host)&&(u.credentials="include"),Ub.fetch()(await zb(t,t.config.apiHost,n,a),u)})}async function $b(t,e,n){t._canInitEmulator=!1;const r={...eV,...e};try{const s=new sV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Tu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Tu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ev(t,h,u);Fn(t,h)}}catch(s){if(s instanceof Nr)throw s;Fn(t,"network-request-failed",{message:String(s)})}}async function Pc(t,e,n,r,s={}){const i=await Pr(t,e,n,r,s);return"mfaPendingCredential"in i&&Fn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function zb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?nv(t.config,s):`${t.config.apiScheme}://${s}`;return tV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function rV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),nV.get())})}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Xn(t,e,r);return s.customData._tokenResponse=n,s}function zx(t){return t!==void 0&&t.enterprise!==void 0}class iV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oV(t,e){return Pr(t,"GET","/v2/recaptchaConfig",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){return Pr(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return Pr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lV(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=rv(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:kl(bp(s.auth_time)),issuedAtTime:kl(bp(s.iat)),expirationTime:kl(bp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function bp(t){return Number(t)*1e3}function rv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nb(n);return s?JSON.parse(s):(Yu("Failed to decode base64 JWT payload"),null)}catch(s){return Yu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bx(t){const e=rv(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&cV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(t){var p;const e=t.auth,n=await t.getIdToken(),r=await ma(t,Gd(e,{idToken:n}));le(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?Bb(s.providerUserInfo):[],o=hV(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ng(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function dV(t){const e=at(t);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Bb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e){const n=await $b(t,{},async()=>{const r=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await zb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&eo(t.emulatorConfig.host)&&(l.credentials="include"),Ub.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pV(t,e){return Pr(t,"POST","/v2/accounts:revokeToken",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=Bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await fV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Bo;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new uV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ng(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lV(this,e)}reload(){return dV(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await ma(this,aV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:f,isAnonymous:w,providerData:E,stsTokenManager:y}=n;le(p&&y,e,"internal-error");const T=Bo.fromJSON(this.name,y);le(typeof p=="string",e,"internal-error"),fs(r,e.name),fs(s,e.name),le(typeof f=="boolean",e,"internal-error"),le(typeof w=="boolean",e,"internal-error"),fs(i,e.name),fs(o,e.name),fs(a,e.name),fs(l,e.name),fs(u,e.name),fs(h,e.name);const x=new Gn({uid:p,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:u,lastLoginAt:h});return E&&Array.isArray(E)&&(x.providerData=E.map(v=>({...v}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bo;s.updateFromServerResponse(n);const i=new Gn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Bb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Bo;a.updateFromIdToken(r);const l=new Gn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ng(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Map;function $r(t){Jr(t instanceof Function,"Expected a class definition");let e=Wx.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Wb.type="NONE";const Hx=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wo($r(Hx),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||$r(Hx);const o=Xu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let p;if(typeof h=="string"){const f=await Gd(e,{idToken:h}).catch(()=>{});if(!f)break;p=await Gn._fromGetAccountInfoResponse(e,f,h)}else p=Gn._fromJSON(e,h);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yb(e))return"Blackberry";if(Xb(e))return"Webos";if(qb(e))return"Safari";if((e.includes("chrome/")||Kb(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hb(t=Kt()){return/firefox\//i.test(t)}function qb(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kb(t=Kt()){return/crios\//i.test(t)}function Gb(t=Kt()){return/iemobile/i.test(t)}function Qb(t=Kt()){return/android/i.test(t)}function Yb(t=Kt()){return/blackberry/i.test(t)}function Xb(t=Kt()){return/webos/i.test(t)}function sv(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mV(t=Kt()){var e;return sv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function gV(){return IM()&&document.documentMode===10}function Jb(t=Kt()){return sv(t)||Qb(t)||Xb(t)||Yb(t)||/windows phone/i.test(t)||Gb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e=[]){let n;switch(t){case"Browser":n=qx(Kt());break;case"Worker":n=`${qx(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e={}){return Pr(t,"GET","/v2/passwordPolicy",ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=6;class xV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kx(this),this.idTokenSubscription=new Kx(this),this.beforeStateQueue=new yV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),r=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Br(this));const n=e?at(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vV(this),n=new xV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&QL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function is(t){return at(t)}class Kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=OM(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EV(t){Gh=t}function eC(t){return Gh.loadJS(t)}function TV(){return Gh.recaptchaEnterpriseScript}function SV(){return Gh.gapiScript}function bV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CV{constructor(){this.enterprise=new IV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NV="recaptcha-enterprise",tC="NO_RECAPTCHA";class PV{constructor(e){this.type=NV,this.auth=is(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{oV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new iV(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;zx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(tC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CV().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&zx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=TV();l.length!==0&&(l+=a),eC(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Gx(t,e,n,r=!1,s=!1){const i=new PV(t);let o;if(s)o=tC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yd(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){const n=Kh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Wi(i,e??{}))return s;Fn(s,"already-initialized")}return n.initialize({options:e})}function AV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RV(t,e,n){const r=is(t);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=nC(e),{host:o,port:a}=DV(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Wi(u,r.config.emulator)&&Wi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,eo(o)?(Qy(`${i}//${o}${l}`),Yy("Auth",!0)):jV()}function nC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DV(t){const e=nC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Qx(o)}}}function Qx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function OV(t,e){return Pr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}async function rC(t,e){return Pr(t,"POST","/v1/accounts:sendOobCode",ss(t,e))}async function LV(t,e){return rC(t,e)}async function VV(t,e){return rC(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function UV(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends iv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(e,n,"signInWithPassword",MV);case"emailLink":return FV(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(e,r,"signUpPassword",OV);case"emailLink":return UV(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="http://localhost";class qi extends iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new qi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:$V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BV(t){const e=dl(hl(t)).link,n=e?dl(hl(e)).deep_link_id:null,r=dl(hl(t)).deep_link_id;return(r?dl(hl(r)).link:null)||r||n||e||t}class ov{constructor(e){const n=dl(hl(e)),r=n.apiKey??null,s=n.oobCode??null,i=zV(n.mode??null);le(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BV(e);try{return new ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ov.parseLink(n);return le(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends av{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends kc{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends kc{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends kc{constructor(){super("twitter.com")}static credential(e,n){return qi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e){return Pc(t,"POST","/v1/accounts:signUp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Gn._fromIdTokenResponse(e,r,s),o=Yx(r);return new Ki({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yx(r);return new Ki({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Nr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xd(e,n,r,s)}}function sC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(t,i,e,r):i})}async function HV(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ki._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(Br(r));const s="reauthenticate";try{const i=await ma(t,sC(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=rv(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Ki._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e,n=!1){if(an(t.app))return Promise.reject(Br(t));const r="signIn",s=await sC(t,r,e),i=await Ki._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function KV(t,e){return iC(is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e,n){var r;le(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),le(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t){const e=is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QV(t,e,n){const r=is(t);await Yd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VV)}async function YV(t,e,n){if(an(t.app))return Promise.reject(Br(t));const r=is(t),o=await Yd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WV).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oC(t),l}),a=await Ki._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function XV(t,e,n){return an(t.app)?Promise.reject(Br(t)):KV(at(t),Da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oC(t),r})}async function Xx(t,e){const n=at(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&GV(n.auth,s,e);const{email:i}=await LV(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return Pr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=at(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ma(r,JV(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function ZV(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function e3(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function t3(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function n3(t){return at(t).signOut()}async function r3(t){return at(t).delete()}const Jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1e3,i3=10;class cC extends lC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const o3=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends lC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uC.type="SESSION";const dC=uC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await a3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=lv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function c3(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function u3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function h3(){return hC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebaseLocalStorageDb",f3=1,Zd="firebaseLocalStorage",pC="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(t,e){return t.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function p3(){const t=indexedDB.deleteDatabase(fC);return new Ac(t).toPromise()}function rg(){const t=indexedDB.open(fC,f3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zd,{keyPath:pC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zd)?e(r):(r.close(),await p3(),e(await rg()))})})}async function Jx(t,e,n){const r=Yh(t,!0).put({[pC]:e,value:n});return new Ac(r).toPromise()}async function m3(t,e){const n=Yh(t,!1).get(e),r=await new Ac(n).toPromise();return r===void 0?null:r.value}function Zx(t,e){const n=Yh(t,!0).delete(e);return new Ac(n).toPromise()}const g3=800,y3=3;class mC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(h3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await u3(),!this.activeServiceWorker)return;this.sender=new l3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await Jx(e,Jd,"1"),await Zx(e,Jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yh(s,!1).getAll();return new Ac(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mC.type="LOCAL";const v3=mC;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e){return e?$r(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w3(t){return iC(t.auth,new cv(t),t.bypassAuthState)}function x3(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),qV(n,new cv(t),t.bypassAuthState)}async function _3(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),HV(n,new cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w3;case"linkViaPopup":case"linkViaRedirect":return _3;case"reauthViaPopup":case"reauthViaRedirect":return x3;default:Fn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Nc(2e3,1e4);async function T3(t,e,n){if(an(t.app))return Promise.reject(Xn(t,"operation-not-supported-in-this-environment"));const r=is(t);YL(t,e,av);const s=gC(r,n);return new Ii(r,"signInViaPopup",e,s).executeNotNull()}class Ii extends yC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E3.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="pendingRedirect",Ju=new Map;class b3 extends yC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ju.get(this.auth._key());if(!e){try{const r=await C3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ju.set(this.auth._key(),e)}return this.bypassAuthState||Ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C3(t,e){const n=P3(e),r=N3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function I3(t,e){Ju.set(t._key(),e)}function N3(t){return $r(t._redirectPersistence)}function P3(t){return Xu(S3,t.config.apiKey,t.name)}async function k3(t,e,n=!1){if(an(t.app))return Promise.reject(Br(t));const r=is(t),s=gC(r,e),o=await new b3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=10*60*1e3;class R3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A3&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e={}){return Pr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M3=/^https?/;async function L3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j3(t);for(const n of e)try{if(V3(n))return}catch{}Fn(t,"unauthorized-domain")}function V3(t){const e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!M3.test(n))return!1;if(O3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Nc(3e4,6e4);function t_(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U3(t){return new Promise((e,n)=>{var s,i,o;function r(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(Xn(t,"network-request-failed"))},timeout:F3.get()})}if((i=(s=wr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=wr().gapi)!=null&&o.load)r();else{const a=bV("iframefcb");return wr()[a]=()=>{gapi.load?r():n(Xn(t,"network-request-failed"))},eC(`${SV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zu=null,e})}let Zu=null;function $3(t){return Zu=Zu||U3(t),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Nc(5e3,15e3),B3="__/auth/iframe",W3="emulator/auth/iframe",H3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K3(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nv(e,W3):`https://${t.config.authDomain}/${B3}`,r={apiKey:e.apiKey,appName:t.name,v:Ra},s=q3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ic(r).slice(1)}`}async function G3(t){const e=await $3(t),n=wr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:K3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=wr().setTimeout(()=>{i(o)},z3.get());function l(){wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y3=500,X3=600,J3="_blank",Z3="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e5(t,e,n,r=Y3,s=X3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Q3,width:r.toString(),height:s.toString(),top:i,left:o},u=Kt().toLowerCase();n&&(a=Kb(u)?J3:n),Hb(u)&&(e=e||Z3,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[w,E])=>`${f}${w}=${E},`,"");if(mV(u)&&a!=="_self")return t5(e||"",a),new n_(null);const p=window.open(e||"",a,h);le(p,t,"popup-blocked");try{p.focus()}catch{}return new n_(p)}function t5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="__/auth/handler",r5="emulator/auth/handler",s5=encodeURIComponent("fac");async function r_(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ra,eventId:s};if(e instanceof av){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof kc){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${s5}=${encodeURIComponent(l)}`:"";return`${i5(t)}?${Ic(a).slice(1)}${u}`}function i5({config:t}){return t.emulator?nv(t,r5):`https://${t.authDomain}/${n5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="webStorageSupport";class o5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dC,this._completeRedirectFn=k3,this._overrideRedirectResult=I3}async _openPopup(e,n,r,s){var o;Jr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await r_(e,n,r,tg(),s);return e5(e,i,lv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await r_(e,n,r,tg(),s);return c3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Jr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G3(e),r=new R3(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cp,{type:Cp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cp];i!==void 0&&n(!!i),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jb()||qb()||sv()}}const a5=o5;var s_="@firebase/auth",i_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u5(t){Hi(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(t)},u=new _V(r,s,i,l);return AV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hi(new Js("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(r=>new l5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(s_,i_,c5(t)),vr(s_,i_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=5*60,h5=Rb("authIdTokenMaxAge")||d5;let o_=null;const f5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h5)return;const s=n==null?void 0:n.token;o_!==s&&(o_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p5(t=Zy()){const e=Kh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kV(t,{popupRedirectResolver:a5,persistence:[v3,o3,dC]}),r=Rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=f5(i.toString());e3(n,o,()=>o(n.currentUser)),ZV(n,a=>o(a))}}const s=Pb("auth");return s&&RV(n,`http://${s}`),n}function m5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}EV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Xn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",m5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u5("Browser");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,wC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.D=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,R,D){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return b.prototype[R].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,b,I){I||(I=0);var P=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)P[R]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(R=0;16>R;++R)P[R]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],R=C.g[2];var D=C.g[3],A=b+(D^I&(R^D))+P[0]+3614090360&4294967295;b=I+(A<<7&4294967295|A>>>25),A=D+(R^b&(I^R))+P[1]+3905402710&4294967295,D=b+(A<<12&4294967295|A>>>20),A=R+(I^D&(b^I))+P[2]+606105819&4294967295,R=D+(A<<17&4294967295|A>>>15),A=I+(b^R&(D^b))+P[3]+3250441966&4294967295,I=R+(A<<22&4294967295|A>>>10),A=b+(D^I&(R^D))+P[4]+4118548399&4294967295,b=I+(A<<7&4294967295|A>>>25),A=D+(R^b&(I^R))+P[5]+1200080426&4294967295,D=b+(A<<12&4294967295|A>>>20),A=R+(I^D&(b^I))+P[6]+2821735955&4294967295,R=D+(A<<17&4294967295|A>>>15),A=I+(b^R&(D^b))+P[7]+4249261313&4294967295,I=R+(A<<22&4294967295|A>>>10),A=b+(D^I&(R^D))+P[8]+1770035416&4294967295,b=I+(A<<7&4294967295|A>>>25),A=D+(R^b&(I^R))+P[9]+2336552879&4294967295,D=b+(A<<12&4294967295|A>>>20),A=R+(I^D&(b^I))+P[10]+4294925233&4294967295,R=D+(A<<17&4294967295|A>>>15),A=I+(b^R&(D^b))+P[11]+2304563134&4294967295,I=R+(A<<22&4294967295|A>>>10),A=b+(D^I&(R^D))+P[12]+1804603682&4294967295,b=I+(A<<7&4294967295|A>>>25),A=D+(R^b&(I^R))+P[13]+4254626195&4294967295,D=b+(A<<12&4294967295|A>>>20),A=R+(I^D&(b^I))+P[14]+2792965006&4294967295,R=D+(A<<17&4294967295|A>>>15),A=I+(b^R&(D^b))+P[15]+1236535329&4294967295,I=R+(A<<22&4294967295|A>>>10),A=b+(R^D&(I^R))+P[1]+4129170786&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^R&(b^I))+P[6]+3225465664&4294967295,D=b+(A<<9&4294967295|A>>>23),A=R+(b^I&(D^b))+P[11]+643717713&4294967295,R=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(R^D))+P[0]+3921069994&4294967295,I=R+(A<<20&4294967295|A>>>12),A=b+(R^D&(I^R))+P[5]+3593408605&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^R&(b^I))+P[10]+38016083&4294967295,D=b+(A<<9&4294967295|A>>>23),A=R+(b^I&(D^b))+P[15]+3634488961&4294967295,R=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(R^D))+P[4]+3889429448&4294967295,I=R+(A<<20&4294967295|A>>>12),A=b+(R^D&(I^R))+P[9]+568446438&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^R&(b^I))+P[14]+3275163606&4294967295,D=b+(A<<9&4294967295|A>>>23),A=R+(b^I&(D^b))+P[3]+4107603335&4294967295,R=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(R^D))+P[8]+1163531501&4294967295,I=R+(A<<20&4294967295|A>>>12),A=b+(R^D&(I^R))+P[13]+2850285829&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^R&(b^I))+P[2]+4243563512&4294967295,D=b+(A<<9&4294967295|A>>>23),A=R+(b^I&(D^b))+P[7]+1735328473&4294967295,R=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(R^D))+P[12]+2368359562&4294967295,I=R+(A<<20&4294967295|A>>>12),A=b+(I^R^D)+P[5]+4294588738&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^R)+P[8]+2272392833&4294967295,D=b+(A<<11&4294967295|A>>>21),A=R+(D^b^I)+P[11]+1839030562&4294967295,R=D+(A<<16&4294967295|A>>>16),A=I+(R^D^b)+P[14]+4259657740&4294967295,I=R+(A<<23&4294967295|A>>>9),A=b+(I^R^D)+P[1]+2763975236&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^R)+P[4]+1272893353&4294967295,D=b+(A<<11&4294967295|A>>>21),A=R+(D^b^I)+P[7]+4139469664&4294967295,R=D+(A<<16&4294967295|A>>>16),A=I+(R^D^b)+P[10]+3200236656&4294967295,I=R+(A<<23&4294967295|A>>>9),A=b+(I^R^D)+P[13]+681279174&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^R)+P[0]+3936430074&4294967295,D=b+(A<<11&4294967295|A>>>21),A=R+(D^b^I)+P[3]+3572445317&4294967295,R=D+(A<<16&4294967295|A>>>16),A=I+(R^D^b)+P[6]+76029189&4294967295,I=R+(A<<23&4294967295|A>>>9),A=b+(I^R^D)+P[9]+3654602809&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^R)+P[12]+3873151461&4294967295,D=b+(A<<11&4294967295|A>>>21),A=R+(D^b^I)+P[15]+530742520&4294967295,R=D+(A<<16&4294967295|A>>>16),A=I+(R^D^b)+P[2]+3299628645&4294967295,I=R+(A<<23&4294967295|A>>>9),A=b+(R^(I|~D))+P[0]+4096336452&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~R))+P[7]+1126891415&4294967295,D=b+(A<<10&4294967295|A>>>22),A=R+(b^(D|~I))+P[14]+2878612391&4294967295,R=D+(A<<15&4294967295|A>>>17),A=I+(D^(R|~b))+P[5]+4237533241&4294967295,I=R+(A<<21&4294967295|A>>>11),A=b+(R^(I|~D))+P[12]+1700485571&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~R))+P[3]+2399980690&4294967295,D=b+(A<<10&4294967295|A>>>22),A=R+(b^(D|~I))+P[10]+4293915773&4294967295,R=D+(A<<15&4294967295|A>>>17),A=I+(D^(R|~b))+P[1]+2240044497&4294967295,I=R+(A<<21&4294967295|A>>>11),A=b+(R^(I|~D))+P[8]+1873313359&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~R))+P[15]+4264355552&4294967295,D=b+(A<<10&4294967295|A>>>22),A=R+(b^(D|~I))+P[6]+2734768916&4294967295,R=D+(A<<15&4294967295|A>>>17),A=I+(D^(R|~b))+P[13]+1309151649&4294967295,I=R+(A<<21&4294967295|A>>>11),A=b+(R^(I|~D))+P[4]+4149444226&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~R))+P[11]+3174756917&4294967295,D=b+(A<<10&4294967295|A>>>22),A=R+(b^(D|~I))+P[2]+718787259&4294967295,R=D+(A<<15&4294967295|A>>>17),A=I+(D^(R|~b))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var I=b-this.blockSize,P=this.B,R=this.h,D=0;D<b;){if(R==0)for(;D<=I;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<b;)if(P[R++]=C.charCodeAt(D++),R==this.blockSize){s(this,P),R=0;break}}else for(;D<b;)if(P[R++]=C[D++],R==this.blockSize){s(this,P),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var I=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=I&255,I/=256;for(this.u(C),C=Array(16),b=I=0;4>b;++b)for(var P=0;32>P;P+=8)C[I++]=this.g[b]>>>P&255;return C};function i(C,b){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function o(C,b){this.h=b;for(var I=[],P=!0,R=C.length-1;0<=R;R--){var D=C[R]|0;P&&D==b||(I[R]=D,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return T(u(-C));for(var b=[],I=1,P=0;C>=I;P++)b[P]=C/I|0,I*=4294967296;return new o(b,0)}function h(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return T(h(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(b,8)),P=p,R=0;R<C.length;R+=8){var D=Math.min(8,C.length-R),A=parseInt(C.substring(R,R+D),b);8>D?(D=u(Math.pow(b,D)),P=P.j(D).add(u(A))):(P=P.j(I),P=P.add(u(A)))}return P}var p=l(0),f=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var C=0,b=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(y(this))return"-"+T(this).toString(C);for(var b=u(Math.pow(C,6)),I=this,P="";;){var R=k(I,b).g;I=x(I,R.j(b));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=R,E(I))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=x(this,C),y(C)?-1:E(C)?0:1};function T(C){for(var b=C.g.length,I=[],P=0;P<b;P++)I[P]=~C.g[P];return new o(I,~C.h).add(f)}t.abs=function(){return y(this)?T(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],P=0,R=0;R<=b;R++){var D=P+(this.i(R)&65535)+(C.i(R)&65535),A=(D>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);P=A>>>16,D&=65535,A&=65535,I[R]=A<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(C,b){return C.add(T(b))}t.j=function(C){if(E(this)||E(C))return p;if(y(this))return y(C)?T(this).j(T(C)):T(T(this).j(C));if(y(C))return T(this.j(T(C)));if(0>this.l(w)&&0>C.l(w))return u(this.m()*C.m());for(var b=this.g.length+C.g.length,I=[],P=0;P<2*b;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<C.g.length;R++){var D=this.i(P)>>>16,A=this.i(P)&65535,W=C.i(R)>>>16,re=C.i(R)&65535;I[2*P+2*R]+=A*re,v(I,2*P+2*R),I[2*P+2*R+1]+=D*re,v(I,2*P+2*R+1),I[2*P+2*R+1]+=A*W,v(I,2*P+2*R+1),I[2*P+2*R+2]+=D*W,v(I,2*P+2*R+2)}for(P=0;P<b;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=b;P<2*b;P++)I[P]=0;return new o(I,0)};function v(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function S(C,b){this.g=C,this.h=b}function k(C,b){if(E(b))throw Error("division by zero");if(E(C))return new S(p,p);if(y(C))return b=k(T(C),b),new S(T(b.g),T(b.h));if(y(b))return b=k(C,T(b)),new S(T(b.g),b.h);if(30<C.g.length){if(y(C)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=b;0>=P.l(C);)I=j(I),P=j(P);var R=O(I,1),D=O(P,1);for(P=O(P,2),I=O(I,2);!E(P);){var A=D.add(P);0>=A.l(C)&&(R=R.add(I),D=A),P=O(P,1),I=O(I,1)}return b=x(C,R.j(b)),new S(R,b)}for(R=p;0<=C.l(b);){for(I=Math.max(1,Math.floor(C.m()/b.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(I),A=D.j(b);y(A)||0<A.l(C);)I-=P,D=u(I),A=D.j(b);E(D)&&(D=f),R=R.add(D),C=x(C,A)}return new S(R,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],P=0;P<b;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],P=0;P<b;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],P=0;P<b;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function j(C){for(var b=C.g.length+1,I=[],P=0;P<b;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function O(C,b){var I=b>>5;b%=32;for(var P=C.g.length-I,R=[],D=0;D<P;D++)R[D]=0<b?C.i(D+I)>>>b|C.i(D+I+1)<<32-b:C.i(D+I);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Bs=o}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xC,fl,_C,ed,sg,EC,TC,SC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var _=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var M=c[N];if(!(M in _))break e;_=_[M]}c=c[c.length-1],N=_[c],m=m(N),m!=N&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var _=0,N=!1,M={next:function(){if(!N&&_<c.length){var V=_++;return{value:m(V,c[V]),done:!1}}return N=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,_){return c.call.apply(c.bind,arguments)}function p(c,m,_){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,N),c.apply(m,M)}}return function(){return c.apply(m,arguments)}}function f(c,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function w(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function E(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(N,M,V){for(var Q=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Q[ze-2]=arguments[ze];return m.prototype[M].apply(N,Q)}}function y(c){const m=c.length;if(0<m){const _=Array(m);for(let N=0;N<m;N++)_[N]=c[N];return _}return[]}function T(c,m){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(l(N)){const M=c.length||0,V=N.length||0;c.length=M+V;for(let Q=0;Q<V;Q++)c[M+Q]=N[Q]}else c.push(N)}}class x{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var j=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(c,m,_){for(const N in c)m.call(_,c[N],N,c)}function C(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function b(c){const m={};for(const _ in c)m[_]=c[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let _,N;for(let M=1;M<arguments.length;M++){N=arguments[M];for(_ in N)c[_]=N[_];for(let V=0;V<I.length;V++)_=I[V],Object.prototype.hasOwnProperty.call(N,_)&&(c[_]=N[_])}}function R(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function D(c){a.setTimeout(()=>{throw c},0)}function A(){var c=z;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,_){const N=re.get();N.set(m,_),this.h?this.h.next=N:this.g=N,this.h=N}}var re=new x(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,L=!1,z=new W,X=()=>{const c=a.Promise.resolve(void 0);se=()=>{c.then(q)}};var q=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){D(_)}var m=re;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return c}();function be(c,m){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(j){e:{try{k(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}E(be,ee);var we={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),_e=0;function je(c,m,_,N,M){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!N,this.ha=M,this.key=++_e,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,m,_,N,M){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var Q=ue(c,m,N,M);return-1<Q?(m=c[Q],_||(m.fa=!1)):(m=new je(m,this.src,V,!!N,M),m.fa=_,c.push(m)),m};function K(c,m){var _=m.type;if(_ in c.g){var N=c.g[_],M=Array.prototype.indexOf.call(N,m,void 0),V;(V=0<=M)&&Array.prototype.splice.call(N,M,1),V&&(ye(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ue(c,m,_,N){for(var M=0;M<c.length;++M){var V=c[M];if(!V.da&&V.listener==m&&V.capture==!!_&&V.ha==N)return M}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),nt={};function ke(c,m,_,N,M){if(Array.isArray(m)){for(var V=0;V<m.length;V++)ke(c,m[V],_,N,M);return null}return _=gi(_),c&&c[ne]?c.K(m,_,u(N)?!!N.capture:!!N,M):Nn(c,m,_,!1,N,M)}function Nn(c,m,_,N,M,V){if(!m)throw Error("Invalid event type");var Q=u(M)?!!M.capture:!!M,ze=rr(c);if(ze||(c[tt]=ze=new fe(c)),_=ze.add(m,_,N,Q,V),_.proxy)return _;if(N=pi(),_.proxy=N,N.src=c,N.listener=_,c.addEventListener)oe||(M=Q),M===void 0&&(M=!1),c.addEventListener(m.toString(),N,M);else if(c.attachEvent)c.attachEvent(nr(m.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function pi(){function c(_){return m.call(c.src,c.listener,_)}const m=Fa;return c}function He(c,m,_,N,M){if(Array.isArray(m))for(var V=0;V<m.length;V++)He(c,m[V],_,N,M);else N=u(N)?!!N.capture:!!N,_=gi(_),c&&c[ne]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],_=ue(V,_,N,M),-1<_&&(ye(V[_]),Array.prototype.splice.call(V,_,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=rr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ue(m,_,N,M)),(_=-1<c?m[c]:null)&&Pn(_))}function Pn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ne])K(m.i,c);else{var _=c.type,N=c.proxy;m.removeEventListener?m.removeEventListener(_,N,c.capture):m.detachEvent?m.detachEvent(nr(_),N):m.addListener&&m.removeListener&&m.removeListener(N),(_=rr(m))?(K(_,c),_.h==0&&(_.src=null,m[tt]=null)):ye(c)}}}function nr(c){return c in nt?nt[c]:nt[c]="on"+c}function Fa(c,m){if(c.da)c=!0;else{m=new be(m,this);var _=c.listener,N=c.ha||c.src;c.fa&&Pn(c),c=_.call(N,m)}return c}function rr(c){return c=c[tt],c instanceof fe?c:null}var mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function gi(c){return typeof c=="function"?c:(c[mi]||(c[mi]=function(m){return c.handleEvent(m)}),c[mi])}function ct(){J.call(this),this.i=new fe(this),this.M=this,this.F=null}E(ct,J),ct.prototype[ne]=!0,ct.prototype.removeEventListener=function(c,m,_,N){He(this,c,m,_,N)};function Ze(c,m){var _,N=c.F;if(N)for(_=[];N;N=N.F)_.push(N);if(c=c.M,N=m.type||m,typeof m=="string")m=new ee(m,c);else if(m instanceof ee)m.target=m.target||c;else{var M=m;m=new ee(N,c),P(m,M)}if(M=!0,_)for(var V=_.length-1;0<=V;V--){var Q=m.g=_[V];M=sr(Q,N,!0,m)&&M}if(Q=m.g=c,M=sr(Q,N,!0,m)&&M,M=sr(Q,N,!1,m)&&M,_)for(V=0;V<_.length;V++)Q=m.g=_[V],M=sr(Q,N,!1,m)&&M}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],N=0;N<_.length;N++)ye(_[N]);delete c.g[m],c.h--}}this.F=null},ct.prototype.K=function(c,m,_,N){return this.i.add(String(c),m,!1,_,N)},ct.prototype.L=function(c,m,_,N){return this.i.add(String(c),m,!0,_,N)};function sr(c,m,_,N){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,V=0;V<m.length;++V){var Q=m[V];if(Q&&!Q.da&&Q.capture==_){var ze=Q.listener,It=Q.ha||Q.src;Q.fa&&K(c.i,Q),M=ze.call(It,N)!==!1&&M}}return M&&!N.defaultPrevented}function F(c,m,_){if(typeof c=="function")_&&(c=f(c,_));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function ae(c){c.g=F(()=>{c.g=null,c.i&&(c.i=!1,ae(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Oe extends J{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $e(c){J.call(this),this.h=c,this.g={}}E($e,J);var Gt=[];function io(c){O(c.g,function(m,_){this.g.hasOwnProperty(_)&&Pn(m)},c),c.g={}}$e.prototype.N=function(){$e.aa.N.call(this),io(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=a.JSON.stringify,ir=a.JSON.parse,Ef=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function pe(){}pe.prototype.h=null;function Ue(c){return c.h||(c.h=c.i())}function Ve(){}var jt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rn(){ee.call(this,"d")}E(rn,ee);function os(){ee.call(this,"c")}E(os,ee);var kr={},Xv=null;function Fc(){return Xv=Xv||new ct}kr.La="serverreachability";function Jv(c){ee.call(this,kr.La,c)}E(Jv,ee);function Ua(c){const m=Fc();Ze(m,new Jv(m))}kr.STAT_EVENT="statevent";function Zv(c,m){ee.call(this,kr.STAT_EVENT,c),this.stat=m}E(Zv,ee);function Qt(c){const m=Fc();Ze(m,new Zv(m,c))}kr.Ma="timingevent";function e0(c,m){ee.call(this,kr.Ma,c),this.size=m}E(e0,ee);function $a(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function za(){this.g=!0}za.prototype.xa=function(){this.g=!1};function VP(c,m,_,N,M,V){c.info(function(){if(c.g)if(V)for(var Q="",ze=V.split("&"),It=0;It<ze.length;It++){var De=ze[It].split("=");if(1<De.length){var Ot=De[0];De=De[1];var Mt=Ot.split("_");Q=2<=Mt.length&&Mt[1]=="type"?Q+(Ot+"="+De+"&"):Q+(Ot+"=redacted&")}}else Q=null;else Q=V;return"XMLHTTP REQ ("+N+") [attempt "+M+"]: "+m+`
`+_+`
`+Q})}function FP(c,m,_,N,M,V,Q){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+M+"]: "+m+`
`+_+`
`+V+" "+Q})}function oo(c,m,_,N){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$P(c,_)+(N?" "+N:"")})}function UP(c,m){c.info(function(){return"TIMEOUT: "+m})}za.prototype.info=function(){};function $P(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var N=_[c];if(!(2>N.length)){var M=N[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Q=1;Q<M.length;Q++)M[Q]=""}}}}return yi(_)}catch{return m}}var Uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},t0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tf;function $c(){}E($c,pe),$c.prototype.g=function(){return new XMLHttpRequest},$c.prototype.i=function(){return{}},Tf=new $c;function as(c,m,_,N){this.j=c,this.i=m,this.l=_,this.R=N||1,this.U=new $e(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n0}function n0(){this.i=null,this.g="",this.h=!1}var r0={},Sf={};function bf(c,m,_){c.L=1,c.v=Hc(Ar(m)),c.m=_,c.P=!0,s0(c,null)}function s0(c,m){c.F=Date.now(),zc(c),c.A=Ar(c.v);var _=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),v0(_.i,"t",N),c.C=0,_=c.j.J,c.h=new n0,c.g=M0(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Oe(f(c.Y,c,c.g),c.O)),m=c.U,_=c.g,N=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Gt[0]=M.toString()),M=Gt);for(var V=0;V<M.length;V++){var Q=ke(_,M[V],N||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ua(),VP(c.i,c.u,c.A,c.l,c.R,c.m)}as.prototype.ca=function(c){c=c.target;const m=this.M;m&&Rr(c)==3?m.j():this.Y(c)},as.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=Rr(this.g);var m=this.g.Ba();const co=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||b0(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=co?Ua(3):Ua(2)),Cf(this);var _=this.g.Z();this.X=_;t:if(i0(this)){var N=b0(this.g);c="";var M=N.length,V=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),Ba(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,c+=this.h.i.decode(N[m],{stream:!(V&&m==M-1)});N.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,FP(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,It=this.g;if((ze=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ze)){var De=ze;break t}}De=null}if(_=De)oo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,If(this,_);else{this.o=!1,this.s=3,Qt(12),vi(this),Ba(this);break e}}if(this.P){_=!0;let Un;for(;!this.J&&this.C<Q.length;)if(Un=zP(this,Q),Un==Sf){Mt==4&&(this.s=4,Qt(14),_=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==r0){this.s=4,Qt(15),oo(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else oo(this.i,this.l,Un,null),If(this,Un);if(i0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||Q.length!=0||this.h.h||(this.s=1,Qt(16),_=!1),this.o=this.o&&_,!_)oo(this.i,this.l,Q,"[Invalid Chunked Response]"),vi(this),Ba(this);else if(0<Q.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Df(Ot),Ot.M=!0,Qt(11))}}else oo(this.i,this.l,Q,null),If(this,Q);Mt==4&&vi(this),this.o&&!this.J&&(Mt==4?R0(this.j,this):(this.o=!1,zc(this)))}else ik(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),vi(this),Ba(this)}}}catch{}finally{}};function i0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zP(c,m){var _=c.C,N=m.indexOf(`
`,_);return N==-1?Sf:(_=Number(m.substring(_,N)),isNaN(_)?r0:(N+=1,N+_>m.length?Sf:(m=m.slice(N,N+_),c.C=N+_,m)))}as.prototype.cancel=function(){this.J=!0,vi(this)};function zc(c){c.S=Date.now()+c.I,o0(c,c.I)}function o0(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$a(f(c.ba,c),m)}function Cf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}as.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(UP(this.i,this.A),this.L!=2&&(Ua(),Qt(17)),vi(this),this.s=2,Ba(this)):o0(this,this.S-c)};function Ba(c){c.j.G==0||c.J||R0(c.j,c)}function vi(c){Cf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,io(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function If(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Nf(_.h,c))){if(!c.K&&Nf(_.h,c)&&_.G==3){try{var N=_.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var M=N;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Xc(_),Qc(_);else break e;Rf(_),Qt(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=$a(f(_.Za,_),6e3));if(1>=c0(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((c.K||_.g==c)&&Xc(_),!v(m))for(M=_.Da.g.parse(m),m=0;m<M.length;m++){let De=M[m];if(_.T=De[0],De=De[1],_.G==2)if(De[0]=="c"){_.K=De[1],_.ia=De[2];const Ot=De[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const Mt=De[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const co=De[5];co!=null&&typeof co=="number"&&0<co&&(N=1.5*co,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const Un=c.g;if(Un){const Zc=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zc){var V=N.h;V.g||Zc.indexOf("spdy")==-1&&Zc.indexOf("quic")==-1&&Zc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Pf(V,V.h),V.h=null))}if(N.D){const jf=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;jf&&(N.ya=jf,qe(N.I,N.D,jf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var Q=c;if(N.qa=O0(N,N.J?N.ia:null,N.W),Q.K){u0(N.h,Q);var ze=Q,It=N.L;It&&(ze.I=It),ze.B&&(Cf(ze),zc(ze)),N.g=Q}else k0(N);0<_.i.length&&Yc(_)}else De[0]!="stop"&&De[0]!="close"||xi(_,7);else _.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?xi(_,7):Af(_):De[0]!="noop"&&_.l&&_.l.ta(De),_.v=0)}}Ua(4)}catch{}}var BP=class{constructor(c,m){this.g=c,this.map=m}};function a0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function l0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function c0(c){return c.h?1:c.g?c.g.size:0}function Nf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Pf(c,m){c.g?c.g.add(m):c.h=m}function u0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}a0.prototype.cancel=function(){if(this.i=d0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function d0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return y(c.i)}function WP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],_=c.length,N=0;N<_;N++)m.push(c[N]);return m}m=[],_=0;for(N in c)m[_++]=c[N];return m}function HP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const N in c)m[_++]=N;return m}}}function h0(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=HP(c),N=WP(c),M=N.length,V=0;V<M;V++)m.call(void 0,N[V],_&&_[V],c)}var f0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qP(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var N=c[_].indexOf("="),M=null;if(0<=N){var V=c[_].substring(0,N);M=c[_].substring(N+1)}else V=c[_];m(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,Bc(this,c.j),this.o=c.o,this.g=c.g,Wc(this,c.s),this.l=c.l;var m=c.i,_=new qa;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),p0(this,_),this.m=c.m}else c&&(m=String(c).match(f0))?(this.h=!1,Bc(this,m[1]||"",!0),this.o=Wa(m[2]||""),this.g=Wa(m[3]||"",!0),Wc(this,m[4]),this.l=Wa(m[5]||"",!0),p0(this,m[6]||"",!0),this.m=Wa(m[7]||"")):(this.h=!1,this.i=new qa(null,this.h))}wi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ha(m,m0,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ha(m,m0,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ha(_,_.charAt(0)=="/"?QP:GP,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ha(_,XP)),c.join("")};function Ar(c){return new wi(c)}function Bc(c,m,_){c.j=_?Wa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Wc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function p0(c,m,_){m instanceof qa?(c.i=m,JP(c.i,c.h)):(_||(m=Ha(m,YP)),c.i=new qa(m,c.h))}function qe(c,m,_){c.i.set(m,_)}function Hc(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ha(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,KP),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function KP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var m0=/[#\/\?@]/g,GP=/[#\?:]/g,QP=/[#\?]/g,YP=/[#\?@]/g,XP=/#/g;function qa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ls(c){c.g||(c.g=new Map,c.h=0,c.i&&qP(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=qa.prototype,t.add=function(c,m){ls(this),this.i=null,c=ao(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function g0(c,m){ls(c),m=ao(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function y0(c,m){return ls(c),m=ao(c,m),c.g.has(m)}t.forEach=function(c,m){ls(this),this.g.forEach(function(_,N){_.forEach(function(M){c.call(m,M,N,this)},this)},this)},t.na=function(){ls(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let N=0;N<m.length;N++){const M=c[N];for(let V=0;V<M.length;V++)_.push(m[N])}return _},t.V=function(c){ls(this);let m=[];if(typeof c=="string")y0(this,c)&&(m=m.concat(this.g.get(ao(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},t.set=function(c,m){return ls(this),this.i=null,c=ao(this,c),y0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function v0(c,m,_){g0(c,m),0<_.length&&(c.i=null,c.g.set(ao(c,m),y(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var N=m[_];const V=encodeURIComponent(String(N)),Q=this.V(N);for(N=0;N<Q.length;N++){var M=V;Q[N]!==""&&(M+="="+encodeURIComponent(String(Q[N]))),c.push(M)}}return this.i=c.join("&")};function ao(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function JP(c,m){m&&!c.j&&(ls(c),c.i=null,c.g.forEach(function(_,N){var M=N.toLowerCase();N!=M&&(g0(this,N),v0(this,M,_))},c)),c.j=m}function ZP(c,m){const _=new za;if(a.Image){const N=new Image;N.onload=w(cs,_,"TestLoadImage: loaded",!0,m,N),N.onerror=w(cs,_,"TestLoadImage: error",!1,m,N),N.onabort=w(cs,_,"TestLoadImage: abort",!1,m,N),N.ontimeout=w(cs,_,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else m(!1)}function ek(c,m){const _=new za,N=new AbortController,M=setTimeout(()=>{N.abort(),cs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:N.signal}).then(V=>{clearTimeout(M),V.ok?cs(_,"TestPingServer: ok",!0,m):cs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),cs(_,"TestPingServer: error",!1,m)})}function cs(c,m,_,N,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),N(_)}catch{}}function tk(){this.g=new Ef}function nk(c,m,_){const N=_||"";try{h0(c,function(M,V){let Q=M;u(M)&&(Q=yi(M)),m.push(N+V+"="+encodeURIComponent(Q))})}catch(M){throw m.push(N+"type="+encodeURIComponent("_badmap")),M}}function qc(c){this.l=c.Ub||null,this.j=c.eb||!1}E(qc,pe),qc.prototype.g=function(){return new Kc(this.l,this.j)},qc.prototype.i=function(c){return function(){return c}}({});function Kc(c,m){ct.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Kc,ct),t=Kc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ga(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;w0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function w0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ka(this):Ga(this),this.readyState==3&&w0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ka(this))},t.Qa=function(c){this.g&&(this.response=c,Ka(this))},t.ga=function(){this.g&&Ka(this)};function Ka(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ga(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Ga(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function x0(c){let m="";return O(c,function(_,N){m+=N,m+=":",m+=_,m+=`\r
`}),m}function kf(c,m,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=x0(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):qe(c,m,_))}function ut(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ut,ct);var rk=/^https?$/i,sk=["POST","PUT"];t=ut.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tf.g(),this.v=this.o?Ue(this.o):Ue(Tf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){_0(this,V);return}if(c=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var M in N)_.set(M,N[M]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())_.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sk,m,void 0))||N||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Q]of _)this.g.setRequestHeader(V,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S0(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){_0(this,V)}};function _0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,E0(c),Gc(c)}function E0(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),Gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gc(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?T0(this):this.bb())},t.bb=function(){T0(this)};function T0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Rr(c)!=4||c.Z()!=2)){if(c.u&&Rr(c)==4)F(c.Ea,0,c);else if(Ze(c,"readystatechange"),Rr(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var N;if(N=Q===0){var M=String(c.D).match(f0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),N=!rk.test(M?M.toLowerCase():"")}_=N}if(_)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var V=2<Rr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",E0(c)}}finally{Gc(c)}}}}function Gc(c,m){if(c.g){S0(c);const _=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ze(c,"ready");try{_.onreadystatechange=N}catch{}}}function S0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Rr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ir(m)}};function b0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ik(c){const m={};c=(c.g&&2<=Rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(v(c[N]))continue;var _=R(c[N]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const V=m[M]||[];m[M]=V,V.push(_)}C(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function C0(c){this.Aa=0,this.i=[],this.j=new za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,c),this.cb=Qa("retryDelaySeedMs",1e4,c),this.Wa=Qa("forwardChannelMaxRetries",2,c),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new a0(c&&c.concurrentRequestLimit),this.Da=new tk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=C0.prototype,t.la=8,t.G=1,t.connect=function(c,m,_,N){Qt(0),this.W=c,this.H=m||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=O0(this,null,this.W),Yc(this)};function Af(c){if(I0(c),c.G==3){var m=c.U++,_=Ar(c.I);if(qe(_,"SID",c.K),qe(_,"RID",m),qe(_,"TYPE","terminate"),Ya(c,_),m=new as(c,c.j,m),m.L=2,m.v=Hc(Ar(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=M0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zc(m)}j0(c)}function Qc(c){c.g&&(Df(c),c.g.cancel(),c.g=null)}function I0(c){Qc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Yc(c){if(!l0(c.h)&&!c.s){c.s=!0;var m=c.Ga;se||X(),L||(se(),L=!0),z.add(m,c),c.B=0}}function ok(c,m){return c0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$a(f(c.Ga,c,m),D0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new as(this,this.j,c);let V=this.o;if(this.S&&(V?(V=b(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=P0(this,M,m),_=Ar(this.I),qe(_,"RID",c),qe(_,"CVER",22),this.D&&qe(_,"X-HTTP-Session-Id",this.D),Ya(this,_),V&&(this.O?m="headers="+encodeURIComponent(String(x0(V)))+"&"+m:this.m&&kf(_,this.m,V)),Pf(this.h,M),this.Ua&&qe(_,"TYPE","init"),this.P?(qe(_,"$req",m),qe(_,"SID","null"),M.T=!0,bf(M,_,null)):bf(M,_,m),this.G=2}}else this.G==3&&(c?N0(this,c):this.i.length==0||l0(this.h)||N0(this))};function N0(c,m){var _;m?_=m.l:_=c.U++;const N=Ar(c.I);qe(N,"SID",c.K),qe(N,"RID",_),qe(N,"AID",c.T),Ya(c,N),c.m&&c.o&&kf(N,c.m,c.o),_=new as(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=P0(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pf(c.h,_),bf(_,N,m)}function Ya(c,m){c.H&&O(c.H,function(_,N){qe(m,N,_)}),c.l&&h0({},function(_,N){qe(m,N,_)})}function P0(c,m,_){_=Math.min(c.i.length,_);var N=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let V=-1;for(;;){const Q=["count="+_];V==-1?0<_?(V=M[0].g,Q.push("ofs="+V)):V=0:Q.push("ofs="+V);let ze=!0;for(let It=0;It<_;It++){let De=M[It].g;const Ot=M[It].map;if(De-=V,0>De)V=Math.max(0,M[It].g-100),ze=!1;else try{nk(Ot,Q,"req"+De+"_")}catch{N&&N(Ot)}}if(ze){N=Q.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,N}function k0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;se||X(),L||(se(),L=!0),z.add(m,c),c.v=0}}function Rf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$a(f(c.Fa,c),D0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,A0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$a(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Qc(this),A0(this))};function Df(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function A0(c){c.g=new as(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Ar(c.qa);qe(m,"RID","rpc"),qe(m,"SID",c.K),qe(m,"AID",c.T),qe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(m,"TO",c.ja),qe(m,"TYPE","xmlhttp"),Ya(c,m),c.m&&c.o&&kf(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Hc(Ar(m)),_.m=null,_.P=!0,s0(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Qc(this),Rf(this),Qt(19))};function Xc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function R0(c,m){var _=null;if(c.g==m){Xc(c),Df(c),c.g=null;var N=2}else if(Nf(c.h,m))_=m.D,u0(c.h,m),N=1;else return;if(c.G!=0){if(m.o)if(N==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var M=c.B;N=Fc(),Ze(N,new e0(N,_)),Yc(c)}else k0(c);else if(M=m.s,M==3||M==0&&0<m.X||!(N==1&&ok(c,m)||N==2&&Rf(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),M){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function D0(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function xi(c,m){if(c.j.info("Error code "+m),m==2){var _=f(c.fb,c),N=c.Xa;const M=!N;N=new wi(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bc(N,"https"),Hc(N),M?ZP(N.toString(),_):ek(N.toString(),_)}else Qt(2);c.G=0,c.l&&c.l.sa(m),j0(c),I0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function j0(c){if(c.G=0,c.ka=[],c.l){const m=d0(c.h);(m.length!=0||c.i.length!=0)&&(T(c.ka,m),T(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function O0(c,m,_){var N=_ instanceof wi?Ar(_):new wi(_);if(N.g!="")m&&(N.g=m+"."+N.g),Wc(N,N.s);else{var M=a.location;N=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var V=new wi(null);N&&Bc(V,N),m&&(V.g=m),M&&Wc(V,M),_&&(V.l=_),N=V}return _=c.D,m=c.ya,_&&m&&qe(N,_,m),qe(N,"VER",c.la),Ya(c,N),N}function M0(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ut(new qc({eb:_})):new ut(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L0(){}t=L0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jc(){}Jc.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){ct.call(this),this.g=new C0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!v(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new lo(this)}E(mn,ct),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Af(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=yi(c),c=_);m.i.push(new BP(m.Ya++,c)),m.G==3&&Yc(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,mn.aa.N.call(this)};function V0(c){rn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(V0,rn);function F0(){os.call(this),this.status=1}E(F0,os);function lo(c){this.g=c}E(lo,L0),lo.prototype.ua=function(){Ze(this.g,"a")},lo.prototype.ta=function(c){Ze(this.g,new V0(c))},lo.prototype.sa=function(c){Ze(this.g,new F0)},lo.prototype.ra=function(){Ze(this.g,"b")},Jc.prototype.createWebChannel=Jc.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,SC=function(){return new Jc},TC=function(){return Fc()},EC=kr,sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uc.NO_ERROR=0,Uc.TIMEOUT=8,Uc.HTTP_ERROR=6,ed=Uc,t0.COMPLETE="complete",_C=t0,Ve.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",ct.prototype.listen=ct.prototype.K,fl=Ve,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,xC=ut}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",c_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Xy("@firebase/firestore");function yo(){return Gi.logLevel}function Z(t,...e){if(Gi.logLevel<=Ce.DEBUG){const n=e.map(uv);Gi.debug(`Firestore (${ja}): ${t}`,...n)}}function Zr(t,...e){if(Gi.logLevel<=Ce.ERROR){const n=e.map(uv);Gi.error(`Firestore (${ja}): ${t}`,...n)}}function ga(t,...e){if(Gi.logLevel<=Ce.WARN){const n=e.map(uv);Gi.warn(`Firestore (${ja}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bC(t,r,n)}function bC(t,e,n){let r=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bC(e,s,r)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class y5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v5{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new CC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class w5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new w5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new u_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=E5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ip(s)===Ip(i)?Ie(s,i):Ip(s)?1:-1}return Ie(t.length,e.length)}const T5=55296,S5=57343;function Ip(t){const e=t.charCodeAt(0);return e>=T5&&e<=S5}function ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ur.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=ur.isNumericId(e),s=ur.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ur.extractNumericId(e).compare(ur.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Qe extends ur{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const b5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends ur{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return b5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new kt([d_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Qe.fromString(e))}static fromName(e){return new ce(Qe.fromString(e).popFirst(5))}static empty(){return new ce(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e,n){if(!n)throw new ie(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C5(t,e,n,r){if(e===!0&&r===!0)throw new ie(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!ce.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(ce.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hv(t);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rc(t,e){if(!NC(t))throw new ie(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ie(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-62135596800,m_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*m_);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p_)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:yt("string",Ye._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Ye(0,0))}static max(){return new ge(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function I5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Zs(s,ce.empty(),e)}function N5(t){return new Zs(t.readTime,t.key,lc)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(ge.min(),ce.empty(),lc)}static max(){return new Zs(ge.max(),ce.empty(),lc)}}function P5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==k5)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function R5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-1;function Jh(t){return t==null}function eh(t){return t===0&&1/t==-1/0}function D5(t){return typeof t=="number"&&Number.isInteger(t)&&!eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="";function j5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g_(e)),e=O5(t.get(n),e);return g_(e)}function O5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case PC:n+="";break;default:n+=i}}return n}function g_(t){return t+PC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ci(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Tt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AC("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const M5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=M5.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="server_timestamp",DC="__type__",jC="__previous_value__",OC="__local_write_time__";function pv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DC])==null?void 0:r.stringValue)===RC}function Zh(t){const e=t.mapValue.fields[jC];return pv(e)?Zh(e):e}function cc(t){const e=ei(t.mapValue.fields[OC].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const th="(default)";class uc{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__type__",LC="__max__",Cu={mapValue:{fields:{__type__:{stringValue:LC}}}},VC="__vector__",nh="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:F5(t)?9007199254740991:V5(t)?10:11:de(28295,{value:t})}function br(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ei(s.timestampValue),a=ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ti(s.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ft(s.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ft(s.integerValue)===ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ft(s.doubleValue),a=ft(i.doubleValue);return o===a?eh(o)===eh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(y_(o)!==y_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!br(o[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ft(i.integerValue||i.doubleValue),l=ft(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(cc(t),cc(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ti(i),l=ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ie(a[u],l[u]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(ft(i.latitude),ft(o.latitude));return a!==0?a:Ie(ft(i.longitude),ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,w,E,y;const a=i.fields||{},l=o.fields||{},u=(f=a[nh])==null?void 0:f.arrayValue,h=(w=l[nh])==null?void 0:w.arrayValue,p=Ie(((E=u==null?void 0:u.values)==null?void 0:E.length)||0,((y=h==null?void 0:h.values)==null?void 0:y.length)||0);return p!==0?p:x_(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Cu.mapValue&&o===Cu.mapValue)return 0;if(i===Cu.mapValue)return 1;if(o===Cu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=ig(l[p],h[p]);if(f!==0)return f;const w=va(a[l[p]],u[h[p]]);if(w!==0)return w}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=ei(t),r=ei(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function x_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=va(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function wa(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=og(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${og(n.fields[o])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function td(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(t);return e?16+td(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+td(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ci(r.fields,(i,o)=>{s+=i.length+td(o)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function ag(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function __(t){return!!t&&"nullValue"in t}function E_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nd(t){return!!t&&"mapValue"in t}function V5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MC])==null?void 0:r.stringValue)===VC}function Al(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return{...t}}function F5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Al(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];nd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ci(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(Al(this.value))}}function FC(t){const e=[];return ci(t.fields,(n,r)=>{const s=new kt([n]);if(nd(r)){const i=FC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ge.min(),ge.min(),ge.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,ge.min(),ge.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ge.min(),ge.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.position=e,this.inclusive=n}}function T_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=va(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function U5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{}class _t extends UC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z5(e,n,r):n==="array-contains"?new H5(e,r):n==="in"?new q5(e,r):n==="not-in"?new K5(e,r):n==="array-contains-any"?new G5(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B5(e,r):new W5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(va(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends UC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Cr(e,n)}matches(e){return $C(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $C(t){return t.op==="and"}function zC(t){return $5(t)&&$C(t)}function $5(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function lg(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(zC(t))return t.filters.map(e=>lg(e)).join(",");{const e=t.filters.map(n=>lg(n)).join(",");return`${t.op}(${e})`}}function BC(t,e){return t instanceof _t?function(r,s){return s instanceof _t&&r.op===s.op&&r.field.isEqual(s.field)&&br(r.value,s.value)}(t,e):t instanceof Cr?function(r,s){return s instanceof Cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&BC(o,s.filters[a]),!0):!1}(t,e):void de(19439)}function WC(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${wa(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(WC).join(" ,")+"}"}(t):"Filter"}class z5 extends _t{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class B5 extends _t{constructor(e,n){super(e,"in",n),this.keys=HC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W5 extends _t{constructor(e,n){super(e,"not-in",n),this.keys=HC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class H5 extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mv(n)&&dc(n.arrayValue,this.value)}}class q5 extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class K5 extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class G5 extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function b_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Q5(t,e,n,r,s,i,o)}function gv(t){const e=ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.Te=n}return e.Te}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function cg(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y5(t,e,n,r,s,i,o,a){return new ef(t,e,n,r,s,i,o,a)}function vv(t){return new ef(t)}function C_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X5(t){return t.collectionGroup!==null}function Rl(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new sh(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new sh(kt.keyField(),r))}return e.Ie}function xr(t){const e=ve(t);return e.Ee||(e.Ee=J5(e,Rl(t))),e.Ee}function J5(t,e){if(t.limitType==="F")return b_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new sh(s.field,i)});const n=t.endAt?new rh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rh(t.startAt.position,t.startAt.inclusive):null;return b_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e,n){return new ef(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tf(t,e){return yv(xr(t),xr(e))&&t.limitType===e.limitType}function qC(t){return`${gv(xr(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>WC(s)).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wa(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function nf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Rl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=T_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Rl(r),s)||r.endAt&&!function(o,a,l){const u=T_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Rl(r),s))}(t,e)}function Z5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KC(t){return(e,n)=>{let r=!1;for(const s of Rl(t)){const i=e6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function e6(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?va(l,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new lt(ce.comparator);function es(){return t6}const GC=new lt(ce.comparator);function pl(...t){let e=GC;for(const n of t)e=e.insert(n.key,n);return e}function QC(t){let e=GC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return Dl()}function YC(){return Dl()}function Dl(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const n6=new lt(ce.comparator),r6=new Tt(ce.comparator);function Ne(...t){let e=r6;for(const n of t)e=e.add(n);return e}const s6=new Tt(Ie);function i6(){return s6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function XC(t){return{integerValue:""+t}}function o6(t,e){return D5(e)?XC(e):wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function a6(t,e,n){return t instanceof ih?function(s,i){const o={fields:{[DC]:{stringValue:RC},[OC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&pv(i)&&(i=Zh(i)),i&&(o.fields[jC]=i),{mapValue:o}}(n,e):t instanceof hc?ZC(t,e):t instanceof fc?eI(t,e):function(s,i){const o=JC(s,i),a=I_(o)+I_(s.Ae);return ag(o)&&ag(s.Ae)?XC(a):wv(s.serializer,a)}(t,e)}function l6(t,e,n){return t instanceof hc?ZC(t,e):t instanceof fc?eI(t,e):n}function JC(t,e){return t instanceof oh?function(r){return ag(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ih extends rf{}class hc extends rf{constructor(e){super(),this.elements=e}}function ZC(t,e){const n=tI(e);for(const r of t.elements)n.some(s=>br(s,r))||n.push(r);return{arrayValue:{values:n}}}class fc extends rf{constructor(e){super(),this.elements=e}}function eI(t,e){let n=tI(e);for(const r of t.elements)n=n.filter(s=>!br(s,r));return{arrayValue:{values:n}}}class oh extends rf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I_(t){return ft(t.integerValue||t.doubleValue)}function tI(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof hc&&s instanceof hc||r instanceof fc&&s instanceof fc?ya(r.elements,s.elements,br):r instanceof oh&&s instanceof oh?br(r.Ae,s.Ae):r instanceof ih&&s instanceof ih}(t.transform,e.transform)}class u6{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sf{}function nI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xv(t.key,Mn.none()):new Dc(t.key,t.data,Mn.none());{const n=t.data,r=ln.empty();let s=new Tt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ui(t.key,r,new En(s.toArray()),Mn.none())}}function d6(t,e,n){t instanceof Dc?function(s,i,o){const a=s.value.clone(),l=P_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(s,i,o){if(!rd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=P_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(rI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Dc?function(i,o,a,l){if(!rd(i.precondition,o))return a;const u=i.value.clone(),h=k_(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(i,o,a,l){if(!rd(i.precondition,o))return a;const u=k_(i.fieldTransforms,l,o),h=o.data;return h.setAll(rI(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return rd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function h6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=JC(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function N_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ya(r,s,(i,o)=>c6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends sf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ui extends sf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,l6(o,a,n[s]))}return r}function k_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,a6(i,o,e))}return r}class xv extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f6 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&d6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=nI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>N_(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>N_(n,r))}}class _v{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return n6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _v(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ae;function y6(t){switch(t){case B.OK:return de(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function sI(t){if(t===void 0)return Zr("GRPC error has no .code"),B.UNKNOWN;switch(t){case mt.OK:return B.OK;case mt.CANCELLED:return B.CANCELLED;case mt.UNKNOWN:return B.UNKNOWN;case mt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case mt.INTERNAL:return B.INTERNAL;case mt.UNAVAILABLE:return B.UNAVAILABLE;case mt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case mt.NOT_FOUND:return B.NOT_FOUND;case mt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case mt.ABORTED:return B.ABORTED;case mt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case mt.DATA_LOSS:return B.DATA_LOSS;default:return de(39323,{code:t})}}(Ae=mt||(mt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Bs([4294967295,4294967295],0);function A_(t){const e=v6().encode(t),n=new wC;return n.update(e),new Uint8Array(n.digest())}function R_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Bs([n,r],0),new Bs([s,i],0)]}class Ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Bs.fromNumber(r)));return s.compare(w6)===1&&(s=new Bs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A_(e),[r,s]=R_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ev(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=A_(e),[r,s]=R_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new of(ge.min(),s,new lt(Ie),es(),Ne())}}class jc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jc(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class iI{constructor(e,n){this.targetId=e,this.Ce=n}}class oI{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class D_{constructor(){this.ve=0,this.Fe=j_(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new jc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=j_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class x6{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.Je=Iu(),this.He=Iu(),this.Ye=new lt(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(cg(i))if(r===0){const o=new ce(i.path);this.et(n,o,Wt.newNoDocument(o,ge.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ti(r).toUint8Array()}catch(l){if(l instanceof AC)return ga("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ev(o,s,i)}catch(l){return ga(l instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&cg(a.target)){const l=new ce(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Wt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ne();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new of(e,n,this.Ye,this.je,r);return this.je=es(),this.Je=Iu(),this.He=Iu(),this.Ye=new lt(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Iu(){return new lt(ce.comparator)}function j_(){return new lt(ce.comparator)}const _6={asc:"ASCENDING",desc:"DESCENDING"},E6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T6={and:"AND",or:"OR"};class S6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function b6(t,e){return ah(t,e.toTimestamp())}function _r(t){return Le(!!t,49232),ge.fromTimestamp(function(n){const r=ei(n);return new Ye(r.seconds,r.nanos)}(t))}function Tv(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(s){return new Qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lI(t){const e=Qe.fromString(t);return Le(fI(e),10190,{key:e.toString()}),e}function fg(t,e){return Tv(t.databaseId,e.path)}function Np(t,e){const n=lI(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(uI(n))}function cI(t,e){return Tv(t.databaseId,e)}function C6(t){const e=lI(t);return e.length===4?Qe.emptyPath():uI(e)}function pg(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uI(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O_(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function I6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string",58123),Dt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:sI(u.code);return new ie(h,u.message||"")}(o);n=new oI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Np(t,r.document.name),i=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):ge.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new sd(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Np(t,r.document),i=r.readTime?_r(r.readTime):ge.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new sd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Np(t,r.document),i=r.removedTargetIds||[];n=new sd([],i,s,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new g6(s,i),a=r.targetId;n=new iI(a,o)}}return n}function N6(t,e){let n;if(e instanceof Dc)n={update:O_(t,e.key,e.value)};else if(e instanceof xv)n={delete:fg(t,e.key)};else if(e instanceof ui)n={update:O_(t,e.key,e.data),updateMask:L6(e.fieldMask)};else{if(!(e instanceof f6))return de(16599,{Vt:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:b6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function P6(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?_r(s.updateTime):_r(i);return o.isEqual(ge.min())&&(o=_r(i)),new u6(o,s.transformResults||[])}(n,e))):[]}function k6(t,e){return{documents:[cI(t,e.path)]}}function A6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,s);const i=function(u){if(u.length!==0)return hI(Cr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:wo(f.field),direction:j6(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function R6(t){let e=C6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=dI(p);return f instanceof Cr&&zC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(E){return new sh(xo(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,Jh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,w=p.values||[];return new rh(w,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,w=p.values||[];return new rh(w,f)}(n.endAt)),Y5(e,s,o,i,a,"F",l,u)}function D6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xo(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xo(n.unaryFilter.field);return _t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xo(n.unaryFilter.field);return _t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xo(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return _t.create(xo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>dI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function j6(t){return _6[t]}function O6(t){return E6[t]}function M6(t){return T6[t]}function wo(t){return{fieldPath:t.canonicalString()}}function xo(t){return kt.fromServerFormat(t.fieldPath)}function hI(t){return t instanceof _t?function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(__(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(__(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:O6(n.op),value:n.value}}}(t):t instanceof Cr?function(n){const r=n.getFilters().map(s=>hI(s));return r.length===1?r[0]:{compositeFilter:{op:M6(n.op),filters:r}}}(t):de(54877,{filter:t})}function L6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.yt=e}}function F6(t){const e=R6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.Cn=new $6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Zs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class $6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(Qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pI=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(pI,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xa(0)}static cr(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="LruGarbageCollector",z6=1048576;function V_([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class B6{constructor(e){this.Ir=e,this.buffer=new Tt(V_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(L_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ma(n)?Z(L_,"Ignoring IndexedDB error during garbage collection: ",n):await Oa(n)}await this.Vr(3e5)})}}class H6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Xh.ce);const r=new B6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(M_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),yo()<=Ce.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function q6(t,e){return new H6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jl(r.mutation,s,En.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=es();const o=Dl(),a=function(){return Dl()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof ui)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),jl(h.mutation,u,h.mutation.getFieldMask(),Ye.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new G6(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let s=new lt((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||En.empty();h=a.applyToLocalView(u,h),r.set(l,h);const p=(s.get(a.batchId)||Ne()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,p=YC();h.forEach(f=>{if(!i.has(f)){const w=nI(n.get(f),r.get(f));w!==null&&p.set(f,w),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ni());let a=lc,l=i;return o.next(u=>U.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ne())).next(h=>({batchId:a,changes:QC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const u=function(p,f){return new ef(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Wt.newInvalidDocument(h)))});let a=pl();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&jl(h.mutation,u,En.empty(),Ye.now()),nf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:F6(s.bundledQuery),readTime:_r(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.overlays=new lt(ce.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ni(),i=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new lt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ni(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ni(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new m6(n,r));let i=this.qr.get(n);i===void 0&&(i=Ne(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.Qr=new Tt(St.$r),this.Ur=new Tt(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ce(new Qe([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new Qe([])),r=new St(n,e),s=new St(n,e+1);let i=Ne();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(St.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new p6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?fv:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Ie);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const o=new St(new ce(i),0);let a=new Tt(Ie);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.ri=e,this.docs=function(){return new lt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=es();const o=n.path,a=new ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||P5(N5(h),r)<=0||(s.has(h.key)||nf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tF(this)}getSize(e){return U.resolve(this.size)}}class tF extends K6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.persistence=e,this.si=new to(n=>gv(n),yv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new Sv,this.targetCount=0,this.ai=xa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new J6,this.referenceDelegate=e(this),this.Pi=new nF(this),this.indexManager=new U6,this.remoteDocumentCache=function(s){return new eF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new V6(n),this.Ii=new Y6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Z6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new rF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class rF extends A5{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Ri=new Sv,this.Vi=null}static mi(e){return new bv(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=ce.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lh{constructor(e,n){this.persistence=e,this.pi=new to(r=>j5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=q6(this,n)}static mi(e,n){return new lh(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=td(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Cv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return NM()?8:R5(Kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new sF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(yo()<=Ce.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(yo()<=Ce.DEBUG&&Z("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(yo()<=Ce.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):U.resolve())}ys(e,n){if(C_(n))return U.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ug(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,ug(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return C_(n)||s.isEqual(ge.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(yo()<=Ce.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vo(n)),this.vs(e,o,n,I5(s,lc)).next(a=>a))})}Ds(e,n){let r=new Tt(KC(e));return n.forEach((s,i)=>{nf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return yo()<=Ce.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(e,n,Zs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LocalStore",oF=3e8;class aF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new lt(Ie),this.xs=new to(i=>gv(i),yv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function lF(t,e,n,r){return new aF(t,e,n,r)}async function gI(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ne();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function cF(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const p=u.batch,f=p.keys();let w=U.resolve();return f.forEach(E=>{w=w.next(()=>h.getEntry(l,E)).next(y=>{const T=u.docVersions.get(E);Le(T!==null,48541),y.version.compareTo(T)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function yI(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function uF(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,p)));let w=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Dt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(p,w),function(y,T,x){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=oF?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,w,h)&&a.push(n.Pi.updateTargetData(i,w))});let l=es(),u=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(dF(i,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ge.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function dF(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=es();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(Iv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function hF(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fF(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new As(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function mg(t,e,n){const r=ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ma(o))throw o;Z(Iv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function F_(t,e,n){const r=ve(t);let s=ge.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const p=ve(l),f=p.xs.get(h);return f!==void 0?U.resolve(p.Ms.get(f)):p.Pi.getTargetData(u,h)}(r,o,xr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ne())).next(a=>(pF(r,Z5(e),a),{documents:a,Qs:i})))}function pF(t,e,n){let r=t.Os.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class U_{constructor(){this.activeTargetIds=i6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mF{constructor(){this.Mo=new U_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="ConnectivityMonitor";class z_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z($_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z($_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function gg(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",yF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=gg(),a=this.zo(e,n.toUriEncodedString());Z(Pp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=eo(u);return this.Jo(e,a,l,r,h).then(p=>(Z(Pp,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ga(Pp,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=yF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class xF extends vF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=gg();return new Promise((a,l)=>{const u=new xC;u.setWithCredentials(!0),u.listenOnce(_C.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ed.NO_ERROR:const p=u.getResponseJson();Z(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case ed.TIMEOUT:Z(Ut,`RPC '${e}' ${o} timed out`),l(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const f=u.getStatus();if(Z(Ut,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(E.status);l(new ie(y,E.message))}else l(new ie(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie(B.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(Ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Ut,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=gg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SC(),a=TC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(Ut,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);this.I_(p);let f=!1,w=!1;const E=new wF({Yo:T=>{w?Z(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(Z(Ut,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),Z(Ut,`RPC '${e}' stream ${s} sending:`,T),p.send(T))},Zo:()=>p.close()}),y=(T,x,v)=>{T.listen(x,S=>{try{v(S)}catch(k){setTimeout(()=>{throw k},0)}})};return y(p,fl.EventType.OPEN,()=>{w||(Z(Ut,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),y(p,fl.EventType.CLOSE,()=>{w||(w=!0,Z(Ut,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(p))}),y(p,fl.EventType.ERROR,T=>{w||(w=!0,ga(Ut,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),y(p,fl.EventType.MESSAGE,T=>{var x;if(!w){const v=T.data[0];Le(!!v,16349);const S=v,k=(S==null?void 0:S.error)||((x=S[0])==null?void 0:x.error);if(k){Z(Ut,`RPC '${e}' stream ${s} received error:`,k);const j=k.status;let O=function(I){const P=mt[I];if(P!==void 0)return sI(P)}(j),C=k.message;O===void 0&&(O=B.INTERNAL,C="Unknown error status: "+j+" with message "+k.message),w=!0,E.a_(new ie(O,C)),p.close()}else Z(Ut,`RPC '${e}' stream ${s} received:`,v),E.u_(v)}}),y(a,EC.STAT_EVENT,T=>{T.stat===sg.PROXY?Z(Ut,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===sg.NOPROXY&&Z(Ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return new S6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="PersistentStream";class wI{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ie(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(B_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(B_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _F extends wI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=I6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?_r(o.readTime):ge.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=cg(l)?{documents:k6(i,l)}:{query:A6(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aI(i,o.resumeToken);const u=dg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=ah(i,o.snapshotVersion.toTimestamp());const u=dg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=D6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.q_(n)}}class EF extends wI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P6(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{}class SF extends TF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,hg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,hg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="RemoteStore";class CF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{no(this)&&(Z(Qi,"Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.Ea.add(4),await Oc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await lf(u)}(this))})}),this.Ra=new bF(r,s)}}async function lf(t){if(no(t))for(const e of t.da)await e(!0)}async function Oc(t){for(const e of t.da)await e(!1)}function xI(t,e){const n=ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Av(n)?kv(n):La(n).O_()&&Pv(n,e))}function Nv(t,e){const n=ve(t),r=La(n);n.Ia.delete(e),r.O_()&&_I(n,e),n.Ia.size===0&&(r.O_()?r.L_():no(n)&&n.Ra.set("Unknown"))}function Pv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).Y_(e)}function _I(t,e){t.Va.Ue(e),La(t).Z_(e)}function kv(t){t.Va=new x6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),La(t).start(),t.Ra.ua()}function Av(t){return no(t)&&!La(t).x_()&&t.Ia.size>0}function no(t){return ve(t).Ea.size===0}function EI(t){t.Va=void 0}async function IF(t){t.Ra.set("Online")}async function NF(t){t.Ia.forEach((e,n)=>{Pv(t,e)})}async function PF(t,e){EI(t),Av(t)?(t.Ra.ha(e),kv(t)):t.Ra.set("Unknown")}async function kF(t,e,n){if(t.Ra.set("Online"),e instanceof oI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(Qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ch(t,r)}else if(e instanceof sd?t.Va.Ze(e):e instanceof iI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ge.min()))try{const r=await yI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),_I(i,l);const p=new As(h.target,l,u,h.sequenceNumber);Pv(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Qi,"Failed to raise snapshot:",r),await ch(t,r)}}async function ch(t,e,n){if(!Ma(e))throw e;t.Ea.add(1),await Oc(t),t.Ra.set("Offline"),n||(n=()=>yI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Qi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lf(t)})}function TI(t,e){return e().catch(n=>ch(t,n,e))}async function cf(t){const e=ve(t),n=ri(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fv;for(;AF(e);)try{const s=await hF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,RF(e,s)}catch(s){await ch(e,s)}SI(e)&&bI(e)}function AF(t){return no(t)&&t.Ta.length<10}function RF(t,e){t.Ta.push(e);const n=ri(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SI(t){return no(t)&&!ri(t).x_()&&t.Ta.length>0}function bI(t){ri(t).start()}async function DF(t){ri(t).ra()}async function jF(t){const e=ri(t);for(const n of t.Ta)e.ea(n.mutations)}async function OF(t,e,n){const r=t.Ta.shift(),s=_v.from(r,e,n);await TI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cf(t)}async function MF(t,e){e&&ri(t).X_&&await async function(r,s){if(function(o){return y6(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();ri(r).B_(),await TI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cf(r)}}(t,e),SI(t)&&bI(t)}async function W_(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),Z(Qi,"RemoteStore received new credentials");const r=no(n);n.Ea.add(3),await Oc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lf(n)}async function LF(t,e){const n=ve(t);e?(n.Ea.delete(2),await lf(n)):e||(n.Ea.add(2),await Oc(n),n.Ra.set("Unknown"))}function La(t){return t.ma||(t.ma=function(n,r,s){const i=ve(n);return i.sa(),new _F(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:IF.bind(null,t),t_:NF.bind(null,t),r_:PF.bind(null,t),H_:kF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Av(t)?kv(t):t.Ra.set("Unknown")):(await t.ma.stop(),EI(t))})),t.ma}function ri(t){return t.fa||(t.fa=function(n,r,s){const i=ve(n);return i.sa(),new EF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:DF.bind(null,t),r_:MF.bind(null,t),ta:jF.bind(null,t),na:OF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await cf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Qi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Rv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Ma(t))return new ie(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.ga=new lt(ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class _a{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _a(e,n,qo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class FF{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=q_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ie(B.ABORTED,"Firestore shutting down"))}}function q_(){return new to(t=>qC(t),tf)}async function CI(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new VF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Dv(o,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&jv(n)}async function II(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UF(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&jv(n)}function $F(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function jv(t){t.Ca.forEach(e=>{e.next()})}var yg,K_;(K_=yg||(yg={})).Ma="default",K_.Cache="cache";class NI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.key=e}}class kI{constructor(e){this.key=e}}class zF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=KC(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new H_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),w=nf(this.query,p)?p:null,E=!!f&&this.mutatedKeys.has(f.key),y=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;f&&w?f.data.isEqual(w.data)?E!==y&&(r.track({type:3,doc:w}),T=!0):this.su(f,w)||(r.track({type:2,doc:w}),T=!0,(l&&this.eu(w,l)>0||u&&this.eu(w,u)<0)&&(a=!0)):!f&&w?(r.track({type:0,doc:w}),T=!0):f&&!w&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(w?(o=o.add(w),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,p)=>function(w,E){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:T})}};return y(w)-y(E)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new _a(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new kI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new PI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ov="SyncEngine";class BF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WF{constructor(e){this.key=e,this.hu=!1}}class HF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new to(a=>qC(a),tf),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ce.comparator),this.Au=new Map,this.Ru=new Sv,this.Vu={},this.mu=new Map,this.fu=xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qF(t,e,n=!0){const r=MI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await AI(r,e,n,!0),s}async function KF(t,e){const n=MI(t);await AI(n,e,!0,!1)}async function AI(t,e,n,r){const s=await fF(t.localStore,xr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await GF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&xI(t.remoteStore,s),a}async function GF(t,e,n,r,s){t.pu=(p,f,w)=>async function(y,T,x,v){let S=T.view.ru(x);S.Cs&&(S=await F_(y.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,S)));const k=v&&v.targetChanges.get(T.targetId),j=v&&v.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(S,y.isPrimaryClient,k,j);return Q_(y,T.targetId,O.au),O.snapshot}(t,p,f,w);const i=await F_(t.localStore,e,!0),o=new zF(e,i.Qs),a=o.ru(i.documents),l=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Q_(t,n,u.au);const h=new BF(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function QF(t,e,n){const r=ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!tf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Nv(r.remoteStore,s.targetId),vg(r,s.targetId)}).catch(Oa)):(vg(r,s.targetId),await mg(r.localStore,s.targetId,!0))}async function YF(t,e){const n=ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nv(n.remoteStore,r.targetId))}async function XF(t,e,n){const r=sU(t);try{const s=await function(o,a){const l=ve(o),u=Ye.now(),h=a.reduce((w,E)=>w.add(E.key),Ne());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=es(),y=Ne();return l.Ns.getEntries(w,h).next(T=>{E=T,E.forEach((x,v)=>{v.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,E)).next(T=>{p=T;const x=[];for(const v of a){const S=h6(v,p.get(v.key).overlayedDocument);S!=null&&x.push(new ui(v.key,S,FC(S.value.mapValue),Mn.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,x,a)}).next(T=>{f=T;const x=T.applyToLocalDocumentSet(p,y);return l.documentOverlayCache.saveOverlays(w,T.batchId,x)})}).then(()=>({batchId:f.batchId,changes:QC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new lt(Ie)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Mc(r,s.changes),await cf(r.remoteStore)}catch(s){const i=Dv(s,"Failed to persist write");n.reject(i)}}async function RI(t,e){const n=ve(t);try{const r=await uF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await Mc(n,r,e)}catch(r){await Oa(r)}}function G_(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(const f of p.Sa)f.va(a)&&(u=!0)}),u&&jv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JF(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new lt(ce.comparator);o=o.insert(i,Wt.newNoDocument(i,ge.min()));const a=Ne().add(i),l=new of(ge.min(),new Map,new lt(Ie),o,a);await RI(r,l),r.du=r.du.remove(i),r.Au.delete(e),Mv(r)}else await mg(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(Oa)}async function ZF(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await cF(n.localStore,e);jI(n,r,null),DI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,s)}catch(s){await Oa(s)}}async function eU(t,e,n){const r=ve(t);try{const s=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Le(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);jI(r,e,n),DI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,s)}catch(s){await Oa(s)}}function DI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jI(t,e,n){const r=ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||OI(t,r)})}function OI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Nv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Mv(t))}function Q_(t,e,n){for(const r of n)r instanceof PI?(t.Ru.addReference(r.key,e),tU(t,r)):r instanceof kI?(Z(Ov,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||OI(t,r.key)):de(19791,{wu:r})}function tU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Ov,"New document in limbo: "+n),t.Eu.add(r),Mv(t))}function Mv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ce(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new WF(n)),t.du=t.du.insert(n,r),xI(t.remoteStore,new As(xr(vv(n.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function Mc(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=Cv.As(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const h=ve(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(u,f=>U.forEach(f.Es,w=>h.persistence.referenceDelegate.addReference(p,f.targetId,w)).next(()=>U.forEach(f.ds,w=>h.persistence.referenceDelegate.removeReference(p,f.targetId,w)))))}catch(p){if(!Ma(p))throw p;Z(Iv,"Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const w=h.Ms.get(f),E=w.snapshotVersion,y=w.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(f,y)}}}(r.localStore,i))}async function nU(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){Z(Ov,"User change. New user:",e.toKey());const r=await gI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ie(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r.Ls)}}function rU(t,e){const n=ve(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function MI(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JF.bind(null,e),e.Pu.H_=UF.bind(null,e.eventManager),e.Pu.yu=$F.bind(null,e.eventManager),e}function sU(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eU.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lF(this.persistence,new iF,e.initialUser,this.serializer)}Cu(e){return new mI(bv.mi,this.serializer)}Du(e){return new mF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class iU extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new W6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new mI(r=>lh.mi(r,n),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nU.bind(null,this.syncEngine),await LF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FF}()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=function(i){return new xF(i)}(e.databaseInfo);return function(i,o,a,l){return new SF(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new CF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return z_.v()?new z_:new gF}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const p=new HF(s,i,o,a,l,u);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ve(s);Z(Qi,"RemoteStore shutting down."),i.Ea.add(5),await Oc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class oU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ap(t,e){t.asyncQueue.verifyOperationInProgress(),Z(si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aU(t);Z(si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>W_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>W_(e.remoteStore,s)),t._onlineComponents=e}async function aU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(si,"Using user provided OfflineComponentProvider");try{await Ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await Ap(t,new uh)}}else Z(si,"Using default OfflineComponentProvider"),await Ap(t,new iU(void 0));return t._offlineComponents}async function VI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(si,"Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(Z(si,"Using default OnlineComponentProvider"),await Y_(t,new wg))),t._onlineComponents}function lU(t){return VI(t).then(e=>e.syncEngine)}async function FI(t){const e=await VI(t),n=e.eventManager;return n.onListen=qF.bind(null,e.syncEngine),n.onUnlisten=QF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YF.bind(null,e.syncEngine),n}function cU(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new LI({next:f=>{h.Nu(),o.enqueueAndForget(()=>II(i,p));const w=f.docs.has(a);!w&&f.fromCache?u.reject(new ie(B.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&f.fromCache&&l&&l.source==="server"?u.reject(new ie(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new NI(vv(a.path),h,{includeMetadataChanges:!0,qa:!0});return CI(i,p)}(await FI(t),t.asyncQueue,e,n,r)),r.promise}function uU(t,e,n={}){const r=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new LI({next:f=>{h.Nu(),o.enqueueAndForget(()=>II(i,p)),f.fromCache&&l.source==="server"?u.reject(new ie(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new NI(a,h,{includeMetadataChanges:!0,qa:!0});return CI(i,p)}(await FI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firestore.googleapis.com",J_=!0;class Z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$I,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z6)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g5;switch(r.type){case"firstParty":return new x5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),X_.delete(n),r.terminate())}(this),Promise.resolve()}}function dU(t,e,n,r={}){var u;t=tr(t,uf);const s=eo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Qy(`https://${a}`),Yy("Firestore",!0)),i.host!==$I&&i.host!==a&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Wi(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=zt.MOCK_USER;else{h=wM(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zt(f)}t._authCredentials=new y5(new CC(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new df(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rc(n,vt._jsonSchema))return new vt(e,r||null,new ce(Qe.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:yt("string",vt._jsonSchemaVersion),referencePath:yt("string")};class Ws extends df{constructor(e,n,r){super(e,n,vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ce(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function hf(t,e,...n){if(t=at(t),IC("collection","path",e),t instanceof uf){const r=Qe.fromString(e,...n);return f_(r),new Ws(t,null,r)}{if(!(t instanceof vt||t instanceof Ws))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return f_(r),new Ws(t.firestore,null,r)}}function Lc(t,e,...n){if(t=at(t),arguments.length===1&&(e=dv.newId()),IC("doc","path",e),t instanceof uf){const r=Qe.fromString(e,...n);return h_(r),new vt(t,null,new ce(r))}{if(!(t instanceof vt||t instanceof Ws))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return h_(r),new vt(t.firestore,t instanceof Ws?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="AsyncQueue";class t1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vI(this,"async_queue_retry"),this._c=()=>{const r=kp();r&&Z(e1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ma(e))throw e;Z(e1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",n1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Rv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:n1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ro extends uf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new t1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t1(e),this._firestoreClient=void 0,await e}}}function hU(t,e){const n=typeof t=="object"?t:Zy(),r=typeof t=="string"?t:th,s=Kh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kb("firestore");i&&dU(s,...i)}return s}function Lv(t){if(t._terminated)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fU(t),t._firestoreClient}function fU(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,h){return new L5(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,UI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new oU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Dt.fromBase64String(e))}catch(n){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:yt("string",Dn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:yt("string",Er._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Tr(e.vectorValues);throw new ie(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:yt("string",Tr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/^__.*__$/;class mU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class zI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class Fv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BI(this.Ac)&&pU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}Cc(e,n,r,s=!1){return new Fv({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uv(t){const e=t._freezeSettings(),n=af(t._databaseId);return new gU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);$v("Data must be an object, but it was:",o,r);const a=HI(r,o);let l,u;if(i.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=xg(e,p,n);if(!o.contains(f))throw new ie(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KI(h,f)||h.push(f)}l=new En(h),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new mU(new ln(a),l,u)}class pf extends Vv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}function yU(t,e,n,r){const s=t.Cc(1,e,n);$v("Data must be an object, but it was:",s,r);const i=[],o=ln.empty();ci(r,(l,u)=>{const h=zv(e,l,n);u=at(u);const p=s.yc(h);if(u instanceof pf)i.push(h);else{const f=mf(u,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new En(i);return new zI(o,a,s.fieldTransforms)}function vU(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[xg(e,r,n)],l=[s];if(i.length%2!=0)throw new ie(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(xg(e,i[f])),l.push(i[f+1]);const u=[],h=ln.empty();for(let f=a.length-1;f>=0;--f)if(!KI(u,a[f])){const w=a[f];let E=l[f];E=at(E);const y=o.yc(w);if(E instanceof pf)u.push(w);else{const T=mf(E,y);T!=null&&(u.push(w),h.set(w,T))}}const p=new En(u);return new zI(h,p,o.fieldTransforms)}function mf(t,e){if(qI(t=at(t)))return $v("Unsupported field value:",e,t),HI(t,e);if(t instanceof Vv)return function(r,s){if(!BI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=mf(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:ah(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(s.serializer,i)}}if(r instanceof Er)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:aI(s.serializer,r._byteString)};if(r instanceof vt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tr)return function(o,a){return{mapValue:{fields:{[MC]:{stringValue:VC},[nh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return wv(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${hv(r)}`)}(t,e)}function HI(t,e){const n={};return kC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(t,(r,s)=>{const i=mf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function qI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Er||t instanceof Dn||t instanceof vt||t instanceof Vv||t instanceof Tr)}function $v(t,e,n){if(!qI(n)||!NC(n)){const r=hv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xg(t,e,n){if((e=at(e))instanceof ff)return e._internalPath;if(typeof e=="string")return zv(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const wU=new RegExp("[~\\*/\\[\\]]");function zv(t,e,n){if(e.search(wU)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ie(B.INVALID_ARGUMENT,a+t+l)}function KI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xU extends GI{data(){return super.data()}}function QI(t,e){return typeof e=="string"?zv(t,e):e instanceof ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EU{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ci(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[nh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ft(o.doubleValue));return new Tr(n)}convertGeoPoint(e){return new Er(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=ei(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Le(fI(r),9688,{name:e});const s=new uc(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||Zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mi extends GI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mi._jsonSchema={type:yt("string",Mi._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class id extends Mi{data(e={}){return super.data(e)}}class Ko{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new id(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new id(s._firestore,s._userDataWriter,a.doc.key,a.doc,new gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new id(s._firestore,s._userDataWriter,a.doc.key,a.doc,new gl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:TU(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){t=tr(t,vt);const e=tr(t.firestore,ro);return cU(Lv(e),t._key).then(n=>CU(e,t,n))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:yt("string",Ko._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class XI extends EU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function JI(t){t=tr(t,df);const e=tr(t.firestore,ro),n=Lv(e),r=new XI(e);return _U(t._query),uU(n,t._query).then(s=>new Ko(e,r,t,s))}function r1(t,e,n){t=tr(t,vt);const r=tr(t.firestore,ro),s=YI(t.converter,e,n);return gf(r,[WI(Uv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Mn.none())])}function ZI(t,e,n,...r){t=tr(t,vt);const s=tr(t.firestore,ro),i=Uv(s);let o;return o=typeof(e=at(e))=="string"||e instanceof ff?vU(i,"updateDoc",t._key,e,n,r):yU(i,"updateDoc",t._key,e),gf(s,[o.toMutation(t._key,Mn.exists(!0))])}function bU(t){return gf(tr(t.firestore,ro),[new xv(t._key,Mn.none())])}function eN(t,e){const n=tr(t.firestore,ro),r=Lc(t),s=YI(t.converter,e);return gf(n,[WI(Uv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function gf(t,e){return function(r,s){const i=new Wr;return r.asyncQueue.enqueueAndForget(async()=>XF(await lU(r),s,i)),i.promise}(Lv(t),e)}function CU(t,e,n){const r=n.docs.get(e._key),s=new XI(t);return new Mi(t,s,e._key,r,new gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ja=s})(Ra),Hi(new Js("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ro(new v5(r.getProvider("auth-internal")),new _5(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),vr(l_,c_,e),vr(l_,c_,"esm2020")})();const IU={apiKey:"AIzaSyDEAuBmiq3Wz77rMBL_FTpNxq3fBZvuw8I",authDomain:"manifestor-df56e.firebaseapp.com",projectId:"manifestor-df56e",storageBucket:"manifestor-df56e.firebasestorage.app",messagingSenderId:"60306240167",appId:":160306240167:web:2060462007052e06721982"},tN=Ob(IU),cr=p5(tN),di=hU(tN);async function Pi(t){const e=hf(di,"users",t,"dreams");return(await JI(e)).docs.map(r=>({id:r.id,...r.data()}))}async function NU(t,e){const n=hf(di,"users",t,"dreams");return(await eN(n,e)).id}async function s1(t,e,n){const r=Lc(di,"users",t,"dreams",e);await ZI(r,n)}async function PU(t,e){const n=Lc(di,"users",t,"dreams",e);await bU(n)}async function hh(t){const e=hf(di,"users",t,"reflections");return(await JI(e)).docs.map(r=>({id:r.id,...r.data()}))}async function kU(t,e){const n=hf(di,"users",t,"reflections");return(await eN(n,e)).id}const so=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0);return g.useEffect(()=>{const h=t3(cr,async p=>{if(p){e({uid:p.uid,email:p.email,displayName:p.displayName,photoURL:p.photoURL,emailVerified:p.emailVerified});const f=Lc(di,"users",p.uid);(await SU(f)).exists()?await r1(f,{emailVerified:p.emailVerified},{merge:!0}):await r1(f,{displayName:p.displayName,email:p.email,photoURL:p.photoURL,emailVerified:p.emailVerified,createdAt:new Date().toISOString()},{merge:!0})}else e(null);r(!1)});return()=>h()},[]),{user:t,loading:n,signInWithGoogle:async()=>{const h=new Lr;try{await T3(cr,h)}catch(p){throw console.error("Google sign-in error:",p),p}},signUpWithEmail:async(h,p,f)=>{try{const w=await YV(cr,h,p);return w.user&&(await aC(w.user,{displayName:f}),await Xx(w.user,{url:window.location.origin+"/intro",handleCodeInApp:!1})),w.user}catch(w){throw console.error("Email sign-up error:",w),w}},signInWithEmail:async(h,p)=>{try{return(await XV(cr,h,p)).user}catch(f){throw console.error("Email sign-in error:",f),f}},sendVerificationEmail:async()=>{if(!cr.currentUser)throw new Error("No user is currently signed in");try{await Xx(cr.currentUser,{url:window.location.origin+"/intro",handleCodeInApp:!1})}catch(h){throw console.error("Send verification email error:",h),h}},resetPassword:async h=>{try{await QV(cr,h)}catch(p){throw console.error("Password reset error:",p),p}},signOut:async()=>{try{await n3(cr),e(null),console.log("User signed out")}catch(h){console.error("Error signing out:",h)}}}},i1=[{text:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt"},{text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill"},{text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"The secret of getting ahead is getting started.",author:"Mark Twain"}],nN=()=>i1[Math.floor(Math.random()*i1.length)];function AU(){const{user:t}=so(),[e,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState("");g.useEffect(()=>{t&&(s(!0),Pi(t.uid).then(n).catch(()=>o("Failed to load dreams.")).finally(()=>s(!1)))},[t]);const a=e.slice(0,3),[l,u]=g.useState([]);g.useEffect(()=>{t&&hh(t.uid).then(u).catch(()=>{})},[t]);const p=(()=>{if(!l.length)return 0;const y=[...l].sort((v,S)=>new Date(S.date)-new Date(v.date));let T=0,x=new Date;for(let v=0;v<y.length;v++){const S=new Date(y[v].date);if(S.getFullYear()===x.getFullYear()&&S.getMonth()===x.getMonth()&&S.getDate()===x.getDate())T++,x.setDate(x.getDate()-1);else break}return T})(),f=nN(),w=e.length?Math.round(e.reduce((y,T)=>{if(T.checklist&&T.checklist.length>0){const x=T.checklist.filter(v=>v.done).length;return y+x/T.checklist.length*100}return y},0)/e.length):0,E=e.filter(y=>{const T=mp(y),x=y.targetDate?Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null;return T<100&&x!==null&&x>=0}).sort((y,T)=>new Date(y.targetDate).getTime()-new Date(T.targetDate).getTime())[0];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Welcome back! Here's your progress overview."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Wd,{streak:p,size:"lg"}),d.jsx(go,{to:"/reflection",children:d.jsxs(me,{className:"gap-2",children:[d.jsx(Zl,{className:"w-4 h-4"}),"Today's Reflection"]})})]})]}),E&&d.jsxs("section",{className:"manifestor-card p-6 bg-primary/5 border-primary/20",children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Focus On Your Next Big Goal"}),d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:d.jsx(Gu,{className:"w-8 h-8 text-primary"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:E.title}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[E.category," • ",E.targetDate?`${Math.ceil((new Date(E.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))} days left`:""]}),d.jsx(Nl,{progress:mp(E),showPercentage:!0})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"manifestor-card p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Dreams"}),d.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),d.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:d.jsx(Gu,{className:"w-6 h-6 text-primary"})})]})}),d.jsx("div",{className:"manifestor-card p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Progress"}),d.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[w,"%"]})]}),d.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:d.jsx(Uo,{className:"w-6 h-6 text-accent"})})]})}),d.jsx("div",{className:"manifestor-card p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"}),d.jsx("p",{className:"text-2xl font-bold text-foreground",children:"5 days"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"active"})]}),d.jsx(Wd,{streak:p,size:"md"})]})})]}),d.jsxs("section",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Active Dreams"}),d.jsx(go,{to:"/manifest",children:d.jsx(me,{variant:"outline",size:"sm",children:"View All"})})]}),r?d.jsx("div",{className:"manifestor-card p-12 text-center",children:"Loading dreams..."}):i?d.jsx("div",{className:"manifestor-card p-12 text-center text-red-500",children:i}):d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:a.map(y=>d.jsx(Qm,{dream:{...y,progress:mp(y)},onClick:()=>{console.log("Navigate to dream:",y.id)}},y.id))})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Daily Inspiration"}),d.jsx(bb,{quote:f.text,author:f.author})]}),d.jsxs("section",{className:"manifestor-card p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(go,{to:"/manifest",children:d.jsxs(me,{variant:"outline",className:"w-full justify-start gap-3 h-auto py-4",children:[d.jsx(Zl,{className:"w-5 h-5"}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium",children:"New Dream"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Set a new goal"})]})]})}),d.jsx(go,{to:"/reflection",children:d.jsxs(me,{variant:"outline",className:"w-full justify-start gap-3 h-auto py-4",children:[d.jsx(Uo,{className:"w-5 h-5"}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium",children:"Daily Log"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Reflect on today"})]})]})}),d.jsx(go,{to:"/insights",children:d.jsxs(me,{variant:"outline",className:"w-full justify-start gap-3 h-auto py-4",children:[d.jsx(Gu,{className:"w-5 h-5"}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium",children:"Insights"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"View progress"})]})]})}),d.jsxs(me,{variant:"outline",className:"w-full justify-start gap-3 h-auto py-4",disabled:!0,children:[d.jsx(Uo,{className:"w-5 h-5"}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium",children:"Weekly Review"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Coming soon"})]})]})]})]})]})}const wt=g.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));wt.displayName="Input";function RU({onClick:t,className:e=""}){return d.jsx("button",{onClick:t,className:`manifestor-floating-button ${e}`,"aria-label":"Add new dream",children:d.jsx(Zl,{className:"w-6 h-6"})})}function DU(){const[t,e]=g.useState(""),[n,r]=g.useState("all"),[s,i]=g.useState(!1),{user:o}=so(),[a,l]=g.useState([]),[u,h]=g.useState(!0),[p,f]=g.useState(""),[w,E]=g.useState(""),[y,T]=g.useState(""),[x,v]=g.useState("short-term"),[S,k]=g.useState(""),[j,O]=g.useState(""),[C,b]=g.useState([{text:"",done:!1}]),[I,P]=g.useState(!1),[R,D]=g.useState(""),A=async(F,ae)=>{if(o){ne(!0),je("");try{const Oe=F.checklist.map((Gt,io)=>io===ae?{...Gt,done:!Gt.done}:Gt);await s1(o.uid,F.id,{checklist:Oe});const $e=await Pi(o.uid);l($e),be($e.find(Gt=>Gt.id===F.id))}catch{je("Failed to update checklist.")}finally{ne(!1)}}},W=()=>{E(""),T(""),v("short-term"),k(""),O(""),b([{text:"",done:!1}]),D("")},re=async F=>{if(F.preventDefault(),!!o){if(!gn(w)){D("Title is required.");return}if(C.length===0||C.some(ae=>!gn(ae.text))){D("Please add at least one checklist item and fill all steps.");return}if(!j){D("Target date is required.");return}P(!0),D("");try{const ae={title:gn(w),description:gn(y),type:x,category:gn(S),checklist:C.map($e=>({...$e,text:gn($e.text)})),targetDate:j,createdAt:new Date().toISOString()};await NU(o.uid,ae);const Oe=await Pi(o.uid);l(Oe),i(!1),W()}catch{D("Failed to add dream.")}finally{P(!1)}}},G=(F,ae)=>{b(Oe=>Oe.map(($e,Gt)=>Gt===F?{...$e,text:ae}:$e))},se=F=>{b(ae=>ae.length===1?ae:ae.filter((Oe,$e)=>$e!==F))},L=()=>{b(F=>[...F,{text:"",done:!1}])};g.useEffect(()=>{o&&(h(!0),Pi(o.uid).then(l).catch(()=>f("Failed to load dreams.")).finally(()=>h(!1)))},[o]);const z=F=>{if(!F.checklist||F.checklist.length===0)return 0;const ae=F.checklist.filter(Oe=>Oe.done).length;return Math.round(ae/F.checklist.length*100)},X=a.filter(F=>z(F)<100),q=a.filter(F=>z(F)===100),J=(n==="completed"?q:X).filter(F=>{var Oe;const ae=F.title.toLowerCase().includes(t.toLowerCase())||(((Oe=F.category)==null?void 0:Oe.toLowerCase().includes(t.toLowerCase()))??!1);return n==="completed"||n==="all"?ae:n==="short-term"||n==="long-term"?ae&&F.type===n:!1}),ee=[...new Set(a.map(F=>F.category).filter(Boolean))],[oe,be]=g.useState(null),[we,ne]=g.useState(!1),[_e,je]=g.useState(""),[ye,fe]=g.useState(!1),[K,ue]=g.useState({title:"",description:"",type:"short-term",category:"",targetDate:"",checklist:[]}),[tt,nt]=g.useState(""),[ke,Nn]=g.useState(!1),[pi,He]=g.useState(!1),Pn=F=>{ue({title:F.title,description:F.description||"",type:F.type,category:F.category||"",targetDate:F.targetDate||"",checklist:F.checklist?F.checklist.map(ae=>({...ae})):[]}),fe(!0),nt("")},nr=(F,ae)=>ue(Oe=>({...Oe,[F]:ae})),Fa=(F,ae)=>ue(Oe=>({...Oe,checklist:Oe.checklist.map(($e,Gt)=>Gt===F?{...$e,text:ae}:$e)})),rr=F=>ue(ae=>({...ae,checklist:ae.checklist.map((Oe,$e)=>$e===F?{...Oe,done:!Oe.done}:Oe)})),mi=F=>ue(ae=>({...ae,checklist:ae.checklist.length===1?ae.checklist:ae.checklist.filter((Oe,$e)=>$e!==F)})),gi=()=>ue(F=>({...F,checklist:[...F.checklist,{text:"",done:!1}]})),ct=async()=>{if(!(!o||!oe)){if(!gn(K.title)){nt("Title is required.");return}if(K.checklist.length===0||K.checklist.some(F=>!gn(F.text))){nt("Checklist required.");return}if(!K.targetDate){nt("Target date is required.");return}nt("");try{await s1(o.uid,oe.id,{title:gn(K.title),description:gn(K.description),type:K.type,category:gn(K.category),targetDate:K.targetDate,checklist:K.checklist.map(ae=>({...ae,text:gn(ae.text)}))});const F=await Pi(o.uid);l(F),be(F.find(ae=>ae.id===oe.id)),fe(!1)}catch{nt("Failed to update dream.")}}},Ze=async()=>{if(!(!o||!oe)){Nn(!0);try{await PU(o.uid,oe.id),l(a.filter(F=>F.id!==oe.id)),be(null),He(!1)}catch{nt("Failed to delete dream.")}finally{Nn(!1)}}};function sr(F){if(!F)return null;const ae=new Date,Oe=new Date(F);return Math.ceil((Oe.getTime()-ae.getTime())/(1e3*60*60*24))}return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dream Log"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage all your dreams and goals."})]}),d.jsxs(me,{onClick:()=>i(!0),className:"gap-2",children:[d.jsx(Zl,{className:"w-4 h-4"}),"New Dream"]})]}),d.jsx("div",{className:"manifestor-card p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(nx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(wt,{placeholder:"Search dreams...",value:t,onChange:F=>e(F.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(me,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>r("all"),children:"Active"}),d.jsx(me,{variant:n==="completed"?"default":"outline",size:"sm",onClick:()=>r("completed"),children:"Completed"}),d.jsx(me,{variant:n==="short-term"?"default":"outline",size:"sm",onClick:()=>r("short-term"),children:"Short Term"}),d.jsx(me,{variant:n==="long-term"?"default":"outline",size:"sm",onClick:()=>r("long-term"),children:"Long Term"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"manifestor-card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:a.length}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Dreams"})]}),d.jsxs("div",{className:"manifestor-card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:a.filter(F=>F.type==="short-term").length}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Short Term"})]}),d.jsxs("div",{className:"manifestor-card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:a.filter(F=>F.type==="long-term").length}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Long Term"})]}),d.jsxs("div",{className:"manifestor-card p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:ee.length}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Categories"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map(F=>d.jsxs("div",{className:"px-3 py-1 bg-muted rounded-full text-sm text-muted-foreground flex items-center gap-1",children:[d.jsx(ES,{className:"w-3 h-3"}),F,d.jsxs("span",{className:"ml-1 text-xs",children:["(",a.filter(ae=>ae.category===F).length,")"]})]},F))})]}),d.jsxs("section",{children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["Active Dreams (",X.length,")"]})}),u?d.jsx("div",{className:"manifestor-card p-12 text-center",children:"Loading dreams..."}):p?d.jsx("div",{className:"manifestor-card p-12 text-center text-red-500",children:p}):J.length===0?d.jsxs("div",{className:"manifestor-card p-12 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-muted rounded-full mx-auto mb-4 flex items-center justify-center",children:d.jsx(nx,{className:"w-8 h-8 text-muted-foreground"})}),d.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No dreams found"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:t?"Try adjusting your search terms.":"Start by creating your first dream!"}),d.jsxs(me,{onClick:()=>i(!0),children:[d.jsx(Zl,{className:"w-4 h-4 mr-2"}),"Create New Dream"]})]}):d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:X.map(F=>d.jsx(Qm,{dream:{...F,progress:z(F),daysLeft:sr(F.targetDate)},onClick:()=>be(F)},F.id))})]}),q.length>0&&d.jsxs("section",{children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("h2",{className:"text-lg font-semibold text-muted-foreground",children:["Completed Dreams (",q.length,")"]})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 opacity-60",children:q.map(F=>d.jsx(Qm,{dream:{...F,progress:z(F),daysLeft:null},onClick:()=>be(F)},F.id))})]}),d.jsx(RU,{onClick:()=>i(!0)}),s&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"manifestor-card max-w-md w-full p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Dream"}),d.jsxs("form",{onSubmit:re,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Title ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(wt,{value:w,onChange:F=>E(F.target.value),required:!0,disabled:I})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),d.jsx(wt,{value:y,onChange:F=>T(F.target.value),disabled:I})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Target Date ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(wt,{type:"date",value:j,onChange:F=>O(F.target.value),required:!0,disabled:I})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),d.jsxs("select",{className:"w-full bg-background border border-border rounded px-2 py-1",value:x,onChange:F=>v(F.target.value),disabled:I,children:[d.jsx("option",{value:"short-term",children:"Short Term"}),d.jsx("option",{value:"long-term",children:"Long Term"})]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),d.jsx(wt,{value:S,onChange:F=>k(F.target.value),disabled:I})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Checklist ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"space-y-2",children:[C.map((F,ae)=>d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx(wt,{value:F.text,onChange:Oe=>G(ae,Oe.target.value),placeholder:`Step ${ae+1}`,disabled:I,className:"flex-1"}),d.jsx(me,{type:"button",variant:"outline",size:"icon",onClick:()=>se(ae),disabled:I||C.length===1,children:"×"})]},ae)),d.jsx(me,{type:"button",variant:"outline",size:"sm",onClick:L,disabled:I,children:"+ Add Step"})]})]}),R&&d.jsx("div",{className:"text-red-500 text-sm",children:R}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx(me,{className:"flex-1",type:"submit",disabled:I,children:I?"Creating...":"Create Dream"}),d.jsx(me,{variant:"outline",type:"button",onClick:()=>{i(!1),W()},disabled:I,children:"Cancel"})]})]})]})}),oe&&d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"manifestor-card max-w-lg w-full p-6 relative",children:[d.jsx("button",{className:"absolute top-3 right-3 text-xl text-muted-foreground hover:text-foreground",onClick:()=>{be(null),fe(!1),He(!1)},children:"×"}),!ye&&d.jsxs("div",{className:"flex gap-2 justify-end mt-6",children:[d.jsx(me,{size:"sm",variant:"outline",onClick:()=>Pn(oe),children:"Edit"}),d.jsx(me,{size:"sm",variant:"destructive",onClick:()=>He(!0),children:"Delete"})]}),ye?d.jsxs("form",{className:"space-y-4",onSubmit:F=>{F.preventDefault(),ct()},children:[d.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",children:"Edit Dream"}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Title ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(wt,{value:K.title,onChange:F=>nr("title",F.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),d.jsx(wt,{value:K.description,onChange:F=>nr("description",F.target.value)})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Target Date ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(wt,{type:"date",value:K.targetDate,onChange:F=>nr("targetDate",F.target.value),required:!0})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),d.jsxs("select",{className:"w-full bg-background border border-border rounded px-2 py-1",value:K.type,onChange:F=>nr("type",F.target.value),children:[d.jsx("option",{value:"short-term",children:"Short Term"}),d.jsx("option",{value:"long-term",children:"Long Term"})]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),d.jsx(wt,{value:K.category,onChange:F=>nr("category",F.target.value)})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Checklist ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"space-y-2",children:[K.checklist.map((F,ae)=>d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("input",{type:"checkbox",checked:!!F.done,onChange:()=>rr(ae),className:"accent-primary w-4 h-4 rounded"}),d.jsx(wt,{value:F.text,onChange:Oe=>Fa(ae,Oe.target.value),placeholder:`Step ${ae+1}`,className:"flex-1"}),d.jsx(me,{type:"button",variant:"outline",size:"icon",onClick:()=>mi(ae),disabled:K.checklist.length===1,children:"×"})]},ae)),d.jsx(me,{type:"button",variant:"outline",size:"sm",onClick:gi,children:"+ Add Step"})]})]}),tt&&d.jsx("div",{className:"text-red-500 text-sm",children:tt}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx(me,{className:"flex-1",type:"submit",children:"Save"}),d.jsx(me,{variant:"outline",type:"button",onClick:()=>fe(!1),children:"Cancel"})]})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",children:oe.title}),oe.description&&d.jsx("p",{className:"mb-4 text-muted-foreground",children:oe.description}),d.jsxs("div",{className:"mb-4",children:[d.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-secondary text-secondary-foreground mr-2",children:oe.type.replace("-"," ")}),d.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground mr-2",children:oe.category}),oe.targetDate&&d.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary-foreground",children:(()=>{const F=sr(oe.targetDate);return F<0?`${Math.abs(F)} days overdue`:`${F} days left`})()})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-2 text-foreground",children:"Checklist"}),d.jsx("div",{className:"space-y-2",children:oe.checklist&&oe.checklist.length>0?oe.checklist.map((F,ae)=>d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:!!F.done,onChange:()=>A(oe,ae),disabled:we,className:"accent-primary w-4 h-4 rounded"}),d.jsx("span",{className:F.done?"line-through text-muted-foreground":"text-foreground",children:F.text})]},ae)):d.jsx("div",{className:"text-muted-foreground text-sm",children:"No checklist items."})}),_e&&d.jsx("div",{className:"text-red-500 text-xs mt-2",children:_e})]}),oe.checklist&&oe.checklist.length>0&&d.jsxs("div",{className:"mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[d.jsx("span",{className:"text-foreground",children:"Progress"}),d.jsxs("span",{className:"text-muted-foreground",children:[z(oe),"%"]})]}),d.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all rounded-full",style:{width:`${z(oe)}%`}})})]})]}),pi&&d.jsxs("div",{className:"absolute bottom-3 right-3 z-10 bg-destructive/10 p-3 rounded-lg flex flex-col gap-2 max-w-xs",children:[d.jsx("div",{className:"text-sm text-red-400 font-semibold",children:"Are you sure you want to delete this dream?"}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx(me,{size:"sm",variant:"destructive",onClick:Ze,disabled:ke,children:ke?"Deleting...":"Yes, Delete"}),d.jsx(me,{size:"sm",variant:"outline",onClick:()=>He(!1),disabled:ke,children:"Cancel"})]})]})]})})]})}const rN=g.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));rN.displayName="Textarea";var jU="Label",sN=g.forwardRef((t,e)=>d.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sN.displayName=jU;var iN=sN;const OU=Ay("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jt=g.forwardRef(({className:t,...e},n)=>d.jsx(iN,{ref:n,className:Be(OU(),t),...e}));Jt.displayName=iN.displayName;function Bv(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Wv="Checkbox",[MU,S7]=Ca(Wv),[LU,VU]=MU(Wv),oN=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:h,...p}=t,[f,w]=g.useState(null),E=Je(e,k=>w(k)),y=g.useRef(!1),T=f?h||!!f.closest("form"):!0,[x=!1,v]=zi({prop:s,defaultProp:i,onChange:u}),S=g.useRef(x);return g.useEffect(()=>{const k=f==null?void 0:f.form;if(k){const j=()=>v(S.current);return k.addEventListener("reset",j),()=>k.removeEventListener("reset",j)}},[f,v]),d.jsxs(LU,{scope:n,state:x,disabled:a,children:[d.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":Hs(x)?"mixed":x,"aria-required":o,"data-state":cN(x),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:E,onKeyDown:he(t.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:he(t.onClick,k=>{v(j=>Hs(j)?!0:!j),T&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),T&&d.jsx(FU,{control:f,bubbles:!y.current,name:r,value:l,checked:x,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Hs(i)?!1:i})]})});oN.displayName=Wv;var aN="CheckboxIndicator",lN=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=VU(aN,n);return d.jsx(_c,{present:r||Hs(i.state)||i.state===!0,children:d.jsx(Te.span,{"data-state":cN(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});lN.displayName=aN;var FU=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=g.useRef(null),a=Bv(n),l=$y(e);g.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&w){const E=new Event("click",{bubbles:r});h.indeterminate=Hs(n),w.call(h,Hs(n)?!1:n),h.dispatchEvent(E)}},[a,n,r]);const u=g.useRef(Hs(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Hs(t){return t==="indeterminate"}function cN(t){return Hs(t)?"indeterminate":t?"checked":"unchecked"}var uN=oN,UU=lN;const dN=g.forwardRef(({className:t,...e},n)=>d.jsx(uN,{ref:n,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(UU,{className:Be("flex items-center justify-center text-current"),children:d.jsx(Ry,{className:"h-4 w-4"})})}));dN.displayName=uN.displayName;function $U(){const{user:t}=so(),[e,n]=g.useState(""),[r,s]=g.useState([]),[i,o]=g.useState(0),[a,l]=g.useState(!1),[u,h]=g.useState([]),[p,f]=g.useState([]),[w,E]=g.useState(!0),[y,T]=g.useState(""),v=(()=>{if(!p.length)return 0;const C=[...p].sort((P,R)=>new Date(R.date)-new Date(P.date));let b=0,I=new Date;for(let P=0;P<C.length;P++){const R=new Date(C[P].date);if(R.getFullYear()===I.getFullYear()&&R.getMonth()===I.getMonth()&&R.getDate()===I.getDate())b++,I.setDate(I.getDate()-1);else break}return b})(),S=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});g.useEffect(()=>{t&&(E(!0),Promise.all([Pi(t.uid),hh(t.uid)]).then(([C,b])=>{h(C),f(b.sort((I,P)=>new Date(P.date)-new Date(I.date)))}).catch(()=>T("Failed to load data.")).finally(()=>E(!1)))},[t]);const k=C=>{s(b=>b.includes(C)?b.filter(I=>I!==C):[...b,C])},j=C=>{o(C)},O=async()=>{const C=gn(e);if(C.split(" ").length<10){alert("Please write at least 10 words in your reflection.");return}if(t){l(!0);try{await kU(t.uid,{content:C,dreamIds:r,productivityRating:i,date:new Date().toISOString()});const b=await hh(t.uid);f(b.sort((I,P)=>new Date(P.date)-new Date(I.date))),n(""),s([]),o(0),alert("Reflection saved! Your streak continues.")}catch{alert("Failed to save reflection.")}finally{l(!1)}}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Daily Reflection"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:S})]}),d.jsx(Wd,{streak:v,size:"lg"})]}),d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:d.jsx(Uo,{className:"w-5 h-5 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Today's Reflection"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Share your thoughts and progress"})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"reflection",className:"text-sm font-medium",children:"How was your day? What did you accomplish? (minimum 10 words)"}),d.jsx(rN,{id:"reflection",placeholder:"Write about your day, progress on your dreams, challenges you faced, or insights you gained...",value:e,onChange:C=>n(C.target.value),className:"min-h-[120px] resize-none"}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.split(" ").filter(C=>C.length>0).length," words"]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Jt,{className:"text-sm font-medium",children:"Which dreams does this relate to?"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(C=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[d.jsx(dN,{id:`dream-${C.id}`,checked:r.includes(C.id),onCheckedChange:()=>k(C.id)}),d.jsxs("label",{htmlFor:`dream-${C.id}`,className:"flex-1 cursor-pointer text-sm",children:[d.jsx("div",{className:"font-medium text-foreground",children:C.title}),d.jsx("div",{className:"text-xs text-muted-foreground",children:C.category})]})]},C.id))})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Jt,{className:"text-sm font-medium",children:"How productive did you feel today?"}),d.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(C=>d.jsx("button",{onClick:()=>j(C),className:`w-10 h-10 rounded-full transition-all ${C<=i?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:d.jsx(Dd,{className:`w-5 h-5 mx-auto ${C<=i?"fill-current":""}`})},C))}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[i===0&&"Select a rating",i===1&&"Not very productive",i===2&&"Somewhat productive",i===3&&"Moderately productive",i===4&&"Very productive",i===5&&"Extremely productive"]})]}),d.jsx(me,{onClick:O,disabled:e.split(" ").length<10||i===0||a,className:"w-full gap-2",children:a?d.jsx(d.Fragment,{children:"Saving..."}):d.jsxs(d.Fragment,{children:[d.jsx(B2,{className:"w-4 h-4"}),"Save Reflection"]})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Recent Reflections"}),d.jsx("div",{className:"space-y-4",children:p.slice(0,3).map(C=>d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:d.jsx(Uo,{className:"w-4 h-4 text-muted-foreground"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-foreground",children:new Date(C.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),d.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[d.jsx("div",{className:"flex",children:Array.from({length:5}).map((b,I)=>d.jsx(Dd,{className:`w-3 h-3 ${I<C.productivityRating?"text-primary fill-current":"text-muted-foreground"}`},I))}),d.jsx("span",{className:"ml-1",children:"productivity"})]})]})]})}),d.jsx("p",{className:"text-sm text-foreground mb-3 leading-relaxed",children:C.content}),C.dreamIds.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:C.dreamIds.map(b=>{const I=u.find(P=>P.id===b);return I?d.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-muted rounded-full text-xs text-muted-foreground",children:[d.jsx(Jl,{className:"w-3 h-3"}),I.title]},b):null})})]},C.id))})]})]})}function zU(){var j;const{user:t}=so(),[e,n]=g.useState([]),[r,s]=g.useState([]),[i,o]=g.useState(!0),[a,l]=g.useState("");g.useEffect(()=>{t&&(o(!0),Promise.all([Pi(t.uid),hh(t.uid)]).then(([O,C])=>{n(O),s(C)}).catch(()=>l("Failed to load data.")).finally(()=>o(!1)))},[t]);const h=(()=>{if(!r.length)return 0;const O=[...r].sort((I,P)=>new Date(P.date)-new Date(I.date));let C=0,b=new Date;for(let I=0;I<O.length;I++){const P=new Date(O[I].date);if(P.getFullYear()===b.getFullYear()&&P.getMonth()===b.getMonth()&&P.getDate()===b.getDate())C++,b.setDate(b.getDate()-1);else break}return C})(),p=nN(),f=e.length,w=f?Math.round(e.reduce((O,C)=>{if(C.checklist&&C.checklist.length>0){const b=C.checklist.filter(I=>I.done).length;return O+b/C.checklist.length*100}return O},0)/f):0,E=e.length?e.reduce((O,C)=>{const b=O.checklist&&O.checklist.length>0?O.checklist.filter(P=>P.done).length/O.checklist.length:0,I=C.checklist&&C.checklist.length>0?C.checklist.filter(P=>P.done).length/C.checklist.length:0;return b>I?O:C}):null,y=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],T=new Date,x=new Date(T);x.setDate(T.getDate()-T.getDay()+1);const v=y.map((O,C)=>{const b=new Date(x);b.setDate(x.getDate()+C);const I=b.toISOString().split("T")[0],P=r.find(R=>R.date&&R.date.startsWith(I));return{day:O,active:!!P,productivity:P?P.productivityRating:0}}),S=v.filter(O=>O.active).length,k=v.length?Math.round(v.reduce((O,C)=>O+C.productivity,0)/v.length):0;return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Profile & Insights"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Analyze your productivity and progress patterns."})]}),d.jsx(Wd,{streak:h,size:"lg"})]}),i?d.jsx("div",{className:"manifestor-card p-12 text-center",children:"Loading insights..."}):a?d.jsx("div",{className:"manifestor-card p-12 text-center text-red-500",children:a}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:d.jsx(Uo,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:S}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"of 7 days"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-foreground",children:"This Week"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(S/7*100),"%"]})]}),d.jsx(Nl,{progress:S/7*100})]})]}),d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:d.jsx(Gu,{className:"w-6 h-6 text-accent"})}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[w,"%"]}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"avg progress"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("span",{className:"text-sm font-medium text-foreground",children:"Overall Progress"})}),d.jsx(Nl,{progress:w})]})]}),d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-secondary/50 rounded-lg flex items-center justify-center",children:d.jsx(Dd,{className:"w-6 h-6 text-foreground"})}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:k}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"out of 5"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("span",{className:"text-sm font-medium text-foreground",children:"Avg Productivity"})}),d.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((O,C)=>d.jsx("div",{className:`flex-1 h-2 rounded-sm ${C<k?"bg-primary":"bg-muted"}`},C))})]})]}),d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center",children:d.jsx(jd,{className:"w-6 h-6 text-foreground"})}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-2xl font-bold text-foreground",children:f}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"active dreams"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("span",{className:"text-sm font-medium text-foreground",children:"Dreams Portfolio"})}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.filter(O=>O.type==="short-term").length," short-term, ",e.filter(O=>O.type==="long-term").length," long-term"]})]})]})]}),d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Weekly Grind Chart"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"grid grid-cols-7 gap-2",children:v.map((O,C)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:O.day}),d.jsx("div",{className:`w-12 h-12 mx-auto rounded-lg flex items-center justify-center text-sm font-medium transition-all ${O.active?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:O.active?d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Dd,{className:"w-3 h-3 fill-current"}),d.jsx("span",{className:"text-xs",children:O.productivity})]}):d.jsx(xS,{className:"w-4 h-4"})})]},C))}),d.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 bg-primary rounded"}),d.jsx("span",{children:"Active Day"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 bg-muted rounded"}),d.jsx("span",{children:"Inactive Day"})]})]})]})]}),d.jsxs("div",{className:"manifestor-card p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Most Active Dream"}),E?d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:d.jsx(jd,{className:"w-8 h-8 text-primary"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:E.title}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[E.category,"  ",(j=E.type)==null?void 0:j.replace("-"," ")]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-foreground",children:"Progress"}),d.jsxs("span",{className:"text-muted-foreground",children:[E.checklist&&E.checklist.length>0?Math.round(E.checklist.filter(O=>O.done).length/E.checklist.length*100):0,"% complete"]})]}),d.jsx(Nl,{progress:E.checklist&&E.checklist.length>0?Math.round(E.checklist.filter(O=>O.done).length/E.checklist.length*100):0}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[d.jsxs("span",{children:[E.checklist?E.checklist.filter(O=>O.done).length:0," of ",E.checklist?E.checklist.length:0," tasks completed"]}),d.jsx("span",{children:"-- days left"})]})]})]})]}):d.jsx("div",{className:"text-muted-foreground",children:"No dreams yet."})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Motivational Quote"}),d.jsx(bb,{quote:p.text,author:p.author})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"manifestor-card p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:r.length}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reflections"})]}),d.jsxs("div",{className:"manifestor-card p-6 text-center",children:[d.jsxs("div",{className:"text-3xl font-bold text-foreground mb-2",children:[r.length?Math.round(r.reduce((O,C)=>O+C.productivityRating,0)/r.length*20):0,"%"]}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Productivity Score"})]}),d.jsxs("div",{className:"manifestor-card p-6 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:h>7?Math.floor(h/7):0}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Week",Math.floor(h/7)!==1?"s":""," Streak"]})]})]})]})]})}var Hv="Switch",[BU,b7]=Ca(Hv),[WU,HU]=BU(Hv),hN=g.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:h,...p}=t,[f,w]=g.useState(null),E=Je(e,S=>w(S)),y=g.useRef(!1),T=f?h||!!f.closest("form"):!0,[x=!1,v]=zi({prop:s,defaultProp:i,onChange:u});return d.jsxs(WU,{scope:n,checked:x,disabled:a,children:[d.jsx(Te.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":mN(x),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:E,onClick:he(t.onClick,S=>{v(k=>!k),T&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),T&&d.jsx(qU,{control:f,bubbles:!y.current,name:r,value:l,checked:x,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});hN.displayName=Hv;var fN="SwitchThumb",pN=g.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=HU(fN,n);return d.jsx(Te.span,{"data-state":mN(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});pN.displayName=fN;var qU=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=g.useRef(null),o=Bv(n),a=$y(e);return g.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const f=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(f)}},[o,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mN(t){return t?"checked":"unchecked"}var gN=hN,KU=pN;const _g=g.forwardRef(({className:t,...e},n)=>d.jsx(gN,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(KU,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_g.displayName=gN.displayName;function o1(t,[e,n]){return Math.min(n,Math.max(e,t))}var GU=g.createContext(void 0);function qv(t){const e=g.useContext(GU);return t||e||"ltr"}var Rp=0;function QU(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??a1()),document.body.insertAdjacentElement("beforeend",t[1]??a1()),Rp++,()=>{Rp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rp--}},[])}function a1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dp="focusScope.autoFocusOnMount",jp="focusScope.autoFocusOnUnmount",l1={bubbles:!1,cancelable:!0},YU="FocusScope",yN=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=pn(s),h=pn(i),p=g.useRef(null),f=Je(e,y=>l(y)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(S){if(w.paused||!a)return;const k=S.target;a.contains(k)?p.current=k:ms(p.current,{select:!0})},T=function(S){if(w.paused||!a)return;const k=S.relatedTarget;k!==null&&(a.contains(k)||ms(p.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const j of S)j.removedNodes.length>0&&ms(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const v=new MutationObserver(x);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),v.disconnect()}}},[r,a,w.paused]),g.useEffect(()=>{if(a){u1.add(w);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Dp,l1);a.addEventListener(Dp,u),a.dispatchEvent(x),x.defaultPrevented||(XU(n9(vN(a)),{select:!0}),document.activeElement===y&&ms(a))}return()=>{a.removeEventListener(Dp,u),setTimeout(()=>{const x=new CustomEvent(jp,l1);a.addEventListener(jp,h),a.dispatchEvent(x),x.defaultPrevented||ms(y??document.body,{select:!0}),a.removeEventListener(jp,h),u1.remove(w)},0)}}},[a,u,h,w]);const E=g.useCallback(y=>{if(!n&&!r||w.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(T&&x){const v=y.currentTarget,[S,k]=JU(v);S&&k?!y.shiftKey&&x===k?(y.preventDefault(),n&&ms(S,{select:!0})):y.shiftKey&&x===S&&(y.preventDefault(),n&&ms(k,{select:!0})):x===v&&y.preventDefault()}},[n,r,w.paused]);return d.jsx(Te.div,{tabIndex:-1,...o,ref:f,onKeyDown:E})});yN.displayName=YU;function XU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ms(r,{select:e}),document.activeElement!==n)return}function JU(t){const e=vN(t),n=c1(e,t),r=c1(e.reverse(),t);return[n,r]}function vN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function c1(t,e){for(const n of t)if(!ZU(n,{upTo:e}))return n}function ZU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function e9(t){return t instanceof HTMLInputElement&&"select"in t}function ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&e9(t)&&e&&t.select()}}var u1=t9();function t9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=d1(t,e),t.unshift(e)},remove(e){var n;t=d1(t,e),(n=t[0])==null||n.resume()}}}function d1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function n9(t){return t.filter(e=>e.tagName!=="A")}var r9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ho=new WeakMap,Pu=new WeakMap,ku={},Op=0,wN=function(t){return t&&(t.host||wN(t.parentNode))},s9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},i9=function(t,e,n,r){var s=s9(e,Array.isArray(t)?t:[t]);ku[n]||(ku[n]=new WeakMap);var i=ku[n],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var w=f.getAttribute(r),E=w!==null&&w!=="false",y=(ho.get(f)||0)+1,T=(i.get(f)||0)+1;ho.set(f,y),i.set(f,T),o.push(f),y===1&&E&&Pu.set(f,!0),T===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return h(e),a.clear(),Op++,function(){o.forEach(function(p){var f=ho.get(p)-1,w=i.get(p)-1;ho.set(p,f),i.set(p,w),f||(Pu.has(p)||p.removeAttribute(r),Pu.delete(p)),w||p.removeAttribute(n)}),Op--,Op||(ho=new WeakMap,ho=new WeakMap,Pu=new WeakMap,ku={})}},o9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=r9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),i9(r,s,n,"aria-hidden")):function(){return null}},mr=function(){return mr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mr.apply(this,arguments)};function xN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function a9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var od="right-scroll-bar-position",ad="width-before-scroll-bar",l9="with-scroll-bars-hidden",c9="--removed-body-scroll-bar-size";function Mp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function u9(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var d9=typeof window<"u"?g.useLayoutEffect:g.useEffect,h1=new WeakMap;function h9(t,e){var n=u9(null,function(r){return t.forEach(function(s){return Mp(s,r)})});return d9(function(){var r=h1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Mp(a,null)}),i.forEach(function(a){s.has(a)||Mp(a,o)})}h1.set(n,t)},[t]),n}function f9(t){return t}function p9(t,e){e===void 0&&(e=f9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function m9(t){t===void 0&&(t={});var e=p9(null);return e.options=mr({async:!0,ssr:!1},t),e}var _N=function(t){var e=t.sideCar,n=xN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,mr({},n))};_N.isSideCarExport=!0;function g9(t,e){return t.useMedium(e),_N}var EN=m9(),Lp=function(){},yf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Lp,onWheelCapture:Lp,onTouchMoveCapture:Lp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,w=t.noIsolation,E=t.inert,y=t.allowPinchZoom,T=t.as,x=T===void 0?"div":T,v=t.gapMode,S=xN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,j=h9([n,e]),O=mr(mr({},S),s);return g.createElement(g.Fragment,null,h&&g.createElement(k,{sideCar:EN,removeScrollBar:u,shards:p,noIsolation:w,inert:E,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:v}),o?g.cloneElement(g.Children.only(a),mr(mr({},O),{ref:j})):g.createElement(x,mr({},O,{className:l,ref:j}),a))});yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yf.classNames={fullWidth:ad,zeroRight:od};var y9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=y9();return e&&t.setAttribute("nonce",e),t}function w9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function x9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=v9())&&(w9(e,n),x9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},E9=function(){var t=_9();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TN=function(){var t=E9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},T9={left:0,top:0,right:0,gap:0},Vp=function(t){return parseInt(t||"",10)||0},S9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Vp(n),Vp(r),Vp(s)]},b9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return T9;var e=S9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},C9=TN(),Go="data-scroll-locked",I9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(l9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(od,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(od," .").concat(od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(c9,": ").concat(a,`px;
  }
`)},f1=function(){var t=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(t)?t:0},N9=function(){g.useEffect(function(){return document.body.setAttribute(Go,(f1()+1).toString()),function(){var t=f1()-1;t<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,t.toString())}},[])},P9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;N9();var i=g.useMemo(function(){return b9(s)},[s]);return g.createElement(C9,{styles:I9(i,!e,s,n?"":"!important")})},Eg=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return Eg=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Eg=!1}var fo=Eg?{passive:!1}:!1,k9=function(t){return t.tagName==="TEXTAREA"},SN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!k9(t)&&n[e]==="visible")},A9=function(t){return SN(t,"overflowY")},R9=function(t){return SN(t,"overflowX")},p1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=bN(t,r);if(s){var i=CN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},D9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},j9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bN=function(t,e){return t==="v"?A9(e):R9(e)},CN=function(t,e){return t==="v"?D9(e):j9(e)},O9=function(t,e){return t==="h"&&e==="rtl"?-1:1},M9=function(t,e,n,r,s){var i=O9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,p=0,f=0;do{var w=CN(t,a),E=w[0],y=w[1],T=w[2],x=y-T-i*E;(E||x)&&bN(t,a)&&(p+=x,f+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(u=!0),u},Ru=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m1=function(t){return[t.deltaX,t.deltaY]},g1=function(t){return t&&"current"in t?t.current:t},L9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F9=0,po=[];function U9(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(F9++)[0],i=g.useState(TN)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=a9([t.lockRef.current],(t.shards||[]).map(g1),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Ru(y),v=n.current,S="deltaX"in y?y.deltaX:v[0]-x[0],k="deltaY"in y?y.deltaY:v[1]-x[1],j,O=y.target,C=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in y&&C==="h"&&O.type==="range")return!1;var b=p1(C,O);if(!b)return!0;if(b?j=C:(j=C==="v"?"h":"v",b=p1(C,O)),!b)return!1;if(!r.current&&"changedTouches"in y&&(S||k)&&(r.current=j),!j)return!0;var I=r.current||j;return M9(I,T,y,I==="h"?S:k,!0)},[]),l=g.useCallback(function(y){var T=y;if(!(!po.length||po[po.length-1]!==i)){var x="deltaY"in T?m1(T):Ru(T),v=e.current.filter(function(j){return j.name===T.type&&(j.target===T.target||T.target===j.shadowParent)&&L9(j.delta,x)})[0];if(v&&v.should){T.cancelable&&T.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(g1).filter(Boolean).filter(function(j){return j.contains(T.target)}),k=S.length>0?a(T,S[0]):!o.current.noIsolation;k&&T.cancelable&&T.preventDefault()}}},[]),u=g.useCallback(function(y,T,x,v){var S={name:y,delta:T,target:x,should:v,shadowParent:$9(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(k){return k!==S})},1)},[]),h=g.useCallback(function(y){n.current=Ru(y),r.current=void 0},[]),p=g.useCallback(function(y){u(y.type,m1(y),y.target,a(y,t.lockRef.current))},[]),f=g.useCallback(function(y){u(y.type,Ru(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return po.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,fo),document.addEventListener("touchmove",l,fo),document.addEventListener("touchstart",h,fo),function(){po=po.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,fo),document.removeEventListener("touchmove",l,fo),document.removeEventListener("touchstart",h,fo)}},[]);var w=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(i,{styles:V9(s)}):null,w?g.createElement(P9,{gapMode:t.gapMode}):null)}function $9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const z9=g9(EN,U9);var IN=g.forwardRef(function(t,e){return g.createElement(yf,mr({},t,{ref:e,sideCar:z9}))});IN.classNames=yf.classNames;var B9=[" ","Enter","ArrowUp","ArrowDown"],W9=[" ","Enter"],Vc="Select",[vf,wf,H9]=Cy(Vc),[Va,C7]=Ca(Vc,[H9,Vh]),xf=Vh(),[q9,hi]=Va(Vc),[K9,G9]=Va(Vc),NN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:p,disabled:f,required:w,form:E}=t,y=xf(e),[T,x]=g.useState(null),[v,S]=g.useState(null),[k,j]=g.useState(!1),O=qv(u),[C=!1,b]=zi({prop:r,defaultProp:s,onChange:i}),[I,P]=zi({prop:o,defaultProp:a,onChange:l}),R=g.useRef(null),D=T?E||!!T.closest("form"):!0,[A,W]=g.useState(new Set),re=Array.from(A).map(G=>G.props.value).join(";");return d.jsx(hO,{...y,children:d.jsxs(q9,{required:w,scope:e,trigger:T,onTriggerChange:x,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:j,contentId:Tc(),value:I,onValueChange:P,open:C,onOpenChange:b,dir:O,triggerPointerDownPosRef:R,disabled:f,children:[d.jsx(vf.Provider,{scope:e,children:d.jsx(K9,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(G=>{W(se=>new Set(se).add(G))},[]),onNativeOptionRemove:g.useCallback(G=>{W(se=>{const L=new Set(se);return L.delete(G),L})},[]),children:n})}),D?d.jsxs(ZN,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:p,value:I,onChange:G=>P(G.target.value),disabled:f,form:E,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(A)]},re):null]})})};NN.displayName=Vc;var PN="SelectTrigger",kN=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=xf(n),o=hi(PN,n),a=o.disabled||r,l=Je(e,o.onTriggerChange),u=wf(n),h=g.useRef("touch"),[p,f,w]=eP(y=>{const T=u().filter(S=>!S.disabled),x=T.find(S=>S.value===o.value),v=tP(T,y,x);v!==void 0&&o.onValueChange(v.value)}),E=y=>{a||(o.onOpenChange(!0),w()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(XS,{asChild:!0,...i,children:d.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":JN(o.value)?"":void 0,...s,ref:l,onClick:he(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&E(y)}),onPointerDown:he(s.onPointerDown,y=>{h.current=y.pointerType;const T=y.target;T.hasPointerCapture(y.pointerId)&&T.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(E(y),y.preventDefault())}),onKeyDown:he(s.onKeyDown,y=>{const T=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(T&&y.key===" ")&&B9.includes(y.key)&&(E(),y.preventDefault())})})})});kN.displayName=PN;var AN="SelectValue",RN=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=hi(AN,n),{onValueNodeHasChildrenChange:u}=l,h=i!==void 0,p=Je(e,l.onValueNodeChange);return qt(()=>{u(h)},[u,h]),d.jsx(Te.span,{...a,ref:p,style:{pointerEvents:"none"},children:JN(l.value)?d.jsx(d.Fragment,{children:o}):i})});RN.displayName=AN;var Q9="SelectIcon",DN=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});DN.displayName=Q9;var Y9="SelectPortal",jN=t=>d.jsx(Iy,{asChild:!0,...t});jN.displayName=Y9;var Yi="SelectContent",ON=g.forwardRef((t,e)=>{const n=hi(Yi,t.__scopeSelect),[r,s]=g.useState();if(qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Zi.createPortal(d.jsx(MN,{scope:t.__scopeSelect,children:d.jsx(vf.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(LN,{...t,ref:e})});ON.displayName=Yi;var zn=10,[MN,fi]=Va(Yi),X9="SelectContentImpl",LN=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:w,sticky:E,hideWhenDetached:y,avoidCollisions:T,...x}=t,v=hi(Yi,n),[S,k]=g.useState(null),[j,O]=g.useState(null),C=Je(e,ne=>k(ne)),[b,I]=g.useState(null),[P,R]=g.useState(null),D=wf(n),[A,W]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(S)return o9(S)},[S]),QU();const G=g.useCallback(ne=>{const[_e,...je]=D().map(K=>K.ref.current),[ye]=je.slice(-1),fe=document.activeElement;for(const K of ne)if(K===fe||(K==null||K.scrollIntoView({block:"nearest"}),K===_e&&j&&(j.scrollTop=0),K===ye&&j&&(j.scrollTop=j.scrollHeight),K==null||K.focus(),document.activeElement!==fe))return},[D,j]),se=g.useCallback(()=>G([b,S]),[G,b,S]);g.useEffect(()=>{A&&se()},[A,se]);const{onOpenChange:L,triggerPointerDownPosRef:z}=v;g.useEffect(()=>{if(S){let ne={x:0,y:0};const _e=ye=>{var fe,K;ne={x:Math.abs(Math.round(ye.pageX)-(((fe=z.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((K=z.current)==null?void 0:K.y)??0))}},je=ye=>{ne.x<=10&&ne.y<=10?ye.preventDefault():S.contains(ye.target)||L(!1),document.removeEventListener("pointermove",_e),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",je,{capture:!0})}}},[S,L,z]),g.useEffect(()=>{const ne=()=>L(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[L]);const[X,q]=eP(ne=>{const _e=D().filter(fe=>!fe.disabled),je=_e.find(fe=>fe.ref.current===document.activeElement),ye=tP(_e,ne,je);ye&&setTimeout(()=>ye.ref.current.focus())}),J=g.useCallback((ne,_e,je)=>{const ye=!re.current&&!je;(v.value!==void 0&&v.value===_e||ye)&&(I(ne),ye&&(re.current=!0))},[v.value]),ee=g.useCallback(()=>S==null?void 0:S.focus(),[S]),oe=g.useCallback((ne,_e,je)=>{const ye=!re.current&&!je;(v.value!==void 0&&v.value===_e||ye)&&R(ne)},[v.value]),be=r==="popper"?Tg:VN,we=be===Tg?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:w,sticky:E,hideWhenDetached:y,avoidCollisions:T}:{};return d.jsx(MN,{scope:n,content:S,viewport:j,onViewportChange:O,itemRefCallback:J,selectedItem:b,onItemLeave:ee,itemTextRefCallback:oe,focusSelectedItem:se,selectedItemText:P,position:r,isPositioned:A,searchRef:X,children:d.jsx(IN,{as:da,allowPinchZoom:!0,children:d.jsx(yN,{asChild:!0,trapped:v.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:he(s,ne=>{var _e;(_e=v.trigger)==null||_e.focus({preventScroll:!0}),ne.preventDefault()}),children:d.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:d.jsx(be,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ne=>ne.preventDefault(),...x,...we,onPlaced:()=>W(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:he(x.onKeyDown,ne=>{const _e=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!_e&&ne.key.length===1&&q(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ye=D().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const fe=ne.target,K=ye.indexOf(fe);ye=ye.slice(K+1)}setTimeout(()=>G(ye)),ne.preventDefault()}})})})})})})});LN.displayName=X9;var J9="SelectItemAlignedPosition",VN=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hi(Yi,n),o=fi(Yi,n),[a,l]=g.useState(null),[u,h]=g.useState(null),p=Je(e,C=>h(C)),f=wf(n),w=g.useRef(!1),E=g.useRef(!0),{viewport:y,selectedItem:T,selectedItemText:x,focusSelectedItem:v}=o,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&T&&x){const C=i.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const fe=P.left-b.left,K=I.left-fe,ue=C.left-K,tt=C.width+ue,nt=Math.max(tt,b.width),ke=window.innerWidth-zn,Nn=o1(K,[zn,Math.max(zn,ke-nt)]);a.style.minWidth=tt+"px",a.style.left=Nn+"px"}else{const fe=b.right-P.right,K=window.innerWidth-I.right-fe,ue=window.innerWidth-C.right-K,tt=C.width+ue,nt=Math.max(tt,b.width),ke=window.innerWidth-zn,Nn=o1(K,[zn,Math.max(zn,ke-nt)]);a.style.minWidth=tt+"px",a.style.right=Nn+"px"}const R=f(),D=window.innerHeight-zn*2,A=y.scrollHeight,W=window.getComputedStyle(u),re=parseInt(W.borderTopWidth,10),G=parseInt(W.paddingTop,10),se=parseInt(W.borderBottomWidth,10),L=parseInt(W.paddingBottom,10),z=re+G+A+L+se,X=Math.min(T.offsetHeight*5,z),q=window.getComputedStyle(y),J=parseInt(q.paddingTop,10),ee=parseInt(q.paddingBottom,10),oe=C.top+C.height/2-zn,be=D-oe,we=T.offsetHeight/2,ne=T.offsetTop+we,_e=re+G+ne,je=z-_e;if(_e<=oe){const fe=R.length>0&&T===R[R.length-1].ref.current;a.style.bottom="0px";const K=u.clientHeight-y.offsetTop-y.offsetHeight,ue=Math.max(be,we+(fe?ee:0)+K+se),tt=_e+ue;a.style.height=tt+"px"}else{const fe=R.length>0&&T===R[0].ref.current;a.style.top="0px";const ue=Math.max(oe,re+y.offsetTop+(fe?J:0)+we)+je;a.style.height=ue+"px",y.scrollTop=_e-oe+y.offsetTop}a.style.margin=`${zn}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[f,i.trigger,i.valueNode,a,u,y,T,x,i.dir,r]);qt(()=>S(),[S]);const[k,j]=g.useState();qt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const O=g.useCallback(C=>{C&&E.current===!0&&(S(),v==null||v(),E.current=!1)},[S,v]);return d.jsx(e$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:d.jsx(Te.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VN.displayName=J9;var Z9="SelectPopperPosition",Tg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zn,...i}=t,o=xf(n);return d.jsx(JS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tg.displayName=Z9;var[e$,Kv]=Va(Yi,{}),Sg="SelectViewport",FN=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=fi(Sg,n),o=Kv(Sg,n),a=Je(e,i.onViewportChange),l=g.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(vf.Slot,{scope:n,children:d.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:he(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const w=Math.abs(l.current-h.scrollTop);if(w>0){const E=window.innerHeight-zn*2,y=parseFloat(p.style.minHeight),T=parseFloat(p.style.height),x=Math.max(y,T);if(x<E){const v=x+w,S=Math.min(E,v),k=v-S;p.style.height=S+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});FN.displayName=Sg;var UN="SelectGroup",[t$,n$]=Va(UN),r$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Tc();return d.jsx(t$,{scope:n,id:s,children:d.jsx(Te.div,{role:"group","aria-labelledby":s,...r,ref:e})})});r$.displayName=UN;var $N="SelectLabel",zN=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=n$($N,n);return d.jsx(Te.div,{id:s.id,...r,ref:e})});zN.displayName=$N;var fh="SelectItem",[s$,BN]=Va(fh),WN=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=hi(fh,n),l=fi(fh,n),u=a.value===r,[h,p]=g.useState(i??""),[f,w]=g.useState(!1),E=Je(e,v=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,v,r,s)}),y=Tc(),T=g.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(s$,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:g.useCallback(v=>{p(S=>S||((v==null?void 0:v.textContent)??"").trim())},[]),children:d.jsx(vf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Te.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:he(o.onFocus,()=>w(!0)),onBlur:he(o.onBlur,()=>w(!1)),onClick:he(o.onClick,()=>{T.current!=="mouse"&&x()}),onPointerUp:he(o.onPointerUp,()=>{T.current==="mouse"&&x()}),onPointerDown:he(o.onPointerDown,v=>{T.current=v.pointerType}),onPointerMove:he(o.onPointerMove,v=>{var S;T.current=v.pointerType,s?(S=l.onItemLeave)==null||S.call(l):T.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,v=>{var S;v.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:he(o.onKeyDown,v=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(W9.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});WN.displayName=fh;var yl="SelectItemText",HN=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=hi(yl,n),a=fi(yl,n),l=BN(yl,n),u=G9(yl,n),[h,p]=g.useState(null),f=Je(e,x=>p(x),l.onItemTextChange,x=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,x,l.value,l.disabled)}),w=h==null?void 0:h.textContent,E=g.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:w},l.value),[l.disabled,l.value,w]),{onNativeOptionAdd:y,onNativeOptionRemove:T}=u;return qt(()=>(y(E),()=>T(E)),[y,T,E]),d.jsxs(d.Fragment,{children:[d.jsx(Te.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zi.createPortal(i.children,o.valueNode):null]})});HN.displayName=yl;var qN="SelectItemIndicator",KN=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BN(qN,n).isSelected?d.jsx(Te.span,{"aria-hidden":!0,...r,ref:e}):null});KN.displayName=qN;var bg="SelectScrollUpButton",GN=g.forwardRef((t,e)=>{const n=fi(bg,t.__scopeSelect),r=Kv(bg,t.__scopeSelect),[s,i]=g.useState(!1),o=Je(e,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(YN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});GN.displayName=bg;var Cg="SelectScrollDownButton",QN=g.forwardRef((t,e)=>{const n=fi(Cg,t.__scopeSelect),r=Kv(Cg,t.__scopeSelect),[s,i]=g.useState(!1),o=Je(e,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(YN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});QN.displayName=Cg;var YN=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=fi("SelectScrollButton",n),o=g.useRef(null),a=wf(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),qt(()=>{var h;const u=a().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:he(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:he(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:he(s.onPointerLeave,()=>{l()})})}),i$="SelectSeparator",XN=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Te.div,{"aria-hidden":!0,...r,ref:e})});XN.displayName=i$;var Ig="SelectArrow",o$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xf(n),i=hi(Ig,n),o=fi(Ig,n);return i.open&&o.position==="popper"?d.jsx(ZS,{...s,...r,ref:e}):null});o$.displayName=Ig;function JN(t){return t===""||t===void 0}var ZN=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Je(e,s),o=Bv(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),d.jsx(Ec,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});ZN.displayName="BubbleSelect";function eP(t){const e=pn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=a$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function a$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var l$=NN,nP=kN,c$=RN,u$=DN,d$=jN,rP=ON,h$=FN,sP=zN,iP=WN,f$=HN,p$=KN,oP=GN,aP=QN,lP=XN;const m$=l$,g$=c$,cP=g.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(nP,{ref:r,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(u$,{asChild:!0,children:d.jsx(wS,{className:"h-4 w-4 opacity-50"})})]}));cP.displayName=nP.displayName;const uP=g.forwardRef(({className:t,...e},n)=>d.jsx(oP,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(D2,{className:"h-4 w-4"})}));uP.displayName=oP.displayName;const dP=g.forwardRef(({className:t,...e},n)=>d.jsx(aP,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(wS,{className:"h-4 w-4"})}));dP.displayName=aP.displayName;const hP=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(d$,{children:d.jsxs(rP,{ref:s,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(uP,{}),d.jsx(h$,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(dP,{})]})}));hP.displayName=rP.displayName;const y$=g.forwardRef(({className:t,...e},n)=>d.jsx(sP,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));y$.displayName=sP.displayName;const _o=g.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(iP,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(p$,{children:d.jsx(Ry,{className:"h-4 w-4"})})}),d.jsx(f$,{children:e})]}));_o.displayName=iP.displayName;const v$=g.forwardRef(({className:t,...e},n)=>d.jsx(lP,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));v$.displayName=lP.displayName;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="type.googleapis.com/google.protobuf.Int64Value",x$="type.googleapis.com/google.protobuf.UInt64Value";function fP(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function ph(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>ph(e));if(typeof t=="function"||typeof t=="object")return fP(t,e=>ph(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ea(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case w$:case x$:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ea(e)):typeof t=="function"||typeof t=="object"?fP(t,e=>Ea(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class un extends Nr{constructor(e,n,r){super(`${Gv}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,un.prototype)}}function _$(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mh(t,e){let n=_$(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!y1[o])return new un("internal","internal");n=y1[o],r=o}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=Ea(s))}}catch{}return n==="ok"?null:new un(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,an(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="us-central1",T$=/^data: (.*?)(?:\n|$)/;function S$(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new un("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class b${constructor(e,n,r,s,i=Ng,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new E$(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Ng}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function C$(t,e,n){const r=eo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Qy(t.emulatorOrigin),Yy("Functions",!0))}function I$(t,e,n){const r=s=>P$(t,e,s,{});return r.stream=(s,i)=>A$(t,e,s,i),r}async function N$(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}async function pP(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function P$(t,e,n,r){const s=t._url(e);return k$(t,s,n,r)}async function k$(t,e,n,r){n=ph(n);const s={data:n},i=await pP(t,r),o=r.timeout||7e4,a=S$(o),l=await Promise.race([N$(e,s,i,t.fetchImpl),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new un("cancelled","Firebase Functions instance was deleted.");const u=mh(l.status,l.json);if(u)throw u;if(!l.json)throw new un("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new un("internal","Response is missing data field.");return{data:Ea(h)}}function A$(t,e,n,r){const s=t._url(e);return R$(t,s,n,r||{})}async function R$(t,e,n,r){var f;n=ph(n);const s={data:n},i=await pP(t,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:i,signal:r==null?void 0:r.signal})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const y=new un("cancelled","Request was cancelled.");return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}const E=mh(0,null);return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}let a,l;const u=new Promise((w,E)=>{a=w,l=E});(f=r==null?void 0:r.signal)==null||f.addEventListener("abort",()=>{const w=new un("cancelled","Request was cancelled.");l(w)});const h=o.body.getReader(),p=D$(h,a,l,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const w=p.getReader();return{async next(){const{value:E,done:y}=await w.read();return{value:E,done:y}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:u}}function D$(t,e,n,r){const s=(o,a)=>{const l=o.match(T$);if(!l)return;const u=l[1];try{const h=JSON.parse(u);if("result"in h){e(Ea(h.result));return}if("message"in h){a.enqueue(Ea(h.message));return}if("error"in h){const p=mh(0,h);a.error(p),n(p);return}}catch(h){if(h instanceof un){a.error(h),n(h);return}}},i=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(r!=null&&r.aborted){const u=new un("cancelled","Request was cancelled");return o.error(u),n(u),Promise.resolve()}try{const{value:u,done:h}=await t.read();if(h){a.trim()&&s(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const f=new un("cancelled","Request was cancelled");o.error(f),n(f),await t.cancel();return}a+=i.decode(u,{stream:!0});const p=a.split(`
`);a=p.pop()||"";for(const f of p)f.trim()&&s(f.trim(),o);return l()}catch(u){const h=u instanceof un?u:mh(0,null);o.error(h),n(h)}}},cancel(){return t.cancel()}})}const v1="@firebase/functions",w1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="auth-internal",O$="app-check-internal",M$="messaging-internal";function L$(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(j$),o=n.getProvider(M$),a=n.getProvider(O$);return new b$(s,i,o,a,r)};Hi(new Js(Gv,e,"PUBLIC").setMultipleInstances(!0)),vr(v1,w1,t),vr(v1,w1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t=Zy(),e=Ng){const r=Kh(at(t),Gv).getImmediate({identifier:e}),s=kb("functions");return s&&F$(r,...s),r}function F$(t,e,n){C$(at(t),e,n)}function U$(t,e,n){return I$(at(t),e)}L$();function $$(){var K,ue,tt,nt;const[t,e]=g.useState(!1),[n,r]=g.useState(!0),[s,i]=g.useState("19:00"),{signOut:o,user:a,sendVerificationEmail:l}=so(),[u,h]=g.useState(!1),[p,f]=g.useState((a==null?void 0:a.displayName)||""),[w,E]=g.useState(!1),[y,T]=g.useState(!1),[x,v]=g.useState(""),[S,k]=g.useState(!1),[j,O]=g.useState(""),[C,b]=g.useState(""),I=bc(),[P,R]=g.useState(!1),[D,A]=g.useState(""),[W,re]=g.useState(!1),[G,se]=g.useState(""),L=async()=>{await o()},z=(a==null?void 0:a.displayName)||"Manifestor User",X=(a==null?void 0:a.email)||"user@example.com",q=a==null?void 0:a.photoURL,J=(a==null?void 0:a.email)&&!a.email.includes("@gmail.com")&&!a.email.includes("@google.com"),ee=a==null?void 0:a.emailVerified,oe=()=>{h(!0),f(z),T(!1),v("")},be=()=>{h(!1),v("")},we=async()=>{if(a){E(!0),v("");try{await aC(cr.currentUser,{displayName:p});const ke=Lc(di,"users",a.uid);await ZI(ke,{displayName:p}),T(!0),h(!1),window.location.reload()}catch{v("Failed to update name.")}finally{E(!1)}}},ne=async()=>{k(!0),b(""),O("");try{await l(),O("Verification email sent! Please check your inbox.")}catch(ke){b(ke.message||"Failed to send verification email")}finally{k(!1)}},_e=V$(),je=async()=>{if(a){re(!0),se("");try{await U$(_e,"deleteUserData")(),await r3(cr.currentUser),I("/intro",{replace:!0})}catch{se("Failed to delete account. Please re-authenticate and try again.")}finally{re(!1)}}},ye=()=>{e(!t),document.documentElement.classList.toggle("dark")},fe=ke=>{i(ke),localStorage.setItem("dailyReminderTime",ke),console.log("Reminder time saved:",ke)};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences."})]}),d.jsxs("section",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:d.jsx(Lm,{className:"w-6 h-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Account"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account information"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-foreground",children:"Profile Picture"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Your profile picture from your account"})]}),d.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center",children:q?d.jsx("img",{src:q,alt:"Profile",className:"w-12 h-12 rounded-full"}):d.jsx(Lm,{className:"w-6 h-6 text-accent"})})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-foreground",children:"Display Name"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"How your name appears in the app"})]}),d.jsx("div",{className:"flex items-center gap-2",children:u?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:p,onChange:ke=>f(ke.target.value),className:"px-3 py-1 bg-background border border-border rounded-md text-foreground text-sm",placeholder:"Enter name"}),d.jsx(me,{size:"sm",onClick:we,disabled:w,className:"h-8 px-2",children:w?"Saving...":d.jsx(Ry,{className:"w-4 h-4"})}),d.jsx(me,{size:"sm",variant:"ghost",onClick:be,className:"h-8 px-2",children:d.jsx(Dy,{className:"w-4 h-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-foreground",children:z}),d.jsx(me,{size:"sm",variant:"ghost",onClick:oe,className:"h-8 px-2",children:d.jsx($2,{className:"w-4 h-4"})})]})}),y&&d.jsx("div",{className:"text-green-500 text-xs",children:"Name updated!"}),x&&d.jsx("div",{className:"text-red-500 text-xs mt-1",children:x})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-foreground",children:"Email"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:X})]}),d.jsx("div",{className:"flex items-center gap-2",children:J&&d.jsx("div",{className:"flex items-center gap-2",children:ee?d.jsxs("div",{className:"flex items-center gap-1 text-green-500 text-sm",children:[d.jsx(Jl,{className:"w-4 h-4"}),"Verified"]}):d.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-sm",children:[d.jsx(Rd,{className:"w-4 h-4"}),"Unverified"]})})})]}),J&&!ee&&d.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Rd,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-yellow-500 mb-1",children:"Email Not Verified"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Please verify your email address to access all features. Check your inbox for a verification link."}),j&&d.jsx("div",{className:"text-green-500 text-sm mb-2",children:j}),C&&d.jsx("div",{className:"text-red-500 text-sm mb-2",children:C}),d.jsx(me,{onClick:ne,disabled:S,size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:S?d.jsxs(d.Fragment,{children:[d.jsx(_S,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]})})]})]})}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-foreground",children:"Password"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:(K=a==null?void 0:a.email)!=null&&K.includes("@gmail.com")||(ue=a==null?void 0:a.email)!=null&&ue.includes("@google.com")?"Google sign-in users manage their password via their Google Account.":"Email/password users can reset their password from the login page."})]}),d.jsx(me,{variant:"outline",size:"sm",disabled:!0,children:(tt=a==null?void 0:a.email)!=null&&tt.includes("@gmail.com")||(nt=a==null?void 0:a.email)!=null&&nt.includes("@google.com")?"Google Account":"Email Account"})]})]})]}),d.jsxs("section",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:d.jsx(U2,{className:"w-6 h-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Appearance"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize how Manifestor looks"})]})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[t?d.jsx(F2,{className:"w-5 h-5 text-foreground"}):d.jsx(H2,{className:"w-5 h-5 text-foreground"}),d.jsxs("div",{children:[d.jsx(Jt,{className:"font-medium text-foreground",children:"Dark Mode"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Toggle between light and dark themes"})]})]}),d.jsx(_g,{checked:t,onCheckedChange:ye})]})})]}),d.jsxs("section",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:d.jsx(k2,{className:"w-6 h-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Notifications"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your notification preferences"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx(Jt,{className:"font-medium text-foreground",children:"Daily Reminders"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Get reminded to reflect on your day"})]}),d.jsx(_g,{checked:n,onCheckedChange:r})]}),n&&d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx(Jt,{className:"font-medium text-foreground",children:"Reminder Time"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"When to send daily reminders"})]}),d.jsxs(m$,{value:s,onValueChange:fe,children:[d.jsx(cP,{className:"w-32",children:d.jsx(g$,{})}),d.jsxs(hP,{children:[d.jsx(_o,{value:"08:00",children:"8:00 AM"}),d.jsx(_o,{value:"12:00",children:"12:00 PM"}),d.jsx(_o,{value:"17:00",children:"5:00 PM"}),d.jsx(_o,{value:"19:00",children:"7:00 PM"}),d.jsx(_o,{value:"21:00",children:"9:00 PM"})]})]})]})]})]}),d.jsxs("section",{className:"manifestor-card p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:d.jsx(rx,{className:"w-6 h-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Security"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account security"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-foreground",children:"Sign Out"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Sign out of your account"})]}),d.jsxs(me,{variant:"outline",onClick:L,className:"gap-2",children:[d.jsx(L2,{className:"w-4 h-4"}),"Sign Out"]})]}),d.jsxs("div",{className:"flex items-center justify-between py-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-destructive",children:"Delete Account"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),d.jsxs(me,{variant:"destructive",onClick:()=>R(!0),className:"gap-2",children:[d.jsx(rx,{className:"w-4 h-4"}),"Delete Account"]})]})]})]}),P&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 max-w-md w-full",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Delete Account"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"This action cannot be undone. All your dreams, reflections, and data will be permanently deleted."}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Jt,{htmlFor:"delete-confirm",className:"text-sm text-muted-foreground",children:'Type "DELETE" to confirm'}),d.jsx("input",{id:"delete-confirm",type:"text",value:D,onChange:ke=>A(ke.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-md text-foreground",placeholder:"DELETE"})]}),G&&d.jsx("div",{className:"text-red-500 text-sm mt-2",children:G}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx(me,{variant:"outline",onClick:()=>{R(!1),A(""),se("")},className:"flex-1",children:"Cancel"}),d.jsx(me,{variant:"destructive",onClick:je,disabled:D!=="DELETE"||W,className:"flex-1",children:W?"Deleting...":"Delete Account"})]})]})})]})}const z$=()=>{const t=li();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function B$(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:w,...E}=p,y=(f==null?void 0:f[t][l])||a,T=g.useMemo(()=>E,Object.values(E));return d.jsx(y.Provider,{value:T,children:w})}function h(p,f){const w=(f==null?void 0:f[t][l])||a,E=g.useContext(w);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,W$(s,...e)]}function W$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Fp="rovingFocusGroup.onEntryFocus",H$={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[Pg,mP,q$]=Cy(_f),[K$,gP]=B$(_f,[q$]),[G$,Q$]=K$(_f),yP=g.forwardRef((t,e)=>d.jsx(Pg.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Pg.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Y$,{...t,ref:e})})}));yP.displayName=_f;var Y$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,f=g.useRef(null),w=Je(e,f),E=qv(i),[y=null,T]=zi({prop:o,defaultProp:a,onChange:l}),[x,v]=g.useState(!1),S=pn(u),k=mP(n),j=g.useRef(!1),[O,C]=g.useState(0);return g.useEffect(()=>{const b=f.current;if(b)return b.addEventListener(Fp,S),()=>b.removeEventListener(Fp,S)},[S]),d.jsx(G$,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(b=>T(b),[T]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(b=>b+1),[]),onFocusableItemRemove:g.useCallback(()=>C(b=>b-1),[]),children:d.jsx(Te.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...p,ref:w,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{j.current=!0}),onFocus:he(t.onFocus,b=>{const I=!j.current;if(b.target===b.currentTarget&&I&&!x){const P=new CustomEvent(Fp,H$);if(b.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=k().filter(G=>G.focusable),D=R.find(G=>G.active),A=R.find(G=>G.id===y),re=[D,A,...R].filter(Boolean).map(G=>G.ref.current);xP(re,h)}}j.current=!1}),onBlur:he(t.onBlur,()=>v(!1))})})}),vP="RovingFocusGroupItem",wP=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Tc(),l=i||a,u=Q$(vP,n),h=u.currentTabStopId===l,p=mP(n),{onFocusableItemAdd:f,onFocusableItemRemove:w}=u;return g.useEffect(()=>{if(r)return f(),()=>w()},[r,f,w]),d.jsx(Pg.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(Te.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:he(t.onMouseDown,E=>{r?u.onItemFocus(l):E.preventDefault()}),onFocus:he(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:he(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){u.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const y=Z$(E,u.orientation,u.dir);if(y!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let x=p().filter(v=>v.focusable).map(v=>v.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const v=x.indexOf(E.currentTarget);x=u.loop?e7(x,v+1):x.slice(v+1)}setTimeout(()=>xP(x))}})})})});wP.displayName=vP;var X$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function J$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Z$(t,e,n){const r=J$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return X$[r]}function xP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function e7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var t7=yP,n7=wP,Qv="Tabs",[r7,I7]=Ca(Qv,[gP]),_P=gP(),[s7,Yv]=r7(Qv),EP=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=qv(a),[p,f]=zi({prop:r,onChange:s,defaultProp:i});return d.jsx(s7,{scope:n,baseId:Tc(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:l,children:d.jsx(Te.div,{dir:h,"data-orientation":o,...u,ref:e})})});EP.displayName=Qv;var TP="TabsList",SP=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Yv(TP,n),o=_P(n);return d.jsx(t7,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});SP.displayName=TP;var bP="TabsTrigger",CP=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Yv(bP,n),a=_P(n),l=PP(o.baseId,r),u=kP(o.baseId,r),h=r===o.value;return d.jsx(n7,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Te.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:he(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:he(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:he(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});CP.displayName=bP;var IP="TabsContent",NP=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Yv(IP,n),l=PP(a.baseId,r),u=kP(a.baseId,r),h=r===a.value,p=g.useRef(h);return g.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),d.jsx(_c,{present:s||h,children:({present:f})=>d.jsx(Te.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});NP.displayName=IP;function PP(t,e){return`${t}-trigger-${e}`}function kP(t,e){return`${t}-content-${e}`}var i7=EP,AP=SP,RP=CP,DP=NP;const o7=i7,jP=g.forwardRef(({className:t,...e},n)=>d.jsx(AP,{ref:n,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));jP.displayName=AP.displayName;const kg=g.forwardRef(({className:t,...e},n)=>d.jsx(RP,{ref:n,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));kg.displayName=RP.displayName;const Ag=g.forwardRef(({className:t,...e},n)=>d.jsx(DP,{ref:n,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ag.displayName=DP.displayName;var a7="Separator",x1="horizontal",l7=["horizontal","vertical"],OP=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=x1,...s}=t,i=c7(r)?r:x1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Te.div,{"data-orientation":i,...a,...s,ref:e})});OP.displayName=a7;function c7(t){return l7.includes(t)}var MP=OP;const LP=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(MP,{ref:s,decorative:n,orientation:e,className:Be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));LP.displayName=MP.displayName;function Du({size:t="md",className:e=""}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return d.jsx(M2,{className:`animate-spin text-muted-foreground ${n[t]} ${e}`})}const u7=()=>d.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[d.jsx("path",{d:"M47.5 24.5C47.5 22.6 47.3 20.8 46.9 19H24V29.1H37.4C36.8 32.1 34.8 34.6 32 36.1V42.1H39.6C44.1 38.1 47.5 32.1 47.5 24.5Z",fill:"#4285F4"}),d.jsx("path",{d:"M24 48C30.6 48 36.1 45.9 39.6 42.1L32 36.1C30.2 37.2 27.9 37.9 24 37.9C17.7 37.9 12.2 33.8 10.3 28.3H2.4V34.5C5.9 41.1 14.2 48 24 48Z",fill:"#34A853"}),d.jsx("path",{d:"M10.3 28.3C9.8 27.2 9.5 26 9.5 24.8C9.5 23.6 9.8 22.4 10.3 21.3V15.1H2.4C0.8 18.1 0 21.4 0 24.8C0 28.2 0.8 31.5 2.4 34.5L10.3 28.3Z",fill:"#FBBC05"}),d.jsx("path",{d:"M24 9.6C27.7 9.6 30.3 11.1 31.7 12.4L39.7 5.1C36.1 1.8 30.6 0 24 0C14.2 0 5.9 6.9 2.4 15.1L10.3 21.3C12.2 15.8 17.7 9.6 24 9.6Z",fill:"#EA4335"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_17_40",children:d.jsx("rect",{width:"48",height:"48",fill:"white"})})})]});function d7(){const{user:t,loading:e,signInWithGoogle:n,signUpWithEmail:r,signInWithEmail:s,sendVerificationEmail:i,resetPassword:o}=so(),a=bc(),[l,u]=g.useState("signin"),[h,p]=g.useState(!1),[f,w]=g.useState(!1),[E,y]=g.useState(!1),[T,x]=g.useState(""),[v,S]=g.useState(""),[k,j]=g.useState(""),[O,C]=g.useState(""),[b,I]=g.useState(""),[P,R]=g.useState(""),[D,A]=g.useState(""),[W,re]=g.useState(""),[G,se]=g.useState(""),[L,z]=g.useState(!1),[X,q]=g.useState(!1),[J,ee]=g.useState(""),[oe,be]=g.useState(!1);g.useEffect(()=>{!e&&t&&(t.email&&!t.emailVerified&&!t.email.includes("@gmail.com")&&!t.email.includes("@google.com")?(q(!0),ee(t.email)):a("/",{replace:!0}))},[t,e,a]);const we=async()=>{y(!0),x("");try{await n()}catch(K){x(K.message||"Failed to sign in with Google")}finally{y(!1)}},ne=async K=>{if(K.preventDefault(),!k||!O){x("Please fill in all fields");return}y(!0),x("");try{const ue=await s(k,O);ue.email&&!ue.emailVerified&&!ue.email.includes("@gmail.com")&&!ue.email.includes("@google.com")&&(q(!0),ee(ue.email),x("Please verify your email address before signing in. Check your inbox for a verification link."))}catch(ue){ue.code==="auth/user-not-found"?x("No account found with this email address. Please sign up first."):ue.code==="auth/wrong-password"?x("Incorrect password. Please try again."):ue.code==="auth/user-disabled"?x("This account has been disabled. Please contact support."):x(ue.message||"Failed to sign in")}finally{y(!1)}},_e=async K=>{if(K.preventDefault(),!b||!P||!D||!W){x("Please fill in all fields");return}if(D!==W){x("Passwords do not match");return}if(D.length<6){x("Password must be at least 6 characters long");return}y(!0),x("");try{await r(P,D,b),S("Account created successfully! Please check your email for a verification link."),q(!0),ee(P),I(""),R(""),A(""),re("")}catch(ue){ue.code==="auth/email-already-in-use"?x("An account with this email already exists. Please sign in instead."):ue.code==="auth/invalid-email"?x("Please enter a valid email address."):ue.code==="auth/weak-password"?x("Password is too weak. Please choose a stronger password."):x(ue.message||"Failed to create account")}finally{y(!1)}},je=async K=>{if(K.preventDefault(),!G){x("Please enter your email address");return}y(!0),x("");try{await o(G),S("Password reset email sent! Check your inbox."),z(!1)}catch(ue){ue.code==="auth/user-not-found"?x("No account found with this email address."):ue.code==="auth/invalid-email"?x("Please enter a valid email address."):x(ue.message||"Failed to send reset email")}finally{y(!1)}},ye=async()=>{be(!0),x("");try{await i(),S("Verification email sent! Please check your inbox.")}catch(K){x(K.message||"Failed to send verification email")}finally{be(!1)}},fe=()=>{x(""),S("")};return e?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(Du,{})}):X?d.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0e0e0e] to-[#1a1a1a] overflow-hidden px-4 font-inter",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-60 h-60 bg-pink-500/10 rounded-full blur-3xl animate-blob z-0"}),d.jsxs("div",{className:"relative z-10 max-w-md w-full mx-auto bg-black/60 backdrop-blur-md rounded-3xl border border-gray-800/40 shadow-xl shadow-gray-900/40 px-8 py-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(mo,{className:"w-8 h-8 text-blue-400"})}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Verify Your Email"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"We've sent a verification link to"}),d.jsx("p",{className:"text-white font-medium mt-1",children:J})]}),T&&d.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[d.jsx(Rd,{className:"w-4 h-4"}),T]}),v&&d.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-2 text-green-400 text-sm",children:[d.jsx(Jl,{className:"w-4 h-4"}),v]}),d.jsxs("div",{className:"space-y-4 text-center",children:[d.jsxs("div",{className:"text-gray-300 text-sm leading-relaxed",children:[d.jsx("p",{children:"Please check your email and click the verification link to activate your account."}),d.jsx("p",{className:"mt-2",children:"Didn't receive the email? Check your spam folder or request a new one."})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(me,{onClick:ye,disabled:oe,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:oe?d.jsxs(d.Fragment,{children:[d.jsx(_S,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):d.jsxs(d.Fragment,{children:[d.jsx(mo,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]})}),d.jsx(me,{onClick:()=>{q(!1),fe()},variant:"ghost",className:"w-full text-gray-400 hover:text-white",children:"Back to Sign In"})]})]})]}),d.jsx("div",{className:"absolute bottom-0 right-0 w-72 h-40 bg-white/5 rounded-full blur-3xl z-0"}),d.jsx("style",{children:`
          @keyframes blob {
            0%, 100% { transform: scale(1) translateY(0); }
            50% { transform: scale(1.08) translateY(12px); }
          }
          .animate-blob { animation: blob 8s ease-in-out infinite; }
        `})]}):d.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0e0e0e] to-[#1a1a1a] overflow-hidden px-4 font-inter",children:[d.jsx("div",{className:"absolute -top-20 -left-20 w-60 h-60 bg-pink-500/10 rounded-full blur-3xl animate-blob z-0"}),d.jsxs("div",{className:"relative z-10 max-w-md w-full mx-auto bg-black/60 backdrop-blur-md rounded-3xl border border-gray-800/40 shadow-xl shadow-gray-900/40 px-8 py-8",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("img",{src:"/logo.png",alt:"Manifestor Logo",className:"mx-auto mb-4",style:{maxWidth:48,width:"100%",height:"auto"}}),d.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-white mb-2",children:"Manifestor"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your journey, beautifully organized"})]}),T&&d.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[d.jsx(Rd,{className:"w-4 h-4"}),T]}),v&&d.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-2 text-green-400 text-sm",children:[d.jsx(Jl,{className:"w-4 h-4"}),v]}),L?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Reset Password"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Enter your email to receive a reset link"})]}),d.jsxs("form",{onSubmit:je,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"reset-email",className:"text-gray-300",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"reset-email",type:"email",placeholder:"Enter your email",value:G,onChange:K=>se(K.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0})]})]}),d.jsx(me,{type:"submit",className:"w-full bg-white text-black hover:bg-gray-100",disabled:E,children:E?d.jsx(Du,{}):"Send Reset Link"}),d.jsx(me,{type:"button",variant:"ghost",className:"w-full text-gray-400 hover:text-white",onClick:()=>{z(!1),fe()},children:"Back to Sign In"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(me,{onClick:we,disabled:E,className:"w-full bg-white text-black font-medium py-3 rounded-xl shadow-md hover:bg-gray-100 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-white/40",children:[d.jsx(u7,{})," Continue with Google"]}),d.jsxs("div",{className:"relative my-6",children:[d.jsx(LP,{className:"bg-gray-700"}),d.jsx("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/60 px-4 text-gray-400 text-sm",children:"or continue with email"})]}),d.jsxs(o7,{value:l,onValueChange:K=>{u(K),fe()},className:"w-full",children:[d.jsxs(jP,{className:"grid w-full grid-cols-2 bg-gray-900/50",children:[d.jsx(kg,{value:"signin",className:"text-gray-400 data-[state=active]:text-white data-[state=active]:bg-gray-800",children:"Sign In"}),d.jsx(kg,{value:"signup",className:"text-gray-400 data-[state=active]:text-white data-[state=active]:bg-gray-800",children:"Sign Up"})]}),d.jsx(Ag,{value:"signin",className:"space-y-4 mt-4",children:d.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signin-email",className:"text-gray-300",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"signin-email",type:"email",placeholder:"Enter your email",value:k,onChange:K=>j(K.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signin-password",className:"text-gray-300",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"signin-password",type:h?"text":"password",placeholder:"Enter your password",value:O,onChange:K=>C(K.target.value),className:"pl-10 pr-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0}),d.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300",children:h?d.jsx(dp,{className:"w-4 h-4"}):d.jsx(hp,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(me,{type:"button",variant:"ghost",className:"text-gray-400 hover:text-white text-sm p-0 h-auto",onClick:()=>z(!0),children:"Forgot password?"})}),d.jsx(me,{type:"submit",className:"w-full bg-white text-black hover:bg-gray-100",disabled:E,children:E?d.jsx(Du,{}):"Sign In"})]})}),d.jsx(Ag,{value:"signup",className:"space-y-4 mt-4",children:d.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signup-name",className:"text-gray-300",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"signup-name",type:"text",placeholder:"Enter your full name",value:b,onChange:K=>I(K.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signup-email",className:"text-gray-300",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"signup-email",type:"email",placeholder:"Enter your email",value:P,onChange:K=>R(K.target.value),className:"pl-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signup-password",className:"text-gray-300",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"signup-password",type:h?"text":"password",placeholder:"Create a password",value:D,onChange:K=>A(K.target.value),className:"pl-10 pr-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0}),d.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300",children:h?d.jsx(dp,{className:"w-4 h-4"}):d.jsx(hp,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"signup-confirm-password",className:"text-gray-300",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),d.jsx(wt,{id:"signup-confirm-password",type:f?"text":"password",placeholder:"Confirm your password",value:W,onChange:K=>re(K.target.value),className:"pl-10 pr-10 bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500",required:!0}),d.jsx("button",{type:"button",onClick:()=>w(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300",children:f?d.jsx(dp,{className:"w-4 h-4"}):d.jsx(hp,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"text-xs text-gray-400 text-center",children:"By signing up, you agree to verify your email address"}),d.jsx(me,{type:"submit",className:"w-full bg-white text-black hover:bg-gray-100",disabled:E,children:E?d.jsx(Du,{}):"Create Account"})]})})]})]})]}),d.jsx("div",{className:"absolute bottom-0 right-0 w-72 h-40 bg-white/5 rounded-full blur-3xl z-0"}),d.jsx("style",{children:`
        @keyframes blob {
          0%, 100% { transform: scale(1) translateY(0); }
          50% { transform: scale(1.08) translateY(12px); }
        }
        .animate-blob { animation: blob 8s ease-in-out infinite; }
      `})]})}const h7=new JO,f7=()=>{const{user:t,loading:e}=so(),n=li(),r=bc();return g.useEffect(()=>{t&&n.pathname==="/intro"&&r("/",{replace:!0})},[t,n,r]),e?null:d.jsx(H4,{children:t?d.jsxs(ar,{element:d.jsx(cM,{}),children:[d.jsx(ar,{index:!0,element:d.jsx(AU,{})}),d.jsx(ar,{path:"/manifest",element:d.jsx(DU,{})}),d.jsx(ar,{path:"/reflection",element:d.jsx($U,{})}),d.jsx(ar,{path:"/insights",element:d.jsx(zU,{})}),d.jsx(ar,{path:"/settings",element:d.jsx($$,{})}),d.jsx(ar,{path:"*",element:d.jsx(z$,{})})]}):d.jsxs(d.Fragment,{children:[d.jsx(ar,{path:"/intro",element:d.jsx(d7,{})}),d.jsx(ar,{path:"*",element:d.jsx(z4,{to:"/intro",replace:!0})})]})})},p7=()=>d.jsx(e4,{client:h7,children:d.jsxs(PO,{children:[d.jsx(ID,{}),d.jsx(nj,{}),d.jsx(Z4,{children:d.jsx(f7,{})})]})});WT(document.getElementById("root")).render(d.jsx(p7,{}));
